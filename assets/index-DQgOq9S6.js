function Mq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qw={exports:{}},rm={};var nR;function Lq(){if(nR)return rm;nR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return rm.Fragment=e,rm.jsx=n,rm.jsxs=n,rm}var rR;function Vq(){return rR||(rR=1,qw.exports=Lq()),qw.exports}var C=Vq(),Fw={exports:{}},xt={};var iR;function zq(){if(iR)return xt;iR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=b&&ee[b]||ee["@@iterator"],typeof ee=="function"?ee:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function D(ee,Se,De){this.props=ee,this.context=Se,this.refs=O,this.updater=De||T}D.prototype.isReactComponent={},D.prototype.setState=function(ee,Se){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,Se,"setState")},D.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function B(){}B.prototype=D.prototype;function M(ee,Se,De){this.props=ee,this.context=Se,this.refs=O,this.updater=De||T}var Y=M.prototype=new B;Y.constructor=M,A(Y,D.prototype),Y.isPureReactComponent=!0;var W=Array.isArray;function X(){}var j={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(ee,Se,De){var je=De.ref;return{$$typeof:t,type:ee,key:Se,ref:je!==void 0?je:null,props:De}}function G(ee,Se){return z(ee.type,Se,ee.props)}function q(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function H(ee){var Se={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(De){return Se[De]})}var $=/\/+/g;function qe(ee,Se){return typeof ee=="object"&&ee!==null&&ee.key!=null?H(""+ee.key):Se.toString(36)}function Xe(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(X,X):(ee.status="pending",ee.then(function(Se){ee.status==="pending"&&(ee.status="fulfilled",ee.value=Se)},function(Se){ee.status==="pending"&&(ee.status="rejected",ee.reason=Se)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function de(ee,Se,De,je,nt){var ut=typeof ee;(ut==="undefined"||ut==="boolean")&&(ee=null);var Ye=!1;if(ee===null)Ye=!0;else switch(ut){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(ee.$$typeof){case t:case e:Ye=!0;break;case m:return Ye=ee._init,de(Ye(ee._payload),Se,De,je,nt)}}if(Ye)return nt=nt(ee),Ye=je===""?"."+qe(ee,0):je,W(nt)?(De="",Ye!=null&&(De=Ye.replace($,"$&/")+"/"),de(nt,Se,De,"",function(mt){return mt})):nt!=null&&(q(nt)&&(nt=G(nt,De+(nt.key==null||ee&&ee.key===nt.key?"":(""+nt.key).replace($,"$&/")+"/")+Ye)),Se.push(nt)),1;Ye=0;var un=je===""?".":je+":";if(W(ee))for(var ue=0;ue<ee.length;ue++)je=ee[ue],ut=un+qe(je,ue),Ye+=de(je,Se,De,ut,nt);else if(ue=x(ee),typeof ue=="function")for(ee=ue.call(ee),ue=0;!(je=ee.next()).done;)je=je.value,ut=un+qe(je,ue++),Ye+=de(je,Se,De,ut,nt);else if(ut==="object"){if(typeof ee.then=="function")return de(Xe(ee),Se,De,je,nt);throw Se=String(ee),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function Pe(ee,Se,De){if(ee==null)return ee;var je=[],nt=0;return de(ee,je,"","",function(ut){return Se.call(De,ut,nt++)}),je}function xe(ee){if(ee._status===-1){var Se=ee._result;Se=Se(),Se.then(function(De){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=De)},function(De){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=De)}),ee._status===-1&&(ee._status=0,ee._result=Se)}if(ee._status===1)return ee._result.default;throw ee._result}var Te=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(Se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},tt={map:Pe,forEach:function(ee,Se,De){Pe(ee,function(){Se.apply(this,arguments)},De)},count:function(ee){var Se=0;return Pe(ee,function(){Se++}),Se},toArray:function(ee){return Pe(ee,function(Se){return Se})||[]},only:function(ee){if(!q(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return xt.Activity=p,xt.Children=tt,xt.Component=D,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=M,xt.StrictMode=r,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,xt.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return j.H.useMemoCache(ee)}},xt.cache=function(ee){return function(){return ee.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(ee,Se,De){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var je=A({},ee.props),nt=ee.key;if(Se!=null)for(ut in Se.key!==void 0&&(nt=""+Se.key),Se)!L.call(Se,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Se.ref===void 0||(je[ut]=Se[ut]);var ut=arguments.length-2;if(ut===1)je.children=De;else if(1<ut){for(var Ye=Array(ut),un=0;un<ut;un++)Ye[un]=arguments[un+2];je.children=Ye}return z(ee.type,nt,je)},xt.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},xt.createElement=function(ee,Se,De){var je,nt={},ut=null;if(Se!=null)for(je in Se.key!==void 0&&(ut=""+Se.key),Se)L.call(Se,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(nt[je]=Se[je]);var Ye=arguments.length-2;if(Ye===1)nt.children=De;else if(1<Ye){for(var un=Array(Ye),ue=0;ue<Ye;ue++)un[ue]=arguments[ue+2];nt.children=un}if(ee&&ee.defaultProps)for(je in Ye=ee.defaultProps,Ye)nt[je]===void 0&&(nt[je]=Ye[je]);return z(ee,ut,nt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(ee){return{$$typeof:u,render:ee}},xt.isValidElement=q,xt.lazy=function(ee){return{$$typeof:m,_payload:{_status:-1,_result:ee},_init:xe}},xt.memo=function(ee,Se){return{$$typeof:d,type:ee,compare:Se===void 0?null:Se}},xt.startTransition=function(ee){var Se=j.T,De={};j.T=De;try{var je=ee(),nt=j.S;nt!==null&&nt(De,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(X,Te)}catch(ut){Te(ut)}finally{Se!==null&&De.types!==null&&(Se.types=De.types),j.T=Se}},xt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},xt.use=function(ee){return j.H.use(ee)},xt.useActionState=function(ee,Se,De){return j.H.useActionState(ee,Se,De)},xt.useCallback=function(ee,Se){return j.H.useCallback(ee,Se)},xt.useContext=function(ee){return j.H.useContext(ee)},xt.useDebugValue=function(){},xt.useDeferredValue=function(ee,Se){return j.H.useDeferredValue(ee,Se)},xt.useEffect=function(ee,Se){return j.H.useEffect(ee,Se)},xt.useEffectEvent=function(ee){return j.H.useEffectEvent(ee)},xt.useId=function(){return j.H.useId()},xt.useImperativeHandle=function(ee,Se,De){return j.H.useImperativeHandle(ee,Se,De)},xt.useInsertionEffect=function(ee,Se){return j.H.useInsertionEffect(ee,Se)},xt.useLayoutEffect=function(ee,Se){return j.H.useLayoutEffect(ee,Se)},xt.useMemo=function(ee,Se){return j.H.useMemo(ee,Se)},xt.useOptimistic=function(ee,Se){return j.H.useOptimistic(ee,Se)},xt.useReducer=function(ee,Se,De){return j.H.useReducer(ee,Se,De)},xt.useRef=function(ee){return j.H.useRef(ee)},xt.useState=function(ee){return j.H.useState(ee)},xt.useSyncExternalStore=function(ee,Se,De){return j.H.useSyncExternalStore(ee,Se,De)},xt.useTransition=function(){return j.H.useTransition()},xt.version="19.2.3",xt}var aR;function Qd(){return aR||(aR=1,Fw.exports=zq()),Fw.exports}var E=Qd();const Uq=bs(E),Bq=Mq({__proto__:null,default:Uq},[E]);var $w={exports:{}},im={},Kw={exports:{}},Hw={};var oR;function qq(){return oR||(oR=1,(function(t){function e(de,Pe){var xe=de.length;de.push(Pe);e:for(;0<xe;){var Te=xe-1>>>1,tt=de[Te];if(0<i(tt,Pe))de[Te]=Pe,de[xe]=tt,xe=Te;else break e}}function n(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var Pe=de[0],xe=de.pop();if(xe!==Pe){de[0]=xe;e:for(var Te=0,tt=de.length,ee=tt>>>1;Te<ee;){var Se=2*(Te+1)-1,De=de[Se],je=Se+1,nt=de[je];if(0>i(De,xe))je<tt&&0>i(nt,De)?(de[Te]=nt,de[je]=xe,Te=je):(de[Te]=De,de[Se]=xe,Te=Se);else if(je<tt&&0>i(nt,xe))de[Te]=nt,de[je]=xe,Te=je;else break e}}return Pe}function i(de,Pe){var xe=de.sortIndex-Pe.sortIndex;return xe!==0?xe:de.id-Pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],m=1,p=null,b=3,x=!1,T=!1,A=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(de){for(var Pe=n(d);Pe!==null;){if(Pe.callback===null)r(d);else if(Pe.startTime<=de)r(d),Pe.sortIndex=Pe.expirationTime,e(f,Pe);else break;Pe=n(d)}}function W(de){if(A=!1,Y(de),!T)if(n(f)!==null)T=!0,X||(X=!0,H());else{var Pe=n(d);Pe!==null&&Xe(W,Pe.startTime-de)}}var X=!1,j=-1,L=5,z=-1;function G(){return O?!0:!(t.unstable_now()-z<L)}function q(){if(O=!1,X){var de=t.unstable_now();z=de;var Pe=!0;try{e:{T=!1,A&&(A=!1,B(j),j=-1),x=!0;var xe=b;try{t:{for(Y(de),p=n(f);p!==null&&!(p.expirationTime>de&&G());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,b=p.priorityLevel;var tt=Te(p.expirationTime<=de);if(de=t.unstable_now(),typeof tt=="function"){p.callback=tt,Y(de),Pe=!0;break t}p===n(f)&&r(f),Y(de)}else r(f);p=n(f)}if(p!==null)Pe=!0;else{var ee=n(d);ee!==null&&Xe(W,ee.startTime-de),Pe=!1}}break e}finally{p=null,b=xe,x=!1}Pe=void 0}}finally{Pe?H():X=!1}}}var H;if(typeof M=="function")H=function(){M(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,qe=$.port2;$.port1.onmessage=q,H=function(){qe.postMessage(null)}}else H=function(){D(q,0)};function Xe(de,Pe){j=D(function(){de(t.unstable_now())},Pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(de){switch(b){case 1:case 2:case 3:var Pe=3;break;default:Pe=b}var xe=b;b=Pe;try{return de()}finally{b=xe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(de,Pe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var xe=b;b=de;try{return Pe()}finally{b=xe}},t.unstable_scheduleCallback=function(de,Pe,xe){var Te=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Te+xe:Te):xe=Te,de){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=xe+tt,de={id:m++,callback:Pe,priorityLevel:de,startTime:xe,expirationTime:tt,sortIndex:-1},xe>Te?(de.sortIndex=xe,e(d,de),n(f)===null&&de===n(d)&&(A?(B(j),j=-1):A=!0,Xe(W,xe-Te))):(de.sortIndex=tt,e(f,de),T||x||(T=!0,X||(X=!0,H()))),de},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(de){var Pe=b;return function(){var xe=b;b=Pe;try{return de.apply(this,arguments)}finally{b=xe}}}})(Hw)),Hw}var sR;function Fq(){return sR||(sR=1,Kw.exports=qq()),Kw.exports}var Gw={exports:{}},li={};var lR;function $q(){if(lR)return li;lR=1;var t=Qd();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,li.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},li.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},li.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},li.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},li.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},li.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},li.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},li.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},li.requestFormReset=function(f){r.d.r(f)},li.unstable_batchedUpdates=function(f,d){return f(d)},li.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},li.useFormStatus=function(){return l.H.useHostTransitionStatus()},li.version="19.2.3",li}var uR;function rL(){if(uR)return Gw.exports;uR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gw.exports=$q(),Gw.exports}var cR;function Kq(){if(cR)return im;cR=1;var t=Fq(),e=Qd(),n=rL();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return f(v),a;if(w===h)return f(v),s;w=w.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=w;else{for(var R=!1,U=v.child;U;){if(U===c){R=!0,c=v,h=w;break}if(U===h){R=!0,h=v,c=w;break}U=U.sibling}if(!R){for(U=w.child;U;){if(U===c){R=!0,c=w,h=v;break}if(U===h){R=!0,h=w,c=v;break}U=U.sibling}if(!R)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function qe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case M:return a.displayName||"Context";case B:return(a._context.displayName||"Context")+".Consumer";case Y:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return s=a.displayName||null,s!==null?s:qe(a.type)||"Memo";case L:s=a._payload,a=a._init;try{return qe(a(s))}catch{}}return null}var Xe=Array.isArray,de=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Te=[],tt=-1;function ee(a){return{current:a}}function Se(a){0>tt||(a.current=Te[tt],Te[tt]=null,tt--)}function De(a,s){tt++,Te[tt]=a.current,a.current=s}var je=ee(null),nt=ee(null),ut=ee(null),Ye=ee(null);function un(a,s){switch(De(ut,s),De(nt,a),De(je,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?TC(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=TC(s),a=AC(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Se(je),De(je,a)}function ue(){Se(je),Se(nt),Se(ut)}function mt(a){a.memoizedState!==null&&De(Ye,a);var s=je.current,c=AC(s,a.type);s!==c&&(De(nt,a),De(je,c))}function yt(a){nt.current===a&&(Se(je),Se(nt)),Ye.current===a&&(Se(Ye),Jh._currentValue=xe)}var Ae,pn;function It(a){if(Ae===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ae=s&&s[1]||"",pn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+a+pn}var gn=!1;function jn(a,s){if(!a||gn)return"";gn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(Ee){var be=Ee}Reflect.construct(a,[],Ne)}else{try{Ne.call()}catch(Ee){be=Ee}a.call(Ne.prototype)}}else{try{throw Error()}catch(Ee){be=Ee}(Ne=a())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(Ee){if(Ee&&be&&typeof Ee.stack=="string")return[Ee.stack,be.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),R=w[0],U=w[1];if(R&&U){var Z=R.split(`
`),ye=U.split(`
`);for(v=h=0;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ye.length&&!ye[v].includes("DetermineComponentFrameRoot");)v++;if(h===Z.length||v===ye.length)for(h=Z.length-1,v=ye.length-1;1<=h&&0<=v&&Z[h]!==ye[v];)v--;for(;1<=h&&0<=v;h--,v--)if(Z[h]!==ye[v]){if(h!==1||v!==1)do if(h--,v--,0>v||Z[h]!==ye[v]){var Oe=`
`+Z[h].replace(" at new "," at ");return a.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",a.displayName)),Oe}while(1<=h&&0<=v);break}}}finally{gn=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?It(c):""}function vi(a,s){switch(a.tag){case 26:case 27:case 5:return It(a.type);case 16:return It("Lazy");case 13:return a.child!==s&&s!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return jn(a.type,!1);case 11:return jn(a.type.render,!1);case 1:return jn(a.type,!0);case 31:return It("Activity");default:return""}}function Uo(a){try{var s="",c=null;do s+=vi(a,c),c=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Hn=Object.prototype.hasOwnProperty,Ln=t.unstable_scheduleCallback,xr=t.unstable_cancelCallback,gf=t.unstable_shouldYield,Bo=t.unstable_requestPaint,Dr=t.unstable_now,oa=t.unstable_getCurrentPriorityLevel,sa=t.unstable_ImmediatePriority,la=t.unstable_UserBlockingPriority,Va=t.unstable_NormalPriority,_s=t.unstable_LowPriority,Il=t.unstable_IdlePriority,ws=t.log,za=t.unstable_setDisableYieldValue,ri=null,Zn=null;function Jn(a){if(typeof ws=="function"&&za(a),Zn&&typeof Zn.setStrictMode=="function")try{Zn.setStrictMode(ri,a)}catch{}}var Ge=Math.clz32?Math.clz32:xs,qo=Math.log,ki=Math.LN2;function xs(a){return a>>>=0,a===0?32:31-(qo(a)/ki|0)|0}var Fe=256,yo=262144,Vn=4194304;function Ni(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ua(a,s,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,w=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var U=h&134217727;return U!==0?(h=U&~w,h!==0?v=Ni(h):(R&=U,R!==0?v=Ni(R):c||(c=U&~a,c!==0&&(v=Ni(c))))):(U=h&~w,U!==0?v=Ni(U):R!==0?v=Ni(R):c||(c=h&~a,c!==0&&(v=Ni(c)))),v===0?0:s!==0&&s!==v&&(s&w)===0&&(w=v&-v,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:v}function bi(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function _h(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(){var a=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),a}function Wr(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Di(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Zu(a,s,c,h,v,w){var R=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var U=a.entanglements,Z=a.expirationTimes,ye=a.hiddenUpdates;for(c=R&~c;0<c;){var Oe=31-Ge(c),Ne=1<<Oe;U[Oe]=0,Z[Oe]=-1;var be=ye[Oe];if(be!==null)for(ye[Oe]=null,Oe=0;Oe<be.length;Oe++){var Ee=be[Oe];Ee!==null&&(Ee.lane&=-536870913)}c&=~Ne}h!==0&&Ua(a,h,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(R&~s))}function Ua(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-Ge(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function Xt(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-Ge(c),v=1<<h;v&s|a[h]&s&&(a[h]|=s),c&=~v}}function In(a,s){var c=s&-s;return c=(c&42)!==0?1:Es(c),(c&(a.suspendedLanes|s))!==0?0:c}function Es(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Mi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ss(){var a=Pe.p;return a!==0?a:(a=window.event,a===void 0?32:YC(a.type))}function ii(a,s){var c=Pe.p;try{return Pe.p=a,s()}finally{Pe.p=c}}var ca=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ca,xn="__reactProps$"+ca,Er="__reactContainer$"+ca,vo="__reactEvents$"+ca,wh="__reactListeners$"+ca,fa="__reactHandles$"+ca,Ju="__reactResources$"+ca,Mr="__reactMarker$"+ca;function Ts(a){delete a[Zt],delete a[xn],delete a[vo],delete a[wh],delete a[fa]}function ji(a){var s=a[Zt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Er]||c[Zt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=NC(a);a!==null;){if(c=a[Zt])return c;a=NC(a)}return s}a=c,c=a.parentNode}return null}function Bt(a){if(a=a[Zt]||a[Er]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function er(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function lr(a){var s=a[Ju];return s||(s=a[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zn(a){a[Mr]=!0}var Ba=new Set,Fo={};function Li(a,s){Vi(a,s),Vi(a+"Capture",s)}function Vi(a,s){for(Fo[a]=s,a=0;a<s.length;a++)Ba.add(s[a])}var da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},$o={};function ec(a){return Hn.call($o,a)?!0:Hn.call(Ol,a)?!1:da.test(a)?$o[a]=!0:(Ol[a]=!0,!1)}function Et(a,s,c){if(ec(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function ai(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Un(a,s,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+h)}}function Bn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zi(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pl(a,s,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(R){c=""+R,w.call(this,R)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ft(a){if(!a._valueTracker){var s=zi(a)?"checked":"value";a._valueTracker=Pl(a,s,""+a[s])}}function Ko(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=zi(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function kt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ha=/[\n"\\]/g;function ur(a){return a.replace(ha,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ma(a,s,c,h,v,w,R,U){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),s!=null?R==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Bn(s)):a.value!==""+Bn(s)&&(a.value=""+Bn(s)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),s!=null?As(a,R,Bn(s)):c!=null?As(a,R,Bn(c)):h!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Bn(U):a.removeAttribute("name")}function Cl(a,s,c,h,v,w,R,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){Ft(a);return}c=c!=null?""+Bn(c):"",s=s!=null?""+Bn(s):c,U||s===a.value||(a.value=s),a.defaultValue=s}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=U?a.checked:!!h,a.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),Ft(a)}function As(a,s,c){s==="number"&&kt(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function pa(a,s,c,h){if(a=a.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=s.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Bn(c),s=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function tc(a,s,c){if(s!=null&&(s=""+Bn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Bn(c):""}function ga(a,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(Xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=Bn(s),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Ft(a)}function Yr(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rt(a,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,c):typeof c!="number"||c===0||vf.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Rl(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in s)h=s[v],s.hasOwnProperty(v)&&c[v]!==h&&Rt(a,v,h)}else for(var w in s)s.hasOwnProperty(w)&&Rt(a,w,s[w])}function kl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(a){return Gn.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function oi(){}var Ui=null;function _i(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bo=null,Jt=null;function jr(a){var s=Bt(a);if(s&&(a=s.stateNode)){var c=a[xn]||null;e:switch(a=s.stateNode,s.type){case"input":if(ma(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ur(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var v=h[xn]||null;if(!v)throw Error(r(90));ma(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===a.form&&Ko(h)}break e;case"textarea":tc(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&pa(a,!!c.multiple,s,!1)}}}var qa=!1;function Bi(a,s,c){if(qa)return a(s,c);qa=!0;try{var h=a(s);return h}finally{if(qa=!1,(bo!==null||Jt!==null)&&(Kg(),bo&&(s=bo,a=Jt,Jt=bo=null,jr(s),a)))for(s=0;s<a.length;s++)jr(a[s])}}function wi(a,s){var c=a.stateNode;if(c===null)return null;var h=c[xn]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(tr)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Is=!1}var qi=null,Nl=null,_o=null;function wo(){if(_o)return _o;var a,s=Nl,c=s.length,h,v="value"in qi?qi.value:qi.textContent,w=v.length;for(a=0;a<c&&s[a]===v[a];a++);var R=c-a;for(h=1;h<=R&&s[c-h]===v[w-h];h++);return _o=v.slice(a,1<h?1-h:void 0)}function xo(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Fa(){return!0}function va(){return!1}function qn(a){function s(c,h,v,w,R){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Fa:va,this.isPropagationStopped=va,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),s}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=qn(Eo),ba=p({},Eo,{view:0,detail:0}),Ho=qn(ba),Ka,Dl,Ha,Ml=p({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ha&&(Ha&&a.type==="mousemove"?(Ka=a.screenX-Ha.screenX,Dl=a.screenY-Ha.screenY):Dl=Ka=0,Ha=a),Ka)},movementY:function(a){return"movementY"in a?a.movementY:Dl}}),Os=qn(Ml),So=p({},Ml,{dataTransfer:0}),nc=qn(So),Ps=p({},ba,{relatedTarget:0}),Ga=qn(Ps),Go=p({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=qn(Go),jl=p({},Eo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),To=qn(jl),Ll=p({},Eo,{data:0}),Fi=qn(Ll),Vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=nr[a])?!!s[a]:!1}function $i(){return Wo}var Lr=p({},ba,{key:function(a){if(a.key){var s=Vl[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=xo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(a){return a.type==="keypress"?xo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Cs=qn(Lr),ic=p({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=qn(ic),g=p({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),I=qn(g),k=p({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=qn(k),he=p({},Ml,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),we=qn(he),Ue=p({},Eo,{newState:0,oldState:0}),wt=qn(Ue),Fn=[9,13,27,32],zt=tr&&"CompositionEvent"in window,en=null;tr&&"documentMode"in document&&(en=document.documentMode);var Ki=tr&&"TextEvent"in window&&!en,Hi=tr&&(!zt||en&&8<en&&11>=en),xi=" ",_a=!1;function Yo(a,s){switch(a){case"keyup":return Fn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ul(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Rs=!1;function fg(a,s){switch(a){case"compositionend":return Ul(s);case"keypress":return s.which!==32?null:(_a=!0,xi);case"textInput":return a=s.data,a===xi&&_a?null:a;default:return null}}function n_(a,s){if(Rs)return a==="compositionend"||!zt&&Yo(a,s)?(a=wo(),_o=Nl=qi=null,Rs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hi&&s.locale!=="ko"?null:s.data;default:return null}}var dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!dg[a.type]:s==="textarea"}function xh(a,s,c,h){bo?Jt?Jt.push(h):Jt=[h]:bo=h,s=Zg(s,"onChange"),0<s.length&&(c=new $a("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var Bl=null,ac=null;function r_(a){bC(a,0)}function wf(a){var s=er(a);if(Ko(s))return a}function oc(a,s){if(a==="change")return s}var Ya=!1;if(tr){var En;if(tr){var ql="oninput"in document;if(!ql){var Ei=document.createElement("div");Ei.setAttribute("oninput","return;"),ql=typeof Ei.oninput=="function"}En=ql}else En=!1;Ya=En&&(!document.documentMode||9<document.documentMode)}function hg(){Bl&&(Bl.detachEvent("onpropertychange",xf),ac=Bl=null)}function xf(a){if(a.propertyName==="value"&&wf(ac)){var s=[];xh(s,ac,a,_i(a)),Bi(r_,s)}}function mg(a,s,c){a==="focusin"?(hg(),Bl=s,ac=c,Bl.attachEvent("onpropertychange",xf)):a==="focusout"&&hg()}function ks(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wf(ac)}function Eh(a,s){if(a==="click")return wf(s)}function Fl(a,s){if(a==="input"||a==="change")return wf(s)}function Qo(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var si=typeof Object.is=="function"?Object.is:Qo;function y(a,s){if(si(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!Hn.call(s,v)||!si(a[v],s[v]))return!1}return!0}function _(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function S(a,s){var c=_(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_(c)}}function P(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?P(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function N(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=kt(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=kt(a.document)}return s}function V(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var K=tr&&"documentMode"in document&&11>=document.documentMode,Q=null,te=null,ne=null,se=!1;function J(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;se||Q==null||Q!==kt(h)||(h=Q,"selectionStart"in h&&V(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ne&&y(ne,h)||(ne=h,h=Zg(te,"onSelect"),0<h.length&&(s=new $a("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=Q)))}function ce(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var re={animationend:ce("Animation","AnimationEnd"),animationiteration:ce("Animation","AnimationIteration"),animationstart:ce("Animation","AnimationStart"),transitionrun:ce("Transition","TransitionRun"),transitionstart:ce("Transition","TransitionStart"),transitioncancel:ce("Transition","TransitionCancel"),transitionend:ce("Transition","TransitionEnd")},ae={},oe={};tr&&(oe=document.createElement("div").style,"AnimationEvent"in window||(delete re.animationend.animation,delete re.animationiteration.animation,delete re.animationstart.animation),"TransitionEvent"in window||delete re.transitionend.transition);function le(a){if(ae[a])return ae[a];if(!re[a])return a;var s=re[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in oe)return ae[a]=s[c];return a}var pe=le("animationend"),ve=le("animationiteration"),Ie=le("animationstart"),ke=le("transitionrun"),ze=le("transitionstart"),He=le("transitioncancel"),Le=le("transitionend"),Be=new Map,$e="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$e.push("scrollEnd");function Ve(a,s){Be.set(a,s),Li(s,[a])}var Qe=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ft=[],bt=0,St=0;function Vr(){for(var a=bt,s=St=bt=0;s<a;){var c=ft[s];ft[s++]=null;var h=ft[s];ft[s++]=null;var v=ft[s];ft[s++]=null;var w=ft[s];if(ft[s++]=null,h!==null&&v!==null){var R=h.pending;R===null?v.next=v:(v.next=R.next,R.next=v),h.pending=v}w!==0&&sc(c,v,w)}}function vt(a,s,c,h){ft[bt++]=a,ft[bt++]=s,ft[bt++]=c,ft[bt++]=h,St|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function cr(a,s,c,h){return vt(a,s,c,h),fr(a)}function On(a,s){return vt(a,null,null,s),fr(a)}function sc(a,s,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var v=!1,w=a.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&s!==null&&(v=31-Ge(c),a=w.hiddenUpdates,h=a[v],h===null?a[v]=[s]:h.push(s),s.lane=c|536870912),w):null}function fr(a){if(50<Hh)throw Hh=0,dw=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Gi={};function Sh(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(a,s,c,h){return new Sh(a,s,c,h)}function i_(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ns(a,s){var c=a.alternate;return c===null?(c=wa(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function tO(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function pg(a,s,c,h,v,w){var R=0;if(h=a,typeof a=="function")i_(a)&&(R=1);else if(typeof a=="string")R=Eq(a,c,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=wa(31,c,s,v),a.elementType=z,a.lanes=w,a;case A:return lc(c.children,v,w,s);case O:R=8,v|=24;break;case D:return a=wa(12,c,s,v|2),a.elementType=D,a.lanes=w,a;case W:return a=wa(13,c,s,v),a.elementType=W,a.lanes=w,a;case X:return a=wa(19,c,s,v),a.elementType=X,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:R=10;break e;case B:R=9;break e;case Y:R=11;break e;case j:R=14;break e;case L:R=16,h=null;break e}R=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=wa(R,c,s,v),s.elementType=a,s.type=h,s.lanes=w,s}function lc(a,s,c,h){return a=wa(7,a,h,s),a.lanes=c,a}function a_(a,s,c){return a=wa(6,a,null,s),a.lanes=c,a}function nO(a){var s=wa(18,null,null,0);return s.stateNode=a,s}function o_(a,s,c){return s=wa(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var rO=new WeakMap;function Qa(a,s){if(typeof a=="object"&&a!==null){var c=rO.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Uo(s)},rO.set(a,s),s)}return{value:a,source:s,stack:Uo(s)}}var Ef=[],Sf=0,gg=null,Th=0,Xa=[],Za=0,$l=null,Xo=1,Zo="";function Ds(a,s){Ef[Sf++]=Th,Ef[Sf++]=gg,gg=a,Th=s}function iO(a,s,c){Xa[Za++]=Xo,Xa[Za++]=Zo,Xa[Za++]=$l,$l=a;var h=Xo;a=Zo;var v=32-Ge(h)-1;h&=~(1<<v),c+=1;var w=32-Ge(s)+v;if(30<w){var R=v-v%5;w=(h&(1<<R)-1).toString(32),h>>=R,v-=R,Xo=1<<32-Ge(s)+v|c<<v|h,Zo=w+a}else Xo=1<<w|c<<v|h,Zo=a}function s_(a){a.return!==null&&(Ds(a,1),iO(a,1,0))}function l_(a){for(;a===gg;)gg=Ef[--Sf],Ef[Sf]=null,Th=Ef[--Sf],Ef[Sf]=null;for(;a===$l;)$l=Xa[--Za],Xa[Za]=null,Zo=Xa[--Za],Xa[Za]=null,Xo=Xa[--Za],Xa[Za]=null}function aO(a,s){Xa[Za++]=Xo,Xa[Za++]=Zo,Xa[Za++]=$l,Xo=s.id,Zo=s.overflow,$l=a}var Qr=null,Sn=null,Ut=!1,Kl=null,Ja=!1,u_=Error(r(519));function Hl(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ah(Qa(s,a)),u_}function oO(a){var s=a.stateNode,c=a.type,h=a.memoizedProps;switch(s[Zt]=a,s[xn]=h,c){case"dialog":Dt("cancel",s),Dt("close",s);break;case"iframe":case"object":case"embed":Dt("load",s);break;case"video":case"audio":for(c=0;c<Wh.length;c++)Dt(Wh[c],s);break;case"source":Dt("error",s);break;case"img":case"image":case"link":Dt("error",s),Dt("load",s);break;case"details":Dt("toggle",s);break;case"input":Dt("invalid",s),Cl(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Dt("invalid",s);break;case"textarea":Dt("invalid",s),ga(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||EC(s.textContent,c)?(h.popover!=null&&(Dt("beforetoggle",s),Dt("toggle",s)),h.onScroll!=null&&Dt("scroll",s),h.onScrollEnd!=null&&Dt("scrollend",s),h.onClick!=null&&(s.onclick=oi),s=!0):s=!1,s||Hl(a,!0)}function sO(a){for(Qr=a.return;Qr;)switch(Qr.tag){case 5:case 31:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:Qr=Qr.return}}function Tf(a){if(a!==Qr)return!1;if(!Ut)return sO(a),Ut=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Iw(a.type,a.memoizedProps)),c=!c),c&&Sn&&Hl(a),sO(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Sn=kC(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Sn=kC(a)}else s===27?(s=Sn,ou(a.type)?(a=kw,kw=null,Sn=a):Sn=s):Sn=Qr?to(a.stateNode.nextSibling):null;return!0}function uc(){Sn=Qr=null,Ut=!1}function c_(){var a=Kl;return a!==null&&(Xi===null?Xi=a:Xi.push.apply(Xi,a),Kl=null),a}function Ah(a){Kl===null?Kl=[a]:Kl.push(a)}var f_=ee(null),cc=null,Ms=null;function Gl(a,s,c){De(f_,s._currentValue),s._currentValue=c}function js(a){a._currentValue=f_.current,Se(f_)}function d_(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function h_(a,s,c,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var R=v.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=v;for(var Z=0;Z<s.length;Z++)if(U.context===s[Z]){w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),d_(w.return,c,a),h||(R=null);break e}w=U.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(r(341));R.lanes|=c,w=R.alternate,w!==null&&(w.lanes|=c),d_(R,c,a),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===a){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function Af(a,s,c,h){a=null;for(var v=s,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var U=v.type;si(v.pendingProps.value,R.value)||(a!==null?a.push(U):a=[U])}}else if(v===Ye.current){if(R=v.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Jh):a=[Jh])}v=v.return}a!==null&&h_(s,a,c,h),s.flags|=262144}function yg(a){for(a=a.firstContext;a!==null;){if(!si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fc(a){cc=a,Ms=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xr(a){return lO(cc,a)}function vg(a,s){return cc===null&&fc(a),lO(a,s)}function lO(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Ms===null){if(a===null)throw Error(r(308));Ms=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Ms=Ms.next=s;return c}var b9=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},_9=t.unstable_scheduleCallback,w9=t.unstable_NormalPriority,dr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m_(){return{controller:new b9,data:new Map,refCount:0}}function Ih(a){a.refCount--,a.refCount===0&&_9(w9,function(){a.controller.abort()})}var Oh=null,p_=0,If=0,Of=null;function x9(a,s){if(Oh===null){var c=Oh=[];p_=0,If=vw(),Of={status:"pending",value:void 0,then:function(h){c.push(h)}}}return p_++,s.then(uO,uO),s}function uO(){if(--p_===0&&Oh!==null){Of!==null&&(Of.status="fulfilled");var a=Oh;Oh=null,If=0,Of=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function E9(a,s){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var cO=de.S;de.S=function(a,s){GP=Dr(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&x9(a,s),cO!==null&&cO(a,s)};var dc=ee(null);function g_(){var a=dc.current;return a!==null?a:yn.pooledCache}function bg(a,s){s===null?De(dc,dc.current):De(dc,s.pool)}function fO(){var a=g_();return a===null?null:{parent:dr._currentValue,pool:a}}var Pf=Error(r(460)),y_=Error(r(474)),_g=Error(r(542)),wg={then:function(){}};function dO(a){return a=a.status,a==="fulfilled"||a==="rejected"}function hO(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(oi,oi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,pO(a),a;default:if(typeof s.status=="string")s.then(oi,oi);else{if(a=yn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=h}},function(h){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,pO(a),a}throw mc=s,Pf}}function hc(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(mc=c,Pf):c}}var mc=null;function mO(){if(mc===null)throw Error(r(459));var a=mc;return mc=null,a}function pO(a){if(a===Pf||a===_g)throw Error(r(483))}var Cf=null,Ph=0;function xg(a){var s=Ph;return Ph+=1,Cf===null&&(Cf=[]),hO(Cf,a,s)}function Ch(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Eg(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function gO(a){function s(fe,ie){if(a){var ge=fe.deletions;ge===null?(fe.deletions=[ie],fe.flags|=16):ge.push(ie)}}function c(fe,ie){if(!a)return null;for(;ie!==null;)s(fe,ie),ie=ie.sibling;return null}function h(fe){for(var ie=new Map;fe!==null;)fe.key!==null?ie.set(fe.key,fe):ie.set(fe.index,fe),fe=fe.sibling;return ie}function v(fe,ie){return fe=Ns(fe,ie),fe.index=0,fe.sibling=null,fe}function w(fe,ie,ge){return fe.index=ge,a?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<ie?(fe.flags|=67108866,ie):ge):(fe.flags|=67108866,ie)):(fe.flags|=1048576,ie)}function R(fe){return a&&fe.alternate===null&&(fe.flags|=67108866),fe}function U(fe,ie,ge,Re){return ie===null||ie.tag!==6?(ie=a_(ge,fe.mode,Re),ie.return=fe,ie):(ie=v(ie,ge),ie.return=fe,ie)}function Z(fe,ie,ge,Re){var dt=ge.type;return dt===A?Oe(fe,ie,ge.props.children,Re,ge.key):ie!==null&&(ie.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===L&&hc(dt)===ie.type)?(ie=v(ie,ge.props),Ch(ie,ge),ie.return=fe,ie):(ie=pg(ge.type,ge.key,ge.props,null,fe.mode,Re),Ch(ie,ge),ie.return=fe,ie)}function ye(fe,ie,ge,Re){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=o_(ge,fe.mode,Re),ie.return=fe,ie):(ie=v(ie,ge.children||[]),ie.return=fe,ie)}function Oe(fe,ie,ge,Re,dt){return ie===null||ie.tag!==7?(ie=lc(ge,fe.mode,Re,dt),ie.return=fe,ie):(ie=v(ie,ge),ie.return=fe,ie)}function Ne(fe,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=a_(""+ie,fe.mode,ge),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return ge=pg(ie.type,ie.key,ie.props,null,fe.mode,ge),Ch(ge,ie),ge.return=fe,ge;case T:return ie=o_(ie,fe.mode,ge),ie.return=fe,ie;case L:return ie=hc(ie),Ne(fe,ie,ge)}if(Xe(ie)||H(ie))return ie=lc(ie,fe.mode,ge,null),ie.return=fe,ie;if(typeof ie.then=="function")return Ne(fe,xg(ie),ge);if(ie.$$typeof===M)return Ne(fe,vg(fe,ie),ge);Eg(fe,ie)}return null}function be(fe,ie,ge,Re){var dt=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return dt!==null?null:U(fe,ie,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return ge.key===dt?Z(fe,ie,ge,Re):null;case T:return ge.key===dt?ye(fe,ie,ge,Re):null;case L:return ge=hc(ge),be(fe,ie,ge,Re)}if(Xe(ge)||H(ge))return dt!==null?null:Oe(fe,ie,ge,Re,null);if(typeof ge.then=="function")return be(fe,ie,xg(ge),Re);if(ge.$$typeof===M)return be(fe,ie,vg(fe,ge),Re);Eg(fe,ge)}return null}function Ee(fe,ie,ge,Re,dt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return fe=fe.get(ge)||null,U(ie,fe,""+Re,dt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:return fe=fe.get(Re.key===null?ge:Re.key)||null,Z(ie,fe,Re,dt);case T:return fe=fe.get(Re.key===null?ge:Re.key)||null,ye(ie,fe,Re,dt);case L:return Re=hc(Re),Ee(fe,ie,ge,Re,dt)}if(Xe(Re)||H(Re))return fe=fe.get(ge)||null,Oe(ie,fe,Re,dt,null);if(typeof Re.then=="function")return Ee(fe,ie,ge,xg(Re),dt);if(Re.$$typeof===M)return Ee(fe,ie,ge,vg(ie,Re),dt);Eg(ie,Re)}return null}function et(fe,ie,ge,Re){for(var dt=null,$t=null,st=ie,At=ie=0,jt=null;st!==null&&At<ge.length;At++){st.index>At?(jt=st,st=null):jt=st.sibling;var Kt=be(fe,st,ge[At],Re);if(Kt===null){st===null&&(st=jt);break}a&&st&&Kt.alternate===null&&s(fe,st),ie=w(Kt,ie,At),$t===null?dt=Kt:$t.sibling=Kt,$t=Kt,st=jt}if(At===ge.length)return c(fe,st),Ut&&Ds(fe,At),dt;if(st===null){for(;At<ge.length;At++)st=Ne(fe,ge[At],Re),st!==null&&(ie=w(st,ie,At),$t===null?dt=st:$t.sibling=st,$t=st);return Ut&&Ds(fe,At),dt}for(st=h(st);At<ge.length;At++)jt=Ee(st,fe,At,ge[At],Re),jt!==null&&(a&&jt.alternate!==null&&st.delete(jt.key===null?At:jt.key),ie=w(jt,ie,At),$t===null?dt=jt:$t.sibling=jt,$t=jt);return a&&st.forEach(function(fu){return s(fe,fu)}),Ut&&Ds(fe,At),dt}function pt(fe,ie,ge,Re){if(ge==null)throw Error(r(151));for(var dt=null,$t=null,st=ie,At=ie=0,jt=null,Kt=ge.next();st!==null&&!Kt.done;At++,Kt=ge.next()){st.index>At?(jt=st,st=null):jt=st.sibling;var fu=be(fe,st,Kt.value,Re);if(fu===null){st===null&&(st=jt);break}a&&st&&fu.alternate===null&&s(fe,st),ie=w(fu,ie,At),$t===null?dt=fu:$t.sibling=fu,$t=fu,st=jt}if(Kt.done)return c(fe,st),Ut&&Ds(fe,At),dt;if(st===null){for(;!Kt.done;At++,Kt=ge.next())Kt=Ne(fe,Kt.value,Re),Kt!==null&&(ie=w(Kt,ie,At),$t===null?dt=Kt:$t.sibling=Kt,$t=Kt);return Ut&&Ds(fe,At),dt}for(st=h(st);!Kt.done;At++,Kt=ge.next())Kt=Ee(st,fe,At,Kt.value,Re),Kt!==null&&(a&&Kt.alternate!==null&&st.delete(Kt.key===null?At:Kt.key),ie=w(Kt,ie,At),$t===null?dt=Kt:$t.sibling=Kt,$t=Kt);return a&&st.forEach(function(Dq){return s(fe,Dq)}),Ut&&Ds(fe,At),dt}function dn(fe,ie,ge,Re){if(typeof ge=="object"&&ge!==null&&ge.type===A&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:e:{for(var dt=ge.key;ie!==null;){if(ie.key===dt){if(dt=ge.type,dt===A){if(ie.tag===7){c(fe,ie.sibling),Re=v(ie,ge.props.children),Re.return=fe,fe=Re;break e}}else if(ie.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===L&&hc(dt)===ie.type){c(fe,ie.sibling),Re=v(ie,ge.props),Ch(Re,ge),Re.return=fe,fe=Re;break e}c(fe,ie);break}else s(fe,ie);ie=ie.sibling}ge.type===A?(Re=lc(ge.props.children,fe.mode,Re,ge.key),Re.return=fe,fe=Re):(Re=pg(ge.type,ge.key,ge.props,null,fe.mode,Re),Ch(Re,ge),Re.return=fe,fe=Re)}return R(fe);case T:e:{for(dt=ge.key;ie!==null;){if(ie.key===dt)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){c(fe,ie.sibling),Re=v(ie,ge.children||[]),Re.return=fe,fe=Re;break e}else{c(fe,ie);break}else s(fe,ie);ie=ie.sibling}Re=o_(ge,fe.mode,Re),Re.return=fe,fe=Re}return R(fe);case L:return ge=hc(ge),dn(fe,ie,ge,Re)}if(Xe(ge))return et(fe,ie,ge,Re);if(H(ge)){if(dt=H(ge),typeof dt!="function")throw Error(r(150));return ge=dt.call(ge),pt(fe,ie,ge,Re)}if(typeof ge.then=="function")return dn(fe,ie,xg(ge),Re);if(ge.$$typeof===M)return dn(fe,ie,vg(fe,ge),Re);Eg(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ie!==null&&ie.tag===6?(c(fe,ie.sibling),Re=v(ie,ge),Re.return=fe,fe=Re):(c(fe,ie),Re=a_(ge,fe.mode,Re),Re.return=fe,fe=Re),R(fe)):c(fe,ie)}return function(fe,ie,ge,Re){try{Ph=0;var dt=dn(fe,ie,ge,Re);return Cf=null,dt}catch(st){if(st===Pf||st===_g)throw st;var $t=wa(29,st,null,fe.mode);return $t.lanes=Re,$t.return=fe,$t}finally{}}}var pc=gO(!0),yO=gO(!1),Wl=!1;function v_(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b_(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Yl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ql(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Wt&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,s=fr(a),sc(a,null,c),s}return vt(a,h,s,c),fr(a)}function Rh(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,Xt(a,c)}}function __(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=R:w=w.next=R,c=c.next}while(c!==null);w===null?v=w=s:w=w.next=s}else v=w=s;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var w_=!1;function kh(){if(w_){var a=Of;if(a!==null)throw a}}function Nh(a,s,c,h){w_=!1;var v=a.updateQueue;Wl=!1;var w=v.firstBaseUpdate,R=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var Z=U,ye=Z.next;Z.next=null,R===null?w=ye:R.next=ye,R=Z;var Oe=a.alternate;Oe!==null&&(Oe=Oe.updateQueue,U=Oe.lastBaseUpdate,U!==R&&(U===null?Oe.firstBaseUpdate=ye:U.next=ye,Oe.lastBaseUpdate=Z))}if(w!==null){var Ne=v.baseState;R=0,Oe=ye=Z=null,U=w;do{var be=U.lane&-536870913,Ee=be!==U.lane;if(Ee?(Mt&be)===be:(h&be)===be){be!==0&&be===If&&(w_=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var et=a,pt=U;be=s;var dn=c;switch(pt.tag){case 1:if(et=pt.payload,typeof et=="function"){Ne=et.call(dn,Ne,be);break e}Ne=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=pt.payload,be=typeof et=="function"?et.call(dn,Ne,be):et,be==null)break e;Ne=p({},Ne,be);break e;case 2:Wl=!0}}be=U.callback,be!==null&&(a.flags|=64,Ee&&(a.flags|=8192),Ee=v.callbacks,Ee===null?v.callbacks=[be]:Ee.push(be))}else Ee={lane:be,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Oe===null?(ye=Oe=Ee,Z=Ne):Oe=Oe.next=Ee,R|=be;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;Ee=U,U=Ee.next,Ee.next=null,v.lastBaseUpdate=Ee,v.shared.pending=null}}while(!0);Oe===null&&(Z=Ne),v.baseState=Z,v.firstBaseUpdate=ye,v.lastBaseUpdate=Oe,w===null&&(v.shared.lanes=0),tu|=R,a.lanes=R,a.memoizedState=Ne}}function vO(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function bO(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)vO(c[a],s)}var Rf=ee(null),Sg=ee(0);function _O(a,s){a=Ks,De(Sg,a),De(Rf,s),Ks=a|s.baseLanes}function x_(){De(Sg,Ks),De(Rf,Rf.current)}function E_(){Ks=Sg.current,Se(Rf),Se(Sg)}var xa=ee(null),eo=null;function Xl(a){var s=a.alternate;De(rr,rr.current&1),De(xa,a),eo===null&&(s===null||Rf.current!==null||s.memoizedState!==null)&&(eo=a)}function S_(a){De(rr,rr.current),De(xa,a),eo===null&&(eo=a)}function wO(a){a.tag===22?(De(rr,rr.current),De(xa,a),eo===null&&(eo=a)):Zl()}function Zl(){De(rr,rr.current),De(xa,xa.current)}function Ea(a){Se(xa),eo===a&&(eo=null),Se(rr)}var rr=ee(0);function Tg(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Cw(c)||Rw(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ls=0,Tt=null,cn=null,hr=null,Ag=!1,kf=!1,gc=!1,Ig=0,Dh=0,Nf=null,S9=0;function Wn(){throw Error(r(321))}function T_(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!si(a[c],s[c]))return!1;return!0}function A_(a,s,c,h,v,w){return Ls=w,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,de.H=a===null||a.memoizedState===null?iP:B_,gc=!1,w=c(h,v),gc=!1,kf&&(w=EO(s,c,h,v)),xO(a),w}function xO(a){de.H=Lh;var s=cn!==null&&cn.next!==null;if(Ls=0,hr=cn=Tt=null,Ag=!1,Dh=0,Nf=null,s)throw Error(r(300));a===null||mr||(a=a.dependencies,a!==null&&yg(a)&&(mr=!0))}function EO(a,s,c,h){Tt=a;var v=0;do{if(kf&&(Nf=null),Dh=0,kf=!1,25<=v)throw Error(r(301));if(v+=1,hr=cn=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}de.H=aP,w=s(c,h)}while(kf);return w}function T9(){var a=de.H,s=a.useState()[0];return s=typeof s.then=="function"?Mh(s):s,a=a.useState()[0],(cn!==null?cn.memoizedState:null)!==a&&(Tt.flags|=1024),s}function I_(){var a=Ig!==0;return Ig=0,a}function O_(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function P_(a){if(Ag){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ag=!1}Ls=0,hr=cn=Tt=null,kf=!1,Dh=Ig=0,Nf=null}function Si(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Tt.memoizedState=hr=a:hr=hr.next=a,hr}function ir(){if(cn===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=cn.next;var s=hr===null?Tt.memoizedState:hr.next;if(s!==null)hr=s,cn=a;else{if(a===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));cn=a,a={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},hr===null?Tt.memoizedState=hr=a:hr=hr.next=a}return hr}function Og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mh(a){var s=Dh;return Dh+=1,Nf===null&&(Nf=[]),a=hO(Nf,a,s),s=Tt,(hr===null?s.memoizedState:hr.next)===null&&(s=s.alternate,de.H=s===null||s.memoizedState===null?iP:B_),a}function Pg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mh(a);if(a.$$typeof===M)return Xr(a)}throw Error(r(438,String(a)))}function C_(a){var s=null,c=Tt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Og(),Tt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),h=0;h<a;h++)c[h]=G;return s.index++,c}function Vs(a,s){return typeof s=="function"?s(a):s}function Cg(a){var s=ir();return R_(s,cn,a)}function R_(a,s,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=a.baseQueue,w=h.pending;if(w!==null){if(v!==null){var R=v.next;v.next=w.next,w.next=R}s.baseQueue=v=w,h.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{s=v.next;var U=R=null,Z=null,ye=s,Oe=!1;do{var Ne=ye.lane&-536870913;if(Ne!==ye.lane?(Mt&Ne)===Ne:(Ls&Ne)===Ne){var be=ye.revertLane;if(be===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Ne===If&&(Oe=!0);else if((Ls&be)===be){ye=ye.next,be===If&&(Oe=!0);continue}else Ne={lane:0,revertLane:ye.revertLane,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Z===null?(U=Z=Ne,R=w):Z=Z.next=Ne,Tt.lanes|=be,tu|=be;Ne=ye.action,gc&&c(w,Ne),w=ye.hasEagerState?ye.eagerState:c(w,Ne)}else be={lane:Ne,revertLane:ye.revertLane,gesture:ye.gesture,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Z===null?(U=Z=be,R=w):Z=Z.next=be,Tt.lanes|=Ne,tu|=Ne;ye=ye.next}while(ye!==null&&ye!==s);if(Z===null?R=w:Z.next=U,!si(w,a.memoizedState)&&(mr=!0,Oe&&(c=Of,c!==null)))throw c;a.memoizedState=w,a.baseState=R,a.baseQueue=Z,h.lastRenderedState=w}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function k_(a){var s=ir(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,v=c.pending,w=s.memoizedState;if(v!==null){c.pending=null;var R=v=v.next;do w=a(w,R.action),R=R.next;while(R!==v);si(w,s.memoizedState)||(mr=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,h]}function SO(a,s,c){var h=Tt,v=ir(),w=Ut;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var R=!si((cn||v).memoizedState,c);if(R&&(v.memoizedState=c,mr=!0),v=v.queue,M_(IO.bind(null,h,v,a),[a]),v.getSnapshot!==s||R||hr!==null&&hr.memoizedState.tag&1){if(h.flags|=2048,Df(9,{destroy:void 0},AO.bind(null,h,v,c,s),null),yn===null)throw Error(r(349));w||(Ls&127)!==0||TO(h,s,c)}return c}function TO(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Tt.updateQueue,s===null?(s=Og(),Tt.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function AO(a,s,c,h){s.value=c,s.getSnapshot=h,OO(s)&&PO(a)}function IO(a,s,c){return c(function(){OO(s)&&PO(a)})}function OO(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!si(a,c)}catch{return!0}}function PO(a){var s=On(a,2);s!==null&&Zi(s,a,2)}function N_(a){var s=Si();if(typeof a=="function"){var c=a;if(a=c(),gc){Jn(!0);try{c()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:a},s}function CO(a,s,c,h){return a.baseState=c,R_(a,cn,typeof h=="function"?h:Vs)}function A9(a,s,c,h,v){if(Ng(a))throw Error(r(485));if(a=s.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};de.T!==null?c(!0):w.isTransition=!1,h(w),c=s.pending,c===null?(w.next=s.pending=w,RO(s,w)):(w.next=c.next,s.pending=c.next=w)}}function RO(a,s){var c=s.action,h=s.payload,v=a.state;if(s.isTransition){var w=de.T,R={};de.T=R;try{var U=c(v,h),Z=de.S;Z!==null&&Z(R,U),kO(a,s,U)}catch(ye){D_(a,s,ye)}finally{w!==null&&R.types!==null&&(w.types=R.types),de.T=w}}else try{w=c(v,h),kO(a,s,w)}catch(ye){D_(a,s,ye)}}function kO(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){NO(a,s,h)},function(h){return D_(a,s,h)}):NO(a,s,c)}function NO(a,s,c){s.status="fulfilled",s.value=c,DO(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,RO(a,c)))}function D_(a,s,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,DO(s),s=s.next;while(s!==h)}a.action=null}function DO(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function MO(a,s){return s}function jO(a,s){if(Ut){var c=yn.formState;if(c!==null){e:{var h=Tt;if(Ut){if(Sn){t:{for(var v=Sn,w=Ja;v.nodeType!==8;){if(!w){v=null;break t}if(v=to(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Sn=to(v.nextSibling),h=v.data==="F!";break e}}Hl(h)}h=!1}h&&(s=c[0])}}return c=Si(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MO,lastRenderedState:s},c.queue=h,c=tP.bind(null,Tt,h),h.dispatch=c,h=N_(!1),w=U_.bind(null,Tt,!1,h.queue),h=Si(),v={state:s,dispatch:null,action:a,pending:null},h.queue=v,c=A9.bind(null,Tt,v,w,c),v.dispatch=c,h.memoizedState=a,[s,c,!1]}function LO(a){var s=ir();return VO(s,cn,a)}function VO(a,s,c){if(s=R_(a,s,MO)[0],a=Cg(Vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Mh(s)}catch(R){throw R===Pf?_g:R}else h=s;s=ir();var v=s.queue,w=v.dispatch;return c!==s.memoizedState&&(Tt.flags|=2048,Df(9,{destroy:void 0},I9.bind(null,v,c),null)),[h,w,a]}function I9(a,s){a.action=s}function zO(a){var s=ir(),c=cn;if(c!==null)return VO(s,c,a);ir(),s=s.memoizedState,c=ir();var h=c.queue.dispatch;return c.memoizedState=a,[s,h,!1]}function Df(a,s,c,h){return a={tag:a,create:c,deps:h,inst:s,next:null},s=Tt.updateQueue,s===null&&(s=Og(),Tt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a),a}function UO(){return ir().memoizedState}function Rg(a,s,c,h){var v=Si();Tt.flags|=a,v.memoizedState=Df(1|s,{destroy:void 0},c,h===void 0?null:h)}function kg(a,s,c,h){var v=ir();h=h===void 0?null:h;var w=v.memoizedState.inst;cn!==null&&h!==null&&T_(h,cn.memoizedState.deps)?v.memoizedState=Df(s,w,c,h):(Tt.flags|=a,v.memoizedState=Df(1|s,w,c,h))}function BO(a,s){Rg(8390656,8,a,s)}function M_(a,s){kg(2048,8,a,s)}function O9(a){Tt.flags|=4;var s=Tt.updateQueue;if(s===null)s=Og(),Tt.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function qO(a){var s=ir().memoizedState;return O9({ref:s,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function FO(a,s){return kg(4,2,a,s)}function $O(a,s){return kg(4,4,a,s)}function KO(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function HO(a,s,c){c=c!=null?c.concat([a]):null,kg(4,4,KO.bind(null,s,a),c)}function j_(){}function GO(a,s){var c=ir();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&T_(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function WO(a,s){var c=ir();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&T_(s,h[1]))return h[0];if(h=a(),gc){Jn(!0);try{a()}finally{Jn(!1)}}return c.memoizedState=[h,s],h}function L_(a,s,c){return c===void 0||(Ls&1073741824)!==0&&(Mt&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=YP(),Tt.lanes|=a,tu|=a,c)}function YO(a,s,c,h){return si(c,s)?c:Rf.current!==null?(a=L_(a,c,h),si(a,s)||(mr=!0),a):(Ls&42)===0||(Ls&1073741824)!==0&&(Mt&261930)===0?(mr=!0,a.memoizedState=c):(a=YP(),Tt.lanes|=a,tu|=a,s)}function QO(a,s,c,h,v){var w=Pe.p;Pe.p=w!==0&&8>w?w:8;var R=de.T,U={};de.T=U,U_(a,!1,s,c);try{var Z=v(),ye=de.S;if(ye!==null&&ye(U,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Oe=E9(Z,h);jh(a,s,Oe,Aa(a))}else jh(a,s,h,Aa(a))}catch(Ne){jh(a,s,{then:function(){},status:"rejected",reason:Ne},Aa())}finally{Pe.p=w,R!==null&&U.types!==null&&(R.types=U.types),de.T=R}}function P9(){}function V_(a,s,c,h){if(a.tag!==5)throw Error(r(476));var v=XO(a).queue;QO(a,v,s,xe,c===null?P9:function(){return ZO(a),c(h)})}function XO(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:xe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function ZO(a){var s=XO(a);s.next===null&&(s=a.alternate.memoizedState),jh(a,s.next.queue,{},Aa())}function z_(){return Xr(Jh)}function JO(){return ir().memoizedState}function eP(){return ir().memoizedState}function C9(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Aa();a=Yl(c);var h=Ql(s,a,c);h!==null&&(Zi(h,s,c),Rh(h,s,c)),s={cache:m_()},a.payload=s;return}s=s.return}}function R9(a,s,c){var h=Aa();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ng(a)?nP(s,c):(c=cr(a,s,c,h),c!==null&&(Zi(c,a,h),rP(c,s,h)))}function tP(a,s,c){var h=Aa();jh(a,s,c,h)}function jh(a,s,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ng(a))nP(s,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var R=s.lastRenderedState,U=w(R,c);if(v.hasEagerState=!0,v.eagerState=U,si(U,R))return vt(a,s,v,0),yn===null&&Vr(),!1}catch{}finally{}if(c=cr(a,s,v,h),c!==null)return Zi(c,a,h),rP(c,s,h),!0}return!1}function U_(a,s,c,h){if(h={lane:2,revertLane:vw(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ng(a)){if(s)throw Error(r(479))}else s=cr(a,c,h,2),s!==null&&Zi(s,a,2)}function Ng(a){var s=a.alternate;return a===Tt||s!==null&&s===Tt}function nP(a,s){kf=Ag=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function rP(a,s,c){if((c&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,Xt(a,c)}}var Lh={readContext:Xr,use:Pg,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};Lh.useEffectEvent=Wn;var iP={readContext:Xr,use:Pg,useCallback:function(a,s){return Si().memoizedState=[a,s===void 0?null:s],a},useContext:Xr,useEffect:BO,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Rg(4194308,4,KO.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Rg(4194308,4,a,s)},useInsertionEffect:function(a,s){Rg(4,2,a,s)},useMemo:function(a,s){var c=Si();s=s===void 0?null:s;var h=a();if(gc){Jn(!0);try{a()}finally{Jn(!1)}}return c.memoizedState=[h,s],h},useReducer:function(a,s,c){var h=Si();if(c!==void 0){var v=c(s);if(gc){Jn(!0);try{c(s)}finally{Jn(!1)}}}else v=s;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=R9.bind(null,Tt,a),[h.memoizedState,a]},useRef:function(a){var s=Si();return a={current:a},s.memoizedState=a},useState:function(a){a=N_(a);var s=a.queue,c=tP.bind(null,Tt,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:j_,useDeferredValue:function(a,s){var c=Si();return L_(c,a,s)},useTransition:function(){var a=N_(!1);return a=QO.bind(null,Tt,a.queue,!0,!1),Si().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var h=Tt,v=Si();if(Ut){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),yn===null)throw Error(r(349));(Mt&127)!==0||TO(h,s,c)}v.memoizedState=c;var w={value:c,getSnapshot:s};return v.queue=w,BO(IO.bind(null,h,w,a),[a]),h.flags|=2048,Df(9,{destroy:void 0},AO.bind(null,h,w,c,s),null),c},useId:function(){var a=Si(),s=yn.identifierPrefix;if(Ut){var c=Zo,h=Xo;c=(h&~(1<<32-Ge(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Ig++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=S9++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:z_,useFormState:jO,useActionState:jO,useOptimistic:function(a){var s=Si();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=U_.bind(null,Tt,!0,c),c.dispatch=s,[a,s]},useMemoCache:C_,useCacheRefresh:function(){return Si().memoizedState=C9.bind(null,Tt)},useEffectEvent:function(a){var s=Si(),c={impl:a};return s.memoizedState=c,function(){if((Wt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},B_={readContext:Xr,use:Pg,useCallback:GO,useContext:Xr,useEffect:M_,useImperativeHandle:HO,useInsertionEffect:FO,useLayoutEffect:$O,useMemo:WO,useReducer:Cg,useRef:UO,useState:function(){return Cg(Vs)},useDebugValue:j_,useDeferredValue:function(a,s){var c=ir();return YO(c,cn.memoizedState,a,s)},useTransition:function(){var a=Cg(Vs)[0],s=ir().memoizedState;return[typeof a=="boolean"?a:Mh(a),s]},useSyncExternalStore:SO,useId:JO,useHostTransitionStatus:z_,useFormState:LO,useActionState:LO,useOptimistic:function(a,s){var c=ir();return CO(c,cn,a,s)},useMemoCache:C_,useCacheRefresh:eP};B_.useEffectEvent=qO;var aP={readContext:Xr,use:Pg,useCallback:GO,useContext:Xr,useEffect:M_,useImperativeHandle:HO,useInsertionEffect:FO,useLayoutEffect:$O,useMemo:WO,useReducer:k_,useRef:UO,useState:function(){return k_(Vs)},useDebugValue:j_,useDeferredValue:function(a,s){var c=ir();return cn===null?L_(c,a,s):YO(c,cn.memoizedState,a,s)},useTransition:function(){var a=k_(Vs)[0],s=ir().memoizedState;return[typeof a=="boolean"?a:Mh(a),s]},useSyncExternalStore:SO,useId:JO,useHostTransitionStatus:z_,useFormState:zO,useActionState:zO,useOptimistic:function(a,s){var c=ir();return cn!==null?CO(c,cn,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:C_,useCacheRefresh:eP};aP.useEffectEvent=qO;function q_(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:p({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var F_={enqueueSetState:function(a,s,c){a=a._reactInternals;var h=Aa(),v=Yl(h);v.payload=s,c!=null&&(v.callback=c),s=Ql(a,v,h),s!==null&&(Zi(s,a,h),Rh(s,a,h))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=Aa(),v=Yl(h);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Ql(a,v,h),s!==null&&(Zi(s,a,h),Rh(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Aa(),h=Yl(c);h.tag=2,s!=null&&(h.callback=s),s=Ql(a,h,c),s!==null&&(Zi(s,a,c),Rh(s,a,c))}};function oP(a,s,c,h,v,w,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,R):s.prototype&&s.prototype.isPureReactComponent?!y(c,h)||!y(v,w):!0}function sP(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&F_.enqueueReplaceState(s,s.state,null)}function yc(a,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(a=a.defaultProps){c===s&&(c=p({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function lP(a){Qe(a)}function uP(a){console.error(a)}function cP(a){Qe(a)}function Dg(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function fP(a,s,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function $_(a,s,c){return c=Yl(c),c.tag=3,c.payload={element:null},c.callback=function(){Dg(a,s)},c}function dP(a){return a=Yl(a),a.tag=3,a}function hP(a,s,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;a.payload=function(){return v(w)},a.callback=function(){fP(s,c,h)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){fP(s,c,h),typeof v!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function k9(a,s,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&Af(s,c,v,!0),c=xa.current,c!==null){switch(c.tag){case 31:case 13:return eo===null?Hg():c.alternate===null&&Yn===0&&(Yn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===wg?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),pw(a,h,v)),!1;case 22:return c.flags|=65536,h===wg?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),pw(a,h,v)),!1}throw Error(r(435,c.tag))}return pw(a,h,v),Hg(),!1}if(Ut)return s=xa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,h!==u_&&(a=Error(r(422),{cause:h}),Ah(Qa(a,c)))):(h!==u_&&(s=Error(r(423),{cause:h}),Ah(Qa(s,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Qa(h,c),v=$_(a.stateNode,h,v),__(a,v),Yn!==4&&(Yn=2)),!1;var w=Error(r(520),{cause:h});if(w=Qa(w,c),Kh===null?Kh=[w]:Kh.push(w),Yn!==4&&(Yn=2),s===null)return!0;h=Qa(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=$_(c.stateNode,h,a),__(c,a),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nu===null||!nu.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=dP(v),hP(v,a,c,h),__(c,v),!1}c=c.return}while(c!==null);return!1}var K_=Error(r(461)),mr=!1;function Zr(a,s,c,h){s.child=a===null?yO(s,null,c,h):pc(s,a.child,c,h)}function mP(a,s,c,h,v){c=c.render;var w=s.ref;if("ref"in h){var R={};for(var U in h)U!=="ref"&&(R[U]=h[U])}else R=h;return fc(s),h=A_(a,s,c,R,w,v),U=I_(),a!==null&&!mr?(O_(a,s,v),zs(a,s,v)):(Ut&&U&&s_(s),s.flags|=1,Zr(a,s,h,v),s.child)}function pP(a,s,c,h,v){if(a===null){var w=c.type;return typeof w=="function"&&!i_(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,gP(a,s,w,h,v)):(a=pg(c.type,null,h,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(w=a.child,!J_(a,v)){var R=w.memoizedProps;if(c=c.compare,c=c!==null?c:y,c(R,h)&&a.ref===s.ref)return zs(a,s,v)}return s.flags|=1,a=Ns(w,h),a.ref=s.ref,a.return=s,s.child=a}function gP(a,s,c,h,v){if(a!==null){var w=a.memoizedProps;if(y(w,h)&&a.ref===s.ref)if(mr=!1,s.pendingProps=h=w,J_(a,v))(a.flags&131072)!==0&&(mr=!0);else return s.lanes=a.lanes,zs(a,s,v)}return H_(a,s,c,h,v)}function yP(a,s,c,h){var v=h.children,w=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(h=s.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,s.child=null;return vP(a,s,w,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&bg(s,w!==null?w.cachePool:null),w!==null?_O(s,w):x_(),wO(s);else return h=s.lanes=536870912,vP(a,s,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(bg(s,w.cachePool),_O(s,w),Zl(),s.memoizedState=null):(a!==null&&bg(s,null),x_(),Zl());return Zr(a,s,v,c),s.child}function Vh(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vP(a,s,c,h,v){var w=g_();return w=w===null?null:{parent:dr._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},a!==null&&bg(s,null),x_(),wO(s),a!==null&&Af(a,s,h,!0),s.childLanes=v,null}function Mg(a,s){return s=Lg({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function bP(a,s,c){return pc(s,a.child,null,c),a=Mg(s,s.pendingProps),a.flags|=2,Ea(s),s.memoizedState=null,a}function N9(a,s,c){var h=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ut){if(h.mode==="hidden")return a=Mg(s,h),s.lanes=536870912,Vh(null,a);if(S_(s),(a=Sn)?(a=RC(a,Ja),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$l!==null?{id:Xo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},c=nO(a),c.return=s,s.child=c,Qr=s,Sn=null)):a=null,a===null)throw Hl(s);return s.lanes=536870912,null}return Mg(s,h)}var w=a.memoizedState;if(w!==null){var R=w.dehydrated;if(S_(s),v)if(s.flags&256)s.flags&=-257,s=bP(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(mr||Af(a,s,c,!1),v=(c&a.childLanes)!==0,mr||v){if(h=yn,h!==null&&(R=In(h,c),R!==0&&R!==w.retryLane))throw w.retryLane=R,On(a,R),Zi(h,a,R),K_;Hg(),s=bP(a,s,c)}else a=w.treeContext,Sn=to(R.nextSibling),Qr=s,Ut=!0,Kl=null,Ja=!1,a!==null&&aO(s,a),s=Mg(s,h),s.flags|=4096;return s}return a=Ns(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function jg(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function H_(a,s,c,h,v){return fc(s),c=A_(a,s,c,h,void 0,v),h=I_(),a!==null&&!mr?(O_(a,s,v),zs(a,s,v)):(Ut&&h&&s_(s),s.flags|=1,Zr(a,s,c,v),s.child)}function _P(a,s,c,h,v,w){return fc(s),s.updateQueue=null,c=EO(s,h,c,v),xO(a),h=I_(),a!==null&&!mr?(O_(a,s,w),zs(a,s,w)):(Ut&&h&&s_(s),s.flags|=1,Zr(a,s,c,w),s.child)}function wP(a,s,c,h,v){if(fc(s),s.stateNode===null){var w=Gi,R=c.contextType;typeof R=="object"&&R!==null&&(w=Xr(R)),w=new c(h,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=F_,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=h,w.state=s.memoizedState,w.refs={},v_(s),R=c.contextType,w.context=typeof R=="object"&&R!==null?Xr(R):Gi,w.state=s.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(q_(s,c,R,h),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&F_.enqueueReplaceState(w,w.state,null),Nh(s,h,w,v),kh(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){w=s.stateNode;var U=s.memoizedProps,Z=yc(c,U);w.props=Z;var ye=w.context,Oe=c.contextType;R=Gi,typeof Oe=="object"&&Oe!==null&&(R=Xr(Oe));var Ne=c.getDerivedStateFromProps;Oe=typeof Ne=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,Oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||ye!==R)&&sP(s,w,h,R),Wl=!1;var be=s.memoizedState;w.state=be,Nh(s,h,w,v),kh(),ye=s.memoizedState,U||be!==ye||Wl?(typeof Ne=="function"&&(q_(s,c,Ne,h),ye=s.memoizedState),(Z=Wl||oP(s,c,Z,h,be,ye,R))?(Oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ye),w.props=h,w.state=ye,w.context=R,h=Z):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,b_(a,s),R=s.memoizedProps,Oe=yc(c,R),w.props=Oe,Ne=s.pendingProps,be=w.context,ye=c.contextType,Z=Gi,typeof ye=="object"&&ye!==null&&(Z=Xr(ye)),U=c.getDerivedStateFromProps,(ye=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==Ne||be!==Z)&&sP(s,w,h,Z),Wl=!1,be=s.memoizedState,w.state=be,Nh(s,h,w,v),kh();var Ee=s.memoizedState;R!==Ne||be!==Ee||Wl||a!==null&&a.dependencies!==null&&yg(a.dependencies)?(typeof U=="function"&&(q_(s,c,U,h),Ee=s.memoizedState),(Oe=Wl||oP(s,c,Oe,h,be,Ee,Z)||a!==null&&a.dependencies!==null&&yg(a.dependencies))?(ye||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ee,Z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ee,Z)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===a.memoizedProps&&be===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&be===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ee),w.props=h,w.state=Ee,w.context=Z,h=Oe):(typeof w.componentDidUpdate!="function"||R===a.memoizedProps&&be===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&be===a.memoizedState||(s.flags|=1024),h=!1)}return w=h,jg(a,s),h=(s.flags&128)!==0,w||h?(w=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,a!==null&&h?(s.child=pc(s,a.child,null,v),s.child=pc(s,null,c,v)):Zr(a,s,c,v),s.memoizedState=w.state,a=s.child):a=zs(a,s,v),a}function xP(a,s,c,h){return uc(),s.flags|=256,Zr(a,s,c,h),s.child}var G_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W_(a){return{baseLanes:a,cachePool:fO()}}function Y_(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ta),a}function EP(a,s,c){var h=s.pendingProps,v=!1,w=(s.flags&128)!==0,R;if((R=w)||(R=a!==null&&a.memoizedState===null?!1:(rr.current&2)!==0),R&&(v=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ut){if(v?Xl(s):Zl(),(a=Sn)?(a=RC(a,Ja),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$l!==null?{id:Xo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},c=nO(a),c.return=s,s.child=c,Qr=s,Sn=null)):a=null,a===null)throw Hl(s);return Rw(a)?s.lanes=32:s.lanes=536870912,null}var U=h.children;return h=h.fallback,v?(Zl(),v=s.mode,U=Lg({mode:"hidden",children:U},v),h=lc(h,v,c,null),U.return=s,h.return=s,U.sibling=h,s.child=U,h=s.child,h.memoizedState=W_(c),h.childLanes=Y_(a,R,c),s.memoizedState=G_,Vh(null,h)):(Xl(s),Q_(s,U))}var Z=a.memoizedState;if(Z!==null&&(U=Z.dehydrated,U!==null)){if(w)s.flags&256?(Xl(s),s.flags&=-257,s=X_(a,s,c)):s.memoizedState!==null?(Zl(),s.child=a.child,s.flags|=128,s=null):(Zl(),U=h.fallback,v=s.mode,h=Lg({mode:"visible",children:h.children},v),U=lc(U,v,c,null),U.flags|=2,h.return=s,U.return=s,h.sibling=U,s.child=h,pc(s,a.child,null,c),h=s.child,h.memoizedState=W_(c),h.childLanes=Y_(a,R,c),s.memoizedState=G_,s=Vh(null,h));else if(Xl(s),Rw(U)){if(R=U.nextSibling&&U.nextSibling.dataset,R)var ye=R.dgst;R=ye,h=Error(r(419)),h.stack="",h.digest=R,Ah({value:h,source:null,stack:null}),s=X_(a,s,c)}else if(mr||Af(a,s,c,!1),R=(c&a.childLanes)!==0,mr||R){if(R=yn,R!==null&&(h=In(R,c),h!==0&&h!==Z.retryLane))throw Z.retryLane=h,On(a,h),Zi(R,a,h),K_;Cw(U)||Hg(),s=X_(a,s,c)}else Cw(U)?(s.flags|=192,s.child=a.child,s=null):(a=Z.treeContext,Sn=to(U.nextSibling),Qr=s,Ut=!0,Kl=null,Ja=!1,a!==null&&aO(s,a),s=Q_(s,h.children),s.flags|=4096);return s}return v?(Zl(),U=h.fallback,v=s.mode,Z=a.child,ye=Z.sibling,h=Ns(Z,{mode:"hidden",children:h.children}),h.subtreeFlags=Z.subtreeFlags&65011712,ye!==null?U=Ns(ye,U):(U=lc(U,v,c,null),U.flags|=2),U.return=s,h.return=s,h.sibling=U,s.child=h,Vh(null,h),h=s.child,U=a.child.memoizedState,U===null?U=W_(c):(v=U.cachePool,v!==null?(Z=dr._currentValue,v=v.parent!==Z?{parent:Z,pool:Z}:v):v=fO(),U={baseLanes:U.baseLanes|c,cachePool:v}),h.memoizedState=U,h.childLanes=Y_(a,R,c),s.memoizedState=G_,Vh(a.child,h)):(Xl(s),c=a.child,a=c.sibling,c=Ns(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,a!==null&&(R=s.deletions,R===null?(s.deletions=[a],s.flags|=16):R.push(a)),s.child=c,s.memoizedState=null,c)}function Q_(a,s){return s=Lg({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Lg(a,s){return a=wa(22,a,null,s),a.lanes=0,a}function X_(a,s,c){return pc(s,a.child,null,c),a=Q_(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function SP(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),d_(a.return,s,c)}function Z_(a,s,c,h,v,w){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:w}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=h,R.tail=c,R.tailMode=v,R.treeForkCount=w)}function TP(a,s,c){var h=s.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var R=rr.current,U=(R&2)!==0;if(U?(R=R&1|2,s.flags|=128):R&=1,De(rr,R),Zr(a,s,h,c),h=Ut?Th:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&SP(a,c,s);else if(a.tag===19)SP(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)a=c.alternate,a!==null&&Tg(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Z_(s,!1,v,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&Tg(a)===null){s.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Z_(s,!0,c,null,w,h);break;case"together":Z_(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function zs(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),tu|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Af(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Ns(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Ns(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function J_(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&yg(a)))}function D9(a,s,c){switch(s.tag){case 3:un(s,s.stateNode.containerInfo),Gl(s,dr,a.memoizedState.cache),uc();break;case 27:case 5:mt(s);break;case 4:un(s,s.stateNode.containerInfo);break;case 10:Gl(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,S_(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Xl(s),s.flags|=128,null):(c&s.child.childLanes)!==0?EP(a,s,c):(Xl(s),a=zs(a,s,c),a!==null?a.sibling:null);Xl(s);break;case 19:var v=(a.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(Af(a,s,c,!1),h=(c&s.childLanes)!==0),v){if(h)return TP(a,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),De(rr,rr.current),h)break;return null;case 22:return s.lanes=0,yP(a,s,c,s.pendingProps);case 24:Gl(s,dr,a.memoizedState.cache)}return zs(a,s,c)}function AP(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)mr=!0;else{if(!J_(a,c)&&(s.flags&128)===0)return mr=!1,D9(a,s,c);mr=(a.flags&131072)!==0}else mr=!1,Ut&&(s.flags&1048576)!==0&&iO(s,Th,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=hc(s.elementType),s.type=a,typeof a=="function")i_(a)?(h=yc(a,h),s.tag=1,s=wP(null,s,a,h,c)):(s.tag=0,s=H_(null,s,a,h,c));else{if(a!=null){var v=a.$$typeof;if(v===Y){s.tag=11,s=mP(null,s,a,h,c);break e}else if(v===j){s.tag=14,s=pP(null,s,a,h,c);break e}}throw s=qe(a)||a,Error(r(306,s,""))}}return s;case 0:return H_(a,s,s.type,s.pendingProps,c);case 1:return h=s.type,v=yc(h,s.pendingProps),wP(a,s,h,v,c);case 3:e:{if(un(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var w=s.memoizedState;v=w.element,b_(a,s),Nh(s,h,null,c);var R=s.memoizedState;if(h=R.cache,Gl(s,dr,h),h!==w.cache&&h_(s,[dr],c,!0),kh(),h=R.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=xP(a,s,h,c);break e}else if(h!==v){v=Qa(Error(r(424)),s),Ah(v),s=xP(a,s,h,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Sn=to(a.firstChild),Qr=s,Ut=!0,Kl=null,Ja=!0,c=yO(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(uc(),h===v){s=zs(a,s,c);break e}Zr(a,s,h,c)}s=s.child}return s;case 26:return jg(a,s),a===null?(c=LC(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ut||(c=s.type,a=s.pendingProps,h=Jg(ut.current).createElement(c),h[Zt]=s,h[xn]=a,Jr(h,c,a),zn(h),s.stateNode=h):s.memoizedState=LC(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return mt(s),a===null&&Ut&&(h=s.stateNode=DC(s.type,s.pendingProps,ut.current),Qr=s,Ja=!0,v=Sn,ou(s.type)?(kw=v,Sn=to(h.firstChild)):Sn=v),Zr(a,s,s.pendingProps.children,c),jg(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ut&&((v=h=Sn)&&(h=cq(h,s.type,s.pendingProps,Ja),h!==null?(s.stateNode=h,Qr=s,Sn=to(h.firstChild),Ja=!1,v=!0):v=!1),v||Hl(s)),mt(s),v=s.type,w=s.pendingProps,R=a!==null?a.memoizedProps:null,h=w.children,Iw(v,w)?h=null:R!==null&&Iw(v,R)&&(s.flags|=32),s.memoizedState!==null&&(v=A_(a,s,T9,null,null,c),Jh._currentValue=v),jg(a,s),Zr(a,s,h,c),s.child;case 6:return a===null&&Ut&&((a=c=Sn)&&(c=fq(c,s.pendingProps,Ja),c!==null?(s.stateNode=c,Qr=s,Sn=null,a=!0):a=!1),a||Hl(s)),null;case 13:return EP(a,s,c);case 4:return un(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=pc(s,null,h,c):Zr(a,s,h,c),s.child;case 11:return mP(a,s,s.type,s.pendingProps,c);case 7:return Zr(a,s,s.pendingProps,c),s.child;case 8:return Zr(a,s,s.pendingProps.children,c),s.child;case 12:return Zr(a,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,Gl(s,s.type,h.value),Zr(a,s,h.children,c),s.child;case 9:return v=s.type._context,h=s.pendingProps.children,fc(s),v=Xr(v),h=h(v),s.flags|=1,Zr(a,s,h,c),s.child;case 14:return pP(a,s,s.type,s.pendingProps,c);case 15:return gP(a,s,s.type,s.pendingProps,c);case 19:return TP(a,s,c);case 31:return N9(a,s,c);case 22:return yP(a,s,c,s.pendingProps);case 24:return fc(s),h=Xr(dr),a===null?(v=g_(),v===null&&(v=yn,w=m_(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),s.memoizedState={parent:h,cache:v},v_(s),Gl(s,dr,v)):((a.lanes&c)!==0&&(b_(a,s),Nh(s,null,null,c),kh()),v=a.memoizedState,w=s.memoizedState,v.parent!==h?(v={parent:h,cache:h},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Gl(s,dr,h)):(h=w.cache,Gl(s,dr,h),h!==v.cache&&h_(s,[dr],c,!0))),Zr(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Us(a){a.flags|=4}function ew(a,s,c,h,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(JP())a.flags|=8192;else throw mc=wg,y_}else a.flags&=-16777217}function IP(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qC(s))if(JP())a.flags|=8192;else throw mc=wg,y_}function Vg(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?yf():536870912,a.lanes|=s,Vf|=s)}function zh(a,s){if(!Ut)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Tn(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function M9(a,s,c){var h=s.pendingProps;switch(l_(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(s),null;case 1:return Tn(s),null;case 3:return c=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),js(dr),ue(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Tf(s)?Us(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,c_())),Tn(s),null;case 26:var v=s.type,w=s.memoizedState;return a===null?(Us(s),w!==null?(Tn(s),IP(s,w)):(Tn(s),ew(s,v,null,h,c))):w?w!==a.memoizedState?(Us(s),Tn(s),IP(s,w)):(Tn(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&Us(s),Tn(s),ew(s,v,a,h,c)),null;case 27:if(yt(s),c=ut.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&Us(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Tn(s),null}a=je.current,Tf(s)?oO(s):(a=DC(v,h,c),s.stateNode=a,Us(s))}return Tn(s),null;case 5:if(yt(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&Us(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Tn(s),null}if(w=je.current,Tf(s))oO(s);else{var R=Jg(ut.current);switch(w){case 1:w=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=R.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?R.createElement("select",{is:h.is}):R.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?R.createElement(v,{is:h.is}):R.createElement(v)}}w[Zt]=s,w[xn]=h;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)w.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=w;e:switch(Jr(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Us(s)}}return Tn(s),ew(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&Us(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=ut.current,Tf(s)){if(a=s.stateNode,c=s.memoizedProps,h=null,v=Qr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[Zt]=s,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||EC(a.nodeValue,c)),a||Hl(s,!0)}else a=Jg(a).createTextNode(h),a[Zt]=s,s.stateNode=a}return Tn(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(h=Tf(s),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Zt]=s}else uc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tn(s),a=!1}else c=c_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ea(s),s):(Ea(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Tn(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Tf(s),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Zt]=s}else uc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tn(s),v=!1}else v=c_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Ea(s),s):(Ea(s),null)}return Ea(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=s.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Vg(s,s.updateQueue),Tn(s),null);case 4:return ue(),a===null&&xw(s.stateNode.containerInfo),Tn(s),null;case 10:return js(s.type),Tn(s),null;case 19:if(Se(rr),h=s.memoizedState,h===null)return Tn(s),null;if(v=(s.flags&128)!==0,w=h.rendering,w===null)if(v)zh(h,!1);else{if(Yn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(w=Tg(a),w!==null){for(s.flags|=128,zh(h,!1),a=w.updateQueue,s.updateQueue=a,Vg(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)tO(c,a),c=c.sibling;return De(rr,rr.current&1|2),Ut&&Ds(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Dr()>Fg&&(s.flags|=128,v=!0,zh(h,!1),s.lanes=4194304)}else{if(!v)if(a=Tg(w),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,Vg(s,a),zh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Ut)return Tn(s),null}else 2*Dr()-h.renderingStartTime>Fg&&c!==536870912&&(s.flags|=128,v=!0,zh(h,!1),s.lanes=4194304);h.isBackwards?(w.sibling=s.child,s.child=w):(a=h.last,a!==null?a.sibling=w:s.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Dr(),a.sibling=null,c=rr.current,De(rr,v?c&1|2:c&1),Ut&&Ds(s,h.treeForkCount),a):(Tn(s),null);case 22:case 23:return Ea(s),E_(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(Tn(s),s.subtreeFlags&6&&(s.flags|=8192)):Tn(s),c=s.updateQueue,c!==null&&Vg(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),a!==null&&Se(dc),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),js(dr),Tn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function j9(a,s){switch(l_(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return js(dr),ue(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return yt(s),null;case 31:if(s.memoizedState!==null){if(Ea(s),s.alternate===null)throw Error(r(340));uc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ea(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));uc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Se(rr),null;case 4:return ue(),null;case 10:return js(s.type),null;case 22:case 23:return Ea(s),E_(),a!==null&&Se(dc),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return js(dr),null;case 25:return null;default:return null}}function OP(a,s){switch(l_(s),s.tag){case 3:js(dr),ue();break;case 26:case 27:case 5:yt(s);break;case 4:ue();break;case 31:s.memoizedState!==null&&Ea(s);break;case 13:Ea(s);break;case 19:Se(rr);break;case 10:js(s.type);break;case 22:case 23:Ea(s),E_(),a!==null&&Se(dc);break;case 24:js(dr)}}function Uh(a,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&a)===a){h=void 0;var w=c.create,R=c.inst;h=w(),R.destroy=h}c=c.next}while(c!==v)}}catch(U){nn(s,s.return,U)}}function Jl(a,s,c){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&a)===a){var R=h.inst,U=R.destroy;if(U!==void 0){R.destroy=void 0,v=s;var Z=c,ye=U;try{ye()}catch(Oe){nn(v,Z,Oe)}}}h=h.next}while(h!==w)}}catch(Oe){nn(s,s.return,Oe)}}function PP(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{bO(s,c)}catch(h){nn(a,a.return,h)}}}function CP(a,s,c){c.props=yc(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){nn(a,s,h)}}function Bh(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(v){nn(a,s,v)}}function Jo(a,s){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){nn(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){nn(a,s,v)}else c.current=null}function RP(a){var s=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){nn(a,a.return,v)}}function tw(a,s,c){try{var h=a.stateNode;iq(h,a.type,c,s),h[xn]=s}catch(v){nn(a,a.return,v)}}function kP(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ou(a.type)||a.tag===4}function nw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ou(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rw(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=oi));else if(h!==4&&(h===27&&ou(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(rw(a,s,c),a=a.sibling;a!==null;)rw(a,s,c),a=a.sibling}function zg(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(h===27&&ou(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(zg(a,s,c),a=a.sibling;a!==null;)zg(a,s,c),a=a.sibling}function NP(a){var s=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Jr(s,h,c),s[Zt]=a,s[xn]=c}catch(w){nn(a,a.return,w)}}var Bs=!1,pr=!1,iw=!1,DP=typeof WeakSet=="function"?WeakSet:Set,zr=null;function L9(a,s){if(a=a.containerInfo,Tw=oy,a=N(a),V(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var R=0,U=-1,Z=-1,ye=0,Oe=0,Ne=a,be=null;t:for(;;){for(var Ee;Ne!==c||v!==0&&Ne.nodeType!==3||(U=R+v),Ne!==w||h!==0&&Ne.nodeType!==3||(Z=R+h),Ne.nodeType===3&&(R+=Ne.nodeValue.length),(Ee=Ne.firstChild)!==null;)be=Ne,Ne=Ee;for(;;){if(Ne===a)break t;if(be===c&&++ye===v&&(U=R),be===w&&++Oe===h&&(Z=R),(Ee=Ne.nextSibling)!==null)break;Ne=be,be=Ne.parentNode}Ne=Ee}c=U===-1||Z===-1?null:{start:U,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Aw={focusedElem:a,selectionRange:c},oy=!1,zr=s;zr!==null;)if(s=zr,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,zr=a;else for(;zr!==null;){switch(s=zr,w=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=s,v=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var et=yc(c.type,v);a=h.getSnapshotBeforeUpdate(et,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(pt){nn(c,c.return,pt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Pw(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Pw(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,zr=a;break}zr=s.return}}function MP(a,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Fs(a,c),h&4&&Uh(5,c);break;case 1:if(Fs(a,c),h&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(R){nn(c,c.return,R)}else{var v=yc(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(R){nn(c,c.return,R)}}h&64&&PP(c),h&512&&Bh(c,c.return);break;case 3:if(Fs(a,c),h&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{bO(a,s)}catch(R){nn(c,c.return,R)}}break;case 27:s===null&&h&4&&NP(c);case 26:case 5:Fs(a,c),s===null&&h&4&&RP(c),h&512&&Bh(c,c.return);break;case 12:Fs(a,c);break;case 31:Fs(a,c),h&4&&VP(a,c);break;case 13:Fs(a,c),h&4&&zP(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=H9.bind(null,c),dq(a,c))));break;case 22:if(h=c.memoizedState!==null||Bs,!h){s=s!==null&&s.memoizedState!==null||pr,v=Bs;var w=pr;Bs=h,(pr=s)&&!w?$s(a,c,(c.subtreeFlags&8772)!==0):Fs(a,c),Bs=v,pr=w}break;case 30:break;default:Fs(a,c)}}function jP(a){var s=a.alternate;s!==null&&(a.alternate=null,jP(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ts(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pn=null,Wi=!1;function qs(a,s,c){for(c=c.child;c!==null;)LP(a,s,c),c=c.sibling}function LP(a,s,c){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ri,c)}catch{}switch(c.tag){case 26:pr||Jo(c,s),qs(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:pr||Jo(c,s);var h=Pn,v=Wi;ou(c.type)&&(Pn=c.stateNode,Wi=!1),qs(a,s,c),Qh(c.stateNode),Pn=h,Wi=v;break;case 5:pr||Jo(c,s);case 6:if(h=Pn,v=Wi,Pn=null,qs(a,s,c),Pn=h,Wi=v,Pn!==null)if(Wi)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(c.stateNode)}catch(w){nn(c,s,w)}else try{Pn.removeChild(c.stateNode)}catch(w){nn(c,s,w)}break;case 18:Pn!==null&&(Wi?(a=Pn,PC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Hf(a)):PC(Pn,c.stateNode));break;case 4:h=Pn,v=Wi,Pn=c.stateNode.containerInfo,Wi=!0,qs(a,s,c),Pn=h,Wi=v;break;case 0:case 11:case 14:case 15:Jl(2,c,s),pr||Jl(4,c,s),qs(a,s,c);break;case 1:pr||(Jo(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&CP(c,s,h)),qs(a,s,c);break;case 21:qs(a,s,c);break;case 22:pr=(h=pr)||c.memoizedState!==null,qs(a,s,c),pr=h;break;default:qs(a,s,c)}}function VP(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Hf(a)}catch(c){nn(s,s.return,c)}}}function zP(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Hf(a)}catch(c){nn(s,s.return,c)}}function V9(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new DP),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new DP),s;default:throw Error(r(435,a.tag))}}function Ug(a,s){var c=V9(a);s.forEach(function(h){if(!c.has(h)){c.add(h);var v=G9.bind(null,a,h);h.then(v,v)}})}function Yi(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],w=a,R=s,U=R;e:for(;U!==null;){switch(U.tag){case 27:if(ou(U.type)){Pn=U.stateNode,Wi=!1;break e}break;case 5:Pn=U.stateNode,Wi=!1;break e;case 3:case 4:Pn=U.stateNode.containerInfo,Wi=!0;break e}U=U.return}if(Pn===null)throw Error(r(160));LP(w,R,v),Pn=null,Wi=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)UP(s,a),s=s.sibling}var Ao=null;function UP(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Yi(s,a),Qi(a),h&4&&(Jl(3,a,a.return),Uh(3,a),Jl(5,a,a.return));break;case 1:Yi(s,a),Qi(a),h&512&&(pr||c===null||Jo(c,c.return)),h&64&&Bs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Ao;if(Yi(s,a),Qi(a),h&512&&(pr||c===null||Jo(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Mr]||w[Zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),Jr(w,h,c),w[Zt]=a,zn(w),h=w;break e;case"link":var R=UC("link","href",v).get(h+(c.href||""));if(R){for(var U=0;U<R.length;U++)if(w=R[U],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(U,1);break t}}w=v.createElement(h),Jr(w,h,c),v.head.appendChild(w);break;case"meta":if(R=UC("meta","content",v).get(h+(c.content||""))){for(U=0;U<R.length;U++)if(w=R[U],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(U,1);break t}}w=v.createElement(h),Jr(w,h,c),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[Zt]=a,zn(w),h=w}a.stateNode=h}else BC(v,a.type,a.stateNode);else a.stateNode=zC(v,h,a.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?BC(v,a.type,a.stateNode):zC(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&tw(a,a.memoizedProps,c.memoizedProps)}break;case 27:Yi(s,a),Qi(a),h&512&&(pr||c===null||Jo(c,c.return)),c!==null&&h&4&&tw(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Yi(s,a),Qi(a),h&512&&(pr||c===null||Jo(c,c.return)),a.flags&32){v=a.stateNode;try{Yr(v,"")}catch(et){nn(a,a.return,et)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,tw(a,v,c!==null?c.memoizedProps:v)),h&1024&&(iw=!0);break;case 6:if(Yi(s,a),Qi(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(et){nn(a,a.return,et)}}break;case 3:if(ny=null,v=Ao,Ao=ey(s.containerInfo),Yi(s,a),Ao=v,Qi(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Hf(s.containerInfo)}catch(et){nn(a,a.return,et)}iw&&(iw=!1,BP(a));break;case 4:h=Ao,Ao=ey(a.stateNode.containerInfo),Yi(s,a),Qi(a),Ao=h;break;case 12:Yi(s,a),Qi(a);break;case 31:Yi(s,a),Qi(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ug(a,h)));break;case 13:Yi(s,a),Qi(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qg=Dr()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ug(a,h)));break;case 22:v=a.memoizedState!==null;var Z=c!==null&&c.memoizedState!==null,ye=Bs,Oe=pr;if(Bs=ye||v,pr=Oe||Z,Yi(s,a),pr=Oe,Bs=ye,Qi(a),h&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||Z||Bs||pr||vc(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){Z=c=s;try{if(w=Z.stateNode,v)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{U=Z.stateNode;var Ne=Z.memoizedProps.style,be=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;U.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(et){nn(Z,Z.return,et)}}}else if(s.tag===6){if(c===null){Z=s;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(et){nn(Z,Z.return,et)}}}else if(s.tag===18){if(c===null){Z=s;try{var Ee=Z.stateNode;v?CC(Ee,!0):CC(Z.stateNode,!1)}catch(et){nn(Z,Z.return,et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Ug(a,c))));break;case 19:Yi(s,a),Qi(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Ug(a,h)));break;case 30:break;case 21:break;default:Yi(s,a),Qi(a)}}function Qi(a){var s=a.flags;if(s&2){try{for(var c,h=a.return;h!==null;){if(kP(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=nw(a);zg(a,w,v);break;case 5:var R=c.stateNode;c.flags&32&&(Yr(R,""),c.flags&=-33);var U=nw(a);zg(a,U,R);break;case 3:case 4:var Z=c.stateNode.containerInfo,ye=nw(a);rw(a,ye,Z);break;default:throw Error(r(161))}}catch(Oe){nn(a,a.return,Oe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function BP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;BP(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Fs(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)MP(a,s.alternate,s),s=s.sibling}function vc(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Jl(4,s,s.return),vc(s);break;case 1:Jo(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&CP(s,s.return,c),vc(s);break;case 27:Qh(s.stateNode);case 26:case 5:Jo(s,s.return),vc(s);break;case 22:s.memoizedState===null&&vc(s);break;case 30:vc(s);break;default:vc(s)}a=a.sibling}}function $s(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,v=a,w=s,R=w.flags;switch(w.tag){case 0:case 11:case 15:$s(v,w,c),Uh(4,w);break;case 1:if($s(v,w,c),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ye){nn(h,h.return,ye)}if(h=w,v=h.updateQueue,v!==null){var U=h.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)vO(Z[v],U)}catch(ye){nn(h,h.return,ye)}}c&&R&64&&PP(w),Bh(w,w.return);break;case 27:NP(w);case 26:case 5:$s(v,w,c),c&&h===null&&R&4&&RP(w),Bh(w,w.return);break;case 12:$s(v,w,c);break;case 31:$s(v,w,c),c&&R&4&&VP(v,w);break;case 13:$s(v,w,c),c&&R&4&&zP(v,w);break;case 22:w.memoizedState===null&&$s(v,w,c),Bh(w,w.return);break;case 30:break;default:$s(v,w,c)}s=s.sibling}}function aw(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ih(c))}function ow(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ih(a))}function Io(a,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qP(a,s,c,h),s=s.sibling}function qP(a,s,c,h){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Io(a,s,c,h),v&2048&&Uh(9,s);break;case 1:Io(a,s,c,h);break;case 3:Io(a,s,c,h),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ih(a)));break;case 12:if(v&2048){Io(a,s,c,h),a=s.stateNode;try{var w=s.memoizedProps,R=w.id,U=w.onPostCommit;typeof U=="function"&&U(R,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Z){nn(s,s.return,Z)}}else Io(a,s,c,h);break;case 31:Io(a,s,c,h);break;case 13:Io(a,s,c,h);break;case 23:break;case 22:w=s.stateNode,R=s.alternate,s.memoizedState!==null?w._visibility&2?Io(a,s,c,h):qh(a,s):w._visibility&2?Io(a,s,c,h):(w._visibility|=2,Mf(a,s,c,h,(s.subtreeFlags&10256)!==0||!1)),v&2048&&aw(R,s);break;case 24:Io(a,s,c,h),v&2048&&ow(s.alternate,s);break;default:Io(a,s,c,h)}}function Mf(a,s,c,h,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=a,R=s,U=c,Z=h,ye=R.flags;switch(R.tag){case 0:case 11:case 15:Mf(w,R,U,Z,v),Uh(8,R);break;case 23:break;case 22:var Oe=R.stateNode;R.memoizedState!==null?Oe._visibility&2?Mf(w,R,U,Z,v):qh(w,R):(Oe._visibility|=2,Mf(w,R,U,Z,v)),v&&ye&2048&&aw(R.alternate,R);break;case 24:Mf(w,R,U,Z,v),v&&ye&2048&&ow(R.alternate,R);break;default:Mf(w,R,U,Z,v)}s=s.sibling}}function qh(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,h=s,v=h.flags;switch(h.tag){case 22:qh(c,h),v&2048&&aw(h.alternate,h);break;case 24:qh(c,h),v&2048&&ow(h.alternate,h);break;default:qh(c,h)}s=s.sibling}}var Fh=8192;function jf(a,s,c){if(a.subtreeFlags&Fh)for(a=a.child;a!==null;)FP(a,s,c),a=a.sibling}function FP(a,s,c){switch(a.tag){case 26:jf(a,s,c),a.flags&Fh&&a.memoizedState!==null&&Sq(c,Ao,a.memoizedState,a.memoizedProps);break;case 5:jf(a,s,c);break;case 3:case 4:var h=Ao;Ao=ey(a.stateNode.containerInfo),jf(a,s,c),Ao=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Fh,Fh=16777216,jf(a,s,c),Fh=h):jf(a,s,c));break;default:jf(a,s,c)}}function $P(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function $h(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];zr=h,HP(h,a)}$P(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KP(a),a=a.sibling}function KP(a){switch(a.tag){case 0:case 11:case 15:$h(a),a.flags&2048&&Jl(9,a,a.return);break;case 3:$h(a);break;case 12:$h(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Bg(a)):$h(a);break;default:$h(a)}}function Bg(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];zr=h,HP(h,a)}$P(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Jl(8,s,s.return),Bg(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Bg(s));break;default:Bg(s)}a=a.sibling}}function HP(a,s){for(;zr!==null;){var c=zr;switch(c.tag){case 0:case 11:case 15:Jl(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ih(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,zr=h;else e:for(c=a;zr!==null;){h=zr;var v=h.sibling,w=h.return;if(jP(h),h===c){zr=null;break e}if(v!==null){v.return=w,zr=v;break e}zr=w}}}var z9={getCacheForType:function(a){var s=Xr(dr),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Xr(dr).controller.signal}},U9=typeof WeakMap=="function"?WeakMap:Map,Wt=0,yn=null,Nt=null,Mt=0,tn=0,Sa=null,eu=!1,Lf=!1,sw=!1,Ks=0,Yn=0,tu=0,bc=0,lw=0,Ta=0,Vf=0,Kh=null,Xi=null,uw=!1,qg=0,GP=0,Fg=1/0,$g=null,nu=null,Sr=0,ru=null,zf=null,Hs=0,cw=0,fw=null,WP=null,Hh=0,dw=null;function Aa(){return(Wt&2)!==0&&Mt!==0?Mt&-Mt:de.T!==null?vw():Ss()}function YP(){if(Ta===0)if((Mt&536870912)===0||Ut){var a=yo;yo<<=1,(yo&3932160)===0&&(yo=262144),Ta=a}else Ta=536870912;return a=xa.current,a!==null&&(a.flags|=32),Ta}function Zi(a,s,c){(a===yn&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(Uf(a,0),iu(a,Mt,Ta,!1)),Di(a,c),((Wt&2)===0||a!==yn)&&(a===yn&&((Wt&2)===0&&(bc|=c),Yn===4&&iu(a,Mt,Ta,!1)),es(a))}function QP(a,s,c){if((Wt&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&a.expiredLanes)===0||bi(a,s),v=h?F9(a,s):mw(a,s,!0),w=h;do{if(v===0){Lf&&!h&&iu(a,s,0,!1);break}else{if(c=a.current.alternate,w&&!B9(c)){v=mw(a,s,!1),w=!1;continue}if(v===2){if(w=s,a.errorRecoveryDisabledLanes&w)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var U=a;v=Kh;var Z=U.current.memoizedState.isDehydrated;if(Z&&(Uf(U,R).flags|=256),R=mw(U,R,!1),R!==2){if(sw&&!Z){U.errorRecoveryDisabledLanes|=w,bc|=w,v=4;break e}w=Xi,Xi=v,w!==null&&(Xi===null?Xi=w:Xi.push.apply(Xi,w))}v=R}if(w=!1,v!==2)continue}}if(v===1){Uf(a,0),iu(a,s,0,!0);break}e:{switch(h=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:iu(h,s,Ta,!eu);break e;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=qg+300-Dr(),10<v)){if(iu(h,s,Ta,!eu),ua(h,0,!0)!==0)break e;Hs=s,h.timeoutHandle=IC(XP.bind(null,h,c,Xi,$g,uw,s,Ta,bc,Vf,eu,w,"Throttled",-0,0),v);break e}XP(h,c,Xi,$g,uw,s,Ta,bc,Vf,eu,w,null,-0,0)}}break}while(!0);es(a)}function XP(a,s,c,h,v,w,R,U,Z,ye,Oe,Ne,be,Ee){if(a.timeoutHandle=-1,Ne=s.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},FP(s,w,Ne);var et=(w&62914560)===w?qg-Dr():(w&4194048)===w?GP-Dr():0;if(et=Tq(Ne,et),et!==null){Hs=w,a.cancelPendingCommit=et(aC.bind(null,a,s,w,c,h,v,R,U,Z,Oe,Ne,null,be,Ee)),iu(a,w,R,!ye);return}}aC(a,s,w,c,h,v,R,U,Z)}function B9(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],w=v.getSnapshot;v=v.value;try{if(!si(w(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function iu(a,s,c,h){s&=~lw,s&=~bc,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var v=s;0<v;){var w=31-Ge(v),R=1<<w;h[w]=-1,v&=~R}c!==0&&Ua(a,c,s)}function Kg(){return(Wt&6)===0?(Gh(0),!1):!0}function hw(){if(Nt!==null){if(tn===0)var a=Nt.return;else a=Nt,Ms=cc=null,P_(a),Cf=null,Ph=0,a=Nt;for(;a!==null;)OP(a.alternate,a),a=a.return;Nt=null}}function Uf(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,sq(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Hs=0,hw(),yn=a,Nt=c=Ns(a.current,null),Mt=s,tn=0,Sa=null,eu=!1,Lf=bi(a,s),sw=!1,Vf=Ta=lw=bc=tu=Yn=0,Xi=Kh=null,uw=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var v=31-Ge(h),w=1<<v;s|=a[v],h&=~w}return Ks=s,Vr(),c}function ZP(a,s){Tt=null,de.H=Lh,s===Pf||s===_g?(s=mO(),tn=3):s===y_?(s=mO(),tn=4):tn=s===K_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sa=s,Nt===null&&(Yn=1,Dg(a,Qa(s,a.current)))}function JP(){var a=xa.current;return a===null?!0:(Mt&4194048)===Mt?eo===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?a===eo:!1}function eC(){var a=de.H;return de.H=Lh,a===null?Lh:a}function tC(){var a=de.A;return de.A=z9,a}function Hg(){Yn=4,eu||(Mt&4194048)!==Mt&&xa.current!==null||(Lf=!0),(tu&134217727)===0&&(bc&134217727)===0||yn===null||iu(yn,Mt,Ta,!1)}function mw(a,s,c){var h=Wt;Wt|=2;var v=eC(),w=tC();(yn!==a||Mt!==s)&&($g=null,Uf(a,s)),s=!1;var R=Yn;e:do try{if(tn!==0&&Nt!==null){var U=Nt,Z=Sa;switch(tn){case 8:hw(),R=6;break e;case 3:case 2:case 9:case 6:xa.current===null&&(s=!0);var ye=tn;if(tn=0,Sa=null,Bf(a,U,Z,ye),c&&Lf){R=0;break e}break;default:ye=tn,tn=0,Sa=null,Bf(a,U,Z,ye)}}q9(),R=Yn;break}catch(Oe){ZP(a,Oe)}while(!0);return s&&a.shellSuspendCounter++,Ms=cc=null,Wt=h,de.H=v,de.A=w,Nt===null&&(yn=null,Mt=0,Vr()),R}function q9(){for(;Nt!==null;)nC(Nt)}function F9(a,s){var c=Wt;Wt|=2;var h=eC(),v=tC();yn!==a||Mt!==s?($g=null,Fg=Dr()+500,Uf(a,s)):Lf=bi(a,s);e:do try{if(tn!==0&&Nt!==null){s=Nt;var w=Sa;t:switch(tn){case 1:tn=0,Sa=null,Bf(a,s,w,1);break;case 2:case 9:if(dO(w)){tn=0,Sa=null,rC(s);break}s=function(){tn!==2&&tn!==9||yn!==a||(tn=7),es(a)},w.then(s,s);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:dO(w)?(tn=0,Sa=null,rC(s)):(tn=0,Sa=null,Bf(a,s,w,7));break;case 5:var R=null;switch(Nt.tag){case 26:R=Nt.memoizedState;case 5:case 27:var U=Nt;if(R?qC(R):U.stateNode.complete){tn=0,Sa=null;var Z=U.sibling;if(Z!==null)Nt=Z;else{var ye=U.return;ye!==null?(Nt=ye,Gg(ye)):Nt=null}break t}}tn=0,Sa=null,Bf(a,s,w,5);break;case 6:tn=0,Sa=null,Bf(a,s,w,6);break;case 8:hw(),Yn=6;break e;default:throw Error(r(462))}}$9();break}catch(Oe){ZP(a,Oe)}while(!0);return Ms=cc=null,de.H=h,de.A=v,Wt=c,Nt!==null?0:(yn=null,Mt=0,Vr(),Yn)}function $9(){for(;Nt!==null&&!gf();)nC(Nt)}function nC(a){var s=AP(a.alternate,a,Ks);a.memoizedProps=a.pendingProps,s===null?Gg(a):Nt=s}function rC(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=_P(c,s,s.pendingProps,s.type,void 0,Mt);break;case 11:s=_P(c,s,s.pendingProps,s.type.render,s.ref,Mt);break;case 5:P_(s);default:OP(c,s),s=Nt=tO(s,Ks),s=AP(c,s,Ks)}a.memoizedProps=a.pendingProps,s===null?Gg(a):Nt=s}function Bf(a,s,c,h){Ms=cc=null,P_(s),Cf=null,Ph=0;var v=s.return;try{if(k9(a,v,s,c,Mt)){Yn=1,Dg(a,Qa(c,a.current)),Nt=null;return}}catch(w){if(v!==null)throw Nt=v,w;Yn=1,Dg(a,Qa(c,a.current)),Nt=null;return}s.flags&32768?(Ut||h===1?a=!0:Lf||(Mt&536870912)!==0?a=!1:(eu=a=!0,(h===2||h===9||h===3||h===6)&&(h=xa.current,h!==null&&h.tag===13&&(h.flags|=16384))),iC(s,a)):Gg(s)}function Gg(a){var s=a;do{if((s.flags&32768)!==0){iC(s,eu);return}a=s.return;var c=M9(s.alternate,s,Ks);if(c!==null){Nt=c;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=a}while(s!==null);Yn===0&&(Yn=5)}function iC(a,s){do{var c=j9(a.alternate,a);if(c!==null){c.flags&=32767,Nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=c}while(a!==null);Yn=6,Nt=null}function aC(a,s,c,h,v,w,R,U,Z){a.cancelPendingCommit=null;do Wg();while(Sr!==0);if((Wt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=St,Zu(a,c,w,R,U,Z),a===yn&&(Nt=yn=null,Mt=0),zf=s,ru=a,Hs=c,cw=w,fw=v,WP=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,W9(Va,function(){return cC(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=de.T,de.T=null,v=Pe.p,Pe.p=2,R=Wt,Wt|=4;try{L9(a,s,c)}finally{Wt=R,Pe.p=v,de.T=h}}Sr=1,oC(),sC(),lC()}}function oC(){if(Sr===1){Sr=0;var a=ru,s=zf,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=de.T,de.T=null;var h=Pe.p;Pe.p=2;var v=Wt;Wt|=4;try{UP(s,a);var w=Aw,R=N(a.containerInfo),U=w.focusedElem,Z=w.selectionRange;if(R!==U&&U&&U.ownerDocument&&P(U.ownerDocument.documentElement,U)){if(Z!==null&&V(U)){var ye=Z.start,Oe=Z.end;if(Oe===void 0&&(Oe=ye),"selectionStart"in U)U.selectionStart=ye,U.selectionEnd=Math.min(Oe,U.value.length);else{var Ne=U.ownerDocument||document,be=Ne&&Ne.defaultView||window;if(be.getSelection){var Ee=be.getSelection(),et=U.textContent.length,pt=Math.min(Z.start,et),dn=Z.end===void 0?pt:Math.min(Z.end,et);!Ee.extend&&pt>dn&&(R=dn,dn=pt,pt=R);var fe=S(U,pt),ie=S(U,dn);if(fe&&ie&&(Ee.rangeCount!==1||Ee.anchorNode!==fe.node||Ee.anchorOffset!==fe.offset||Ee.focusNode!==ie.node||Ee.focusOffset!==ie.offset)){var ge=Ne.createRange();ge.setStart(fe.node,fe.offset),Ee.removeAllRanges(),pt>dn?(Ee.addRange(ge),Ee.extend(ie.node,ie.offset)):(ge.setEnd(ie.node,ie.offset),Ee.addRange(ge))}}}}for(Ne=[],Ee=U;Ee=Ee.parentNode;)Ee.nodeType===1&&Ne.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ne.length;U++){var Re=Ne[U];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}oy=!!Tw,Aw=Tw=null}finally{Wt=v,Pe.p=h,de.T=c}}a.current=s,Sr=2}}function sC(){if(Sr===2){Sr=0;var a=ru,s=zf,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=de.T,de.T=null;var h=Pe.p;Pe.p=2;var v=Wt;Wt|=4;try{MP(a,s.alternate,s)}finally{Wt=v,Pe.p=h,de.T=c}}Sr=3}}function lC(){if(Sr===4||Sr===3){Sr=0,Bo();var a=ru,s=zf,c=Hs,h=WP;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Sr=5:(Sr=0,zf=ru=null,uC(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(nu=null),Mi(c),s=s.stateNode,Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ri,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=de.T,v=Pe.p,Pe.p=2,de.T=null;try{for(var w=a.onRecoverableError,R=0;R<h.length;R++){var U=h[R];w(U.value,{componentStack:U.stack})}}finally{de.T=s,Pe.p=v}}(Hs&3)!==0&&Wg(),es(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===dw?Hh++:(Hh=0,dw=a):Hh=0,Gh(0)}}function uC(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ih(s)))}function Wg(){return oC(),sC(),lC(),cC()}function cC(){if(Sr!==5)return!1;var a=ru,s=cw;cw=0;var c=Mi(Hs),h=de.T,v=Pe.p;try{Pe.p=32>c?32:c,de.T=null,c=fw,fw=null;var w=ru,R=Hs;if(Sr=0,zf=ru=null,Hs=0,(Wt&6)!==0)throw Error(r(331));var U=Wt;if(Wt|=4,KP(w.current),qP(w,w.current,R,c),Wt=U,Gh(0,!1),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ri,w)}catch{}return!0}finally{Pe.p=v,de.T=h,uC(a,s)}}function fC(a,s,c){s=Qa(c,s),s=$_(a.stateNode,s,2),a=Ql(a,s,2),a!==null&&(Di(a,2),es(a))}function nn(a,s,c){if(a.tag===3)fC(a,a,c);else for(;s!==null;){if(s.tag===3){fC(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(nu===null||!nu.has(h))){a=Qa(c,a),c=dP(2),h=Ql(s,c,2),h!==null&&(hP(c,h,s,a),Di(h,2),es(h));break}}s=s.return}}function pw(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new U9;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(c)||(sw=!0,v.add(c),a=K9.bind(null,a,s,c),s.then(a,a))}function K9(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,yn===a&&(Mt&c)===c&&(Yn===4||Yn===3&&(Mt&62914560)===Mt&&300>Dr()-qg?(Wt&2)===0&&Uf(a,0):lw|=c,Vf===Mt&&(Vf=0)),es(a)}function dC(a,s){s===0&&(s=yf()),a=On(a,s),a!==null&&(Di(a,s),es(a))}function H9(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),dC(a,c)}function G9(a,s){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),dC(a,c)}function W9(a,s){return Ln(a,s)}var Yg=null,qf=null,gw=!1,Qg=!1,yw=!1,au=0;function es(a){a!==qf&&a.next===null&&(qf===null?Yg=qf=a:qf=qf.next=a),Qg=!0,gw||(gw=!0,Q9())}function Gh(a,s){if(!yw&&Qg){yw=!0;do for(var c=!1,h=Yg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var R=h.suspendedLanes,U=h.pingedLanes;w=(1<<31-Ge(42|a)+1)-1,w&=v&~(R&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,gC(h,w))}else w=Mt,w=ua(h,h===yn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||bi(h,w)||(c=!0,gC(h,w));h=h.next}while(c);yw=!1}}function Y9(){hC()}function hC(){Qg=gw=!1;var a=0;au!==0&&oq()&&(a=au);for(var s=Dr(),c=null,h=Yg;h!==null;){var v=h.next,w=mC(h,s);w===0?(h.next=null,c===null?Yg=v:c.next=v,v===null&&(qf=c)):(c=h,(a!==0||(w&3)!==0)&&(Qg=!0)),h=v}Sr!==0&&Sr!==5||Gh(a),au!==0&&(au=0)}function mC(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var R=31-Ge(w),U=1<<R,Z=v[R];Z===-1?((U&c)===0||(U&h)!==0)&&(v[R]=_h(U,s)):Z<=s&&(a.expiredLanes|=U),w&=~U}if(s=yn,c=Mt,c=ua(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===s&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&xr(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||bi(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(h!==null&&xr(h),Mi(c)){case 2:case 8:c=la;break;case 32:c=Va;break;case 268435456:c=Il;break;default:c=Va}return h=pC.bind(null,a),c=Ln(c,h),a.callbackPriority=s,a.callbackNode=c,s}return h!==null&&h!==null&&xr(h),a.callbackPriority=2,a.callbackNode=null,2}function pC(a,s){if(Sr!==0&&Sr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Wg()&&a.callbackNode!==c)return null;var h=Mt;return h=ua(a,a===yn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(QP(a,h,s),mC(a,Dr()),a.callbackNode!=null&&a.callbackNode===c?pC.bind(null,a):null)}function gC(a,s){if(Wg())return null;QP(a,s,!0)}function Q9(){lq(function(){(Wt&6)!==0?Ln(sa,Y9):hC()})}function vw(){if(au===0){var a=If;a===0&&(a=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),au=a}return au}function yC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ya(""+a)}function vC(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function X9(a,s,c,h,v){if(s==="submit"&&c&&c.stateNode===v){var w=yC((v[xn]||null).action),R=h.submitter;R&&(s=(s=R[xn]||null)?yC(s.formAction):R.getAttribute("formAction"),s!==null&&(w=s,R=null));var U=new $a("action","action",null,h,v);a.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(au!==0){var Z=R?vC(v,R):new FormData(v);V_(c,{pending:!0,data:Z,method:v.method,action:w},null,Z)}}else typeof w=="function"&&(U.preventDefault(),Z=R?vC(v,R):new FormData(v),V_(c,{pending:!0,data:Z,method:v.method,action:w},w,Z))},currentTarget:v}]})}}for(var bw=0;bw<$e.length;bw++){var _w=$e[bw],Z9=_w.toLowerCase(),J9=_w[0].toUpperCase()+_w.slice(1);Ve(Z9,"on"+J9)}Ve(pe,"onAnimationEnd"),Ve(ve,"onAnimationIteration"),Ve(Ie,"onAnimationStart"),Ve("dblclick","onDoubleClick"),Ve("focusin","onFocus"),Ve("focusout","onBlur"),Ve(ke,"onTransitionRun"),Ve(ze,"onTransitionStart"),Ve(He,"onTransitionCancel"),Ve(Le,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wh));function bC(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],v=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var R=h.length-1;0<=R;R--){var U=h[R],Z=U.instance,ye=U.currentTarget;if(U=U.listener,Z!==w&&v.isPropagationStopped())break e;w=U,v.currentTarget=ye;try{w(v)}catch(Oe){Qe(Oe)}v.currentTarget=null,w=Z}else for(R=0;R<h.length;R++){if(U=h[R],Z=U.instance,ye=U.currentTarget,U=U.listener,Z!==w&&v.isPropagationStopped())break e;w=U,v.currentTarget=ye;try{w(v)}catch(Oe){Qe(Oe)}v.currentTarget=null,w=Z}}}}function Dt(a,s){var c=s[vo];c===void 0&&(c=s[vo]=new Set);var h=a+"__bubble";c.has(h)||(_C(s,a,2,!1),c.add(h))}function ww(a,s,c){var h=0;s&&(h|=4),_C(c,a,h,s)}var Xg="_reactListening"+Math.random().toString(36).slice(2);function xw(a){if(!a[Xg]){a[Xg]=!0,Ba.forEach(function(c){c!=="selectionchange"&&(eq.has(c)||ww(c,!1,a),ww(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Xg]||(s[Xg]=!0,ww("selectionchange",!1,s))}}function _C(a,s,c,h){switch(YC(s)){case 2:var v=Oq;break;case 8:v=Pq;break;default:v=Lw}c=v.bind(null,s,c,a),v=void 0,!Is||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(s,c,{capture:!0,passive:v}):a.addEventListener(s,c,!0):v!==void 0?a.addEventListener(s,c,{passive:v}):a.addEventListener(s,c,!1)}function Ew(a,s,c,h,v){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var U=h.stateNode.containerInfo;if(U===v)break;if(R===4)for(R=h.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;U!==null;){if(R=ji(U),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){h=w=R;continue e}U=U.parentNode}}h=h.return}Bi(function(){var ye=w,Oe=_i(c),Ne=[];e:{var be=Be.get(a);if(be!==void 0){var Ee=$a,et=a;switch(a){case"keypress":if(xo(c)===0)break e;case"keydown":case"keyup":Ee=Cs;break;case"focusin":et="focus",Ee=Ga;break;case"focusout":et="blur",Ee=Ga;break;case"beforeblur":case"afterblur":Ee=Ga;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=I;break;case pe:case ve:case Ie:Ee=rc;break;case Le:Ee=F;break;case"scroll":case"scrollend":Ee=Ho;break;case"wheel":Ee=we;break;case"copy":case"cut":case"paste":Ee=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Wa;break;case"toggle":case"beforetoggle":Ee=wt}var pt=(s&4)!==0,dn=!pt&&(a==="scroll"||a==="scrollend"),fe=pt?be!==null?be+"Capture":null:be;pt=[];for(var ie=ye,ge;ie!==null;){var Re=ie;if(ge=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ge===null||fe===null||(Re=wi(ie,fe),Re!=null&&pt.push(Yh(ie,Re,ge))),dn)break;ie=ie.return}0<pt.length&&(be=new Ee(be,et,null,c,Oe),Ne.push({event:be,listeners:pt}))}}if((s&7)===0){e:{if(be=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",be&&c!==Ui&&(et=c.relatedTarget||c.fromElement)&&(ji(et)||et[Er]))break e;if((Ee||be)&&(be=Oe.window===Oe?Oe:(be=Oe.ownerDocument)?be.defaultView||be.parentWindow:window,Ee?(et=c.relatedTarget||c.toElement,Ee=ye,et=et?ji(et):null,et!==null&&(dn=o(et),pt=et.tag,et!==dn||pt!==5&&pt!==27&&pt!==6)&&(et=null)):(Ee=null,et=ye),Ee!==et)){if(pt=Os,Re="onMouseLeave",fe="onMouseEnter",ie="mouse",(a==="pointerout"||a==="pointerover")&&(pt=Wa,Re="onPointerLeave",fe="onPointerEnter",ie="pointer"),dn=Ee==null?be:er(Ee),ge=et==null?be:er(et),be=new pt(Re,ie+"leave",Ee,c,Oe),be.target=dn,be.relatedTarget=ge,Re=null,ji(Oe)===ye&&(pt=new pt(fe,ie+"enter",et,c,Oe),pt.target=ge,pt.relatedTarget=dn,Re=pt),dn=Re,Ee&&et)t:{for(pt=tq,fe=Ee,ie=et,ge=0,Re=fe;Re;Re=pt(Re))ge++;Re=0;for(var dt=ie;dt;dt=pt(dt))Re++;for(;0<ge-Re;)fe=pt(fe),ge--;for(;0<Re-ge;)ie=pt(ie),Re--;for(;ge--;){if(fe===ie||ie!==null&&fe===ie.alternate){pt=fe;break t}fe=pt(fe),ie=pt(ie)}pt=null}else pt=null;Ee!==null&&wC(Ne,be,Ee,pt,!1),et!==null&&dn!==null&&wC(Ne,dn,et,pt,!0)}}e:{if(be=ye?er(ye):window,Ee=be.nodeName&&be.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&be.type==="file")var $t=oc;else if(_f(be))if(Ya)$t=Fl;else{$t=ks;var st=mg}else Ee=be.nodeName,!Ee||Ee.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ye&&kl(ye.elementType)&&($t=oc):$t=Eh;if($t&&($t=$t(a,ye))){xh(Ne,$t,c,Oe);break e}st&&st(a,be,ye),a==="focusout"&&ye&&be.type==="number"&&ye.memoizedProps.value!=null&&As(be,"number",be.value)}switch(st=ye?er(ye):window,a){case"focusin":(_f(st)||st.contentEditable==="true")&&(Q=st,te=ye,ne=null);break;case"focusout":ne=te=Q=null;break;case"mousedown":se=!0;break;case"contextmenu":case"mouseup":case"dragend":se=!1,J(Ne,c,Oe);break;case"selectionchange":if(K)break;case"keydown":case"keyup":J(Ne,c,Oe)}var At;if(zt)e:{switch(a){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Rs?Yo(a,c)&&(jt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(jt="onCompositionStart");jt&&(Hi&&c.locale!=="ko"&&(Rs||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Rs&&(At=wo()):(qi=Oe,Nl="value"in qi?qi.value:qi.textContent,Rs=!0)),st=Zg(ye,jt),0<st.length&&(jt=new Fi(jt,a,null,c,Oe),Ne.push({event:jt,listeners:st}),At?jt.data=At:(At=Ul(c),At!==null&&(jt.data=At)))),(At=Ki?fg(a,c):n_(a,c))&&(jt=Zg(ye,"onBeforeInput"),0<jt.length&&(st=new Fi("onBeforeInput","beforeinput",null,c,Oe),Ne.push({event:st,listeners:jt}),st.data=At)),X9(Ne,a,ye,c,Oe)}bC(Ne,s)})}function Yh(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Zg(a,s){for(var c=s+"Capture",h=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=wi(a,c),v!=null&&h.unshift(Yh(a,v,w)),v=wi(a,s),v!=null&&h.push(Yh(a,v,w))),a.tag===3)return h;a=a.return}return[]}function tq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function wC(a,s,c,h,v){for(var w=s._reactName,R=[];c!==null&&c!==h;){var U=c,Z=U.alternate,ye=U.stateNode;if(U=U.tag,Z!==null&&Z===h)break;U!==5&&U!==26&&U!==27||ye===null||(Z=ye,v?(ye=wi(c,w),ye!=null&&R.unshift(Yh(c,ye,Z))):v||(ye=wi(c,w),ye!=null&&R.push(Yh(c,ye,Z)))),c=c.return}R.length!==0&&a.push({event:s,listeners:R})}var nq=/\r\n?/g,rq=/\u0000|\uFFFD/g;function xC(a){return(typeof a=="string"?a:""+a).replace(nq,`
`).replace(rq,"")}function EC(a,s){return s=xC(s),xC(a)===s}function fn(a,s,c,h,v,w){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Yr(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Yr(a,""+h);break;case"className":ai(a,"class",h);break;case"tabIndex":ai(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(a,c,h);break;case"style":Rl(a,h,w);break;case"data":if(s!=="object"){ai(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=ya(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&fn(a,s,"name",v.name,v,null),fn(a,s,"formEncType",v.formEncType,v,null),fn(a,s,"formMethod",v.formMethod,v,null),fn(a,s,"formTarget",v.formTarget,v,null)):(fn(a,s,"encType",v.encType,v,null),fn(a,s,"method",v.method,v,null),fn(a,s,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=ya(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=oi);break;case"onScroll":h!=null&&Dt("scroll",a);break;case"onScrollEnd":h!=null&&Dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=ya(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Dt("beforetoggle",a),Dt("toggle",a),Et(a,"popover",h);break;case"xlinkActuate":Un(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Un(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Un(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Un(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Un(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Un(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Un(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Un(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Un(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Et(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bf.get(c)||c,Et(a,c,h))}}function Sw(a,s,c,h,v,w){switch(c){case"style":Rl(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Yr(a,h):(typeof h=="number"||typeof h=="bigint")&&Yr(a,""+h);break;case"onScroll":h!=null&&Dt("scroll",a);break;case"onScrollEnd":h!=null&&Dt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),w=a[xn]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(s,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,h,v);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Et(a,c,h)}}}function Jr(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",a),Dt("load",a);var h=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var R=c[w];if(R!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:fn(a,s,w,R,c,null)}}v&&fn(a,s,"srcSet",c.srcSet,c,null),h&&fn(a,s,"src",c.src,c,null);return;case"input":Dt("invalid",a);var U=w=R=v=null,Z=null,ye=null;for(h in c)if(c.hasOwnProperty(h)){var Oe=c[h];if(Oe!=null)switch(h){case"name":v=Oe;break;case"type":R=Oe;break;case"checked":Z=Oe;break;case"defaultChecked":ye=Oe;break;case"value":w=Oe;break;case"defaultValue":U=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,s));break;default:fn(a,s,h,Oe,c,null)}}Cl(a,w,U,Z,ye,R,v,!1);return;case"select":Dt("invalid",a),h=R=w=null;for(v in c)if(c.hasOwnProperty(v)&&(U=c[v],U!=null))switch(v){case"value":w=U;break;case"defaultValue":R=U;break;case"multiple":h=U;default:fn(a,s,v,U,c,null)}s=w,c=R,a.multiple=!!h,s!=null?pa(a,!!h,s,!1):c!=null&&pa(a,!!h,c,!0);return;case"textarea":Dt("invalid",a),w=v=h=null;for(R in c)if(c.hasOwnProperty(R)&&(U=c[R],U!=null))switch(R){case"value":h=U;break;case"defaultValue":v=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:fn(a,s,R,U,c,null)}ga(a,h,v,w);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(h=c[Z],h!=null))switch(Z){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fn(a,s,Z,h,c,null)}return;case"dialog":Dt("beforetoggle",a),Dt("toggle",a),Dt("cancel",a),Dt("close",a);break;case"iframe":case"object":Dt("load",a);break;case"video":case"audio":for(h=0;h<Wh.length;h++)Dt(Wh[h],a);break;case"image":Dt("error",a),Dt("load",a);break;case"details":Dt("toggle",a);break;case"embed":case"source":case"link":Dt("error",a),Dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in c)if(c.hasOwnProperty(ye)&&(h=c[ye],h!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:fn(a,s,ye,h,c,null)}return;default:if(kl(s)){for(Oe in c)c.hasOwnProperty(Oe)&&(h=c[Oe],h!==void 0&&Sw(a,s,Oe,h,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(h=c[U],h!=null&&fn(a,s,U,h,c,null))}function iq(a,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,R=null,U=null,Z=null,ye=null,Oe=null;for(Ee in c){var Ne=c[Ee];if(c.hasOwnProperty(Ee)&&Ne!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":Z=Ne;default:h.hasOwnProperty(Ee)||fn(a,s,Ee,null,h,Ne)}}for(var be in h){var Ee=h[be];if(Ne=c[be],h.hasOwnProperty(be)&&(Ee!=null||Ne!=null))switch(be){case"type":w=Ee;break;case"name":v=Ee;break;case"checked":ye=Ee;break;case"defaultChecked":Oe=Ee;break;case"value":R=Ee;break;case"defaultValue":U=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,s));break;default:Ee!==Ne&&fn(a,s,be,Ee,h,Ne)}}ma(a,R,U,Z,ye,Oe,w,v);return;case"select":Ee=R=U=be=null;for(w in c)if(Z=c[w],c.hasOwnProperty(w)&&Z!=null)switch(w){case"value":break;case"multiple":Ee=Z;default:h.hasOwnProperty(w)||fn(a,s,w,null,h,Z)}for(v in h)if(w=h[v],Z=c[v],h.hasOwnProperty(v)&&(w!=null||Z!=null))switch(v){case"value":be=w;break;case"defaultValue":U=w;break;case"multiple":R=w;default:w!==Z&&fn(a,s,v,w,h,Z)}s=U,c=R,h=Ee,be!=null?pa(a,!!c,be,!1):!!h!=!!c&&(s!=null?pa(a,!!c,s,!0):pa(a,!!c,c?[]:"",!1));return;case"textarea":Ee=be=null;for(U in c)if(v=c[U],c.hasOwnProperty(U)&&v!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:fn(a,s,U,null,h,v)}for(R in h)if(v=h[R],w=c[R],h.hasOwnProperty(R)&&(v!=null||w!=null))switch(R){case"value":be=v;break;case"defaultValue":Ee=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&fn(a,s,R,v,h,w)}tc(a,be,Ee);return;case"option":for(var et in c)if(be=c[et],c.hasOwnProperty(et)&&be!=null&&!h.hasOwnProperty(et))switch(et){case"selected":a.selected=!1;break;default:fn(a,s,et,null,h,be)}for(Z in h)if(be=h[Z],Ee=c[Z],h.hasOwnProperty(Z)&&be!==Ee&&(be!=null||Ee!=null))switch(Z){case"selected":a.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:fn(a,s,Z,be,h,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in c)be=c[pt],c.hasOwnProperty(pt)&&be!=null&&!h.hasOwnProperty(pt)&&fn(a,s,pt,null,h,be);for(ye in h)if(be=h[ye],Ee=c[ye],h.hasOwnProperty(ye)&&be!==Ee&&(be!=null||Ee!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,s));break;default:fn(a,s,ye,be,h,Ee)}return;default:if(kl(s)){for(var dn in c)be=c[dn],c.hasOwnProperty(dn)&&be!==void 0&&!h.hasOwnProperty(dn)&&Sw(a,s,dn,void 0,h,be);for(Oe in h)be=h[Oe],Ee=c[Oe],!h.hasOwnProperty(Oe)||be===Ee||be===void 0&&Ee===void 0||Sw(a,s,Oe,be,h,Ee);return}}for(var fe in c)be=c[fe],c.hasOwnProperty(fe)&&be!=null&&!h.hasOwnProperty(fe)&&fn(a,s,fe,null,h,be);for(Ne in h)be=h[Ne],Ee=c[Ne],!h.hasOwnProperty(Ne)||be===Ee||be==null&&Ee==null||fn(a,s,Ne,be,h,Ee)}function SC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],w=v.transferSize,R=v.initiatorType,U=v.duration;if(w&&U&&SC(R)){for(R=0,U=v.responseEnd,h+=1;h<c.length;h++){var Z=c[h],ye=Z.startTime;if(ye>U)break;var Oe=Z.transferSize,Ne=Z.initiatorType;Oe&&SC(Ne)&&(Z=Z.responseEnd,R+=Oe*(Z<U?1:(U-ye)/(Z-ye)))}if(--h,s+=8*(w+R)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Tw=null,Aw=null;function Jg(a){return a.nodeType===9?a:a.ownerDocument}function TC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AC(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Iw(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ow=null;function oq(){var a=window.event;return a&&a.type==="popstate"?a===Ow?!1:(Ow=a,!0):(Ow=null,!1)}var IC=typeof setTimeout=="function"?setTimeout:void 0,sq=typeof clearTimeout=="function"?clearTimeout:void 0,OC=typeof Promise=="function"?Promise:void 0,lq=typeof queueMicrotask=="function"?queueMicrotask:typeof OC<"u"?function(a){return OC.resolve(null).then(a).catch(uq)}:IC;function uq(a){setTimeout(function(){throw a})}function ou(a){return a==="head"}function PC(a,s){var c=s,h=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(v),Hf(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Qh(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Qh(c);for(var w=c.firstChild;w;){var R=w.nextSibling,U=w.nodeName;w[Mr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=R}}else c==="body"&&Qh(a.ownerDocument.body);c=v}while(c);Hf(s)}function CC(a,s){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Pw(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Pw(c),Ts(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function cq(a,s,c,h){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Mr])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=to(a.nextSibling),a===null)break}return null}function fq(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=to(a.nextSibling),a===null))return null;return a}function RC(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=to(a.nextSibling),a===null))return null;return a}function Cw(a){return a.data==="$?"||a.data==="$~"}function Rw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function dq(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function to(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var kw=null;function kC(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return to(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function NC(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function DC(a,s,c){switch(s=Jg(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Qh(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ts(a)}var no=new Map,MC=new Set;function ey(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Gs=Pe.d;Pe.d={f:hq,r:mq,D:pq,C:gq,L:yq,m:vq,X:_q,S:bq,M:wq};function hq(){var a=Gs.f(),s=Kg();return a||s}function mq(a){var s=Bt(a);s!==null&&s.tag===5&&s.type==="form"?ZO(s):Gs.r(a)}var Ff=typeof document>"u"?null:document;function jC(a,s,c){var h=Ff;if(h&&typeof s=="string"&&s){var v=ur(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),MC.has(v)||(MC.add(v),a={rel:a,crossOrigin:c,href:s},h.querySelector(v)===null&&(s=h.createElement("link"),Jr(s,"link",a),zn(s),h.head.appendChild(s)))}}function pq(a){Gs.D(a),jC("dns-prefetch",a,null)}function gq(a,s){Gs.C(a,s),jC("preconnect",a,s)}function yq(a,s,c){Gs.L(a,s,c);var h=Ff;if(h&&a&&s){var v='link[rel="preload"][as="'+ur(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+ur(c.imageSizes)+'"]')):v+='[href="'+ur(a)+'"]';var w=v;switch(s){case"style":w=$f(a);break;case"script":w=Kf(a)}no.has(w)||(a=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),no.set(w,a),h.querySelector(v)!==null||s==="style"&&h.querySelector(Xh(w))||s==="script"&&h.querySelector(Zh(w))||(s=h.createElement("link"),Jr(s,"link",a),zn(s),h.head.appendChild(s)))}}function vq(a,s){Gs.m(a,s);var c=Ff;if(c&&a){var h=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+ur(h)+'"][href="'+ur(a)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Kf(a)}if(!no.has(w)&&(a=p({rel:"modulepreload",href:a},s),no.set(w,a),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Zh(w)))return}h=c.createElement("link"),Jr(h,"link",a),zn(h),c.head.appendChild(h)}}}function bq(a,s,c){Gs.S(a,s,c);var h=Ff;if(h&&a){var v=lr(h).hoistableStyles,w=$f(a);s=s||"default";var R=v.get(w);if(!R){var U={loading:0,preload:null};if(R=h.querySelector(Xh(w)))U.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},c),(c=no.get(w))&&Nw(a,c);var Z=R=h.createElement("link");zn(Z),Jr(Z,"link",a),Z._p=new Promise(function(ye,Oe){Z.onload=ye,Z.onerror=Oe}),Z.addEventListener("load",function(){U.loading|=1}),Z.addEventListener("error",function(){U.loading|=2}),U.loading|=4,ty(R,s,h)}R={type:"stylesheet",instance:R,count:1,state:U},v.set(w,R)}}}function _q(a,s){Gs.X(a,s);var c=Ff;if(c&&a){var h=lr(c).hoistableScripts,v=Kf(a),w=h.get(v);w||(w=c.querySelector(Zh(v)),w||(a=p({src:a,async:!0},s),(s=no.get(v))&&Dw(a,s),w=c.createElement("script"),zn(w),Jr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function wq(a,s){Gs.M(a,s);var c=Ff;if(c&&a){var h=lr(c).hoistableScripts,v=Kf(a),w=h.get(v);w||(w=c.querySelector(Zh(v)),w||(a=p({src:a,async:!0,type:"module"},s),(s=no.get(v))&&Dw(a,s),w=c.createElement("script"),zn(w),Jr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function LC(a,s,c,h){var v=(v=ut.current)?ey(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=$f(c.href),c=lr(v).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=$f(c.href);var w=lr(v).hoistableStyles,R=w.get(a);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,R),(w=v.querySelector(Xh(a)))&&!w._p&&(R.instance=w,R.state.loading=5),no.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},no.set(a,c),w||xq(v,a,c,R.state))),s&&h===null)throw Error(r(528,""));return R}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Kf(c),c=lr(v).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function $f(a){return'href="'+ur(a)+'"'}function Xh(a){return'link[rel="stylesheet"]['+a+"]"}function VC(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function xq(a,s,c,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Jr(s,"link",c),zn(s),a.head.appendChild(s))}function Kf(a){return'[src="'+ur(a)+'"]'}function Zh(a){return"script[async]"+a}function zC(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+ur(c.href)+'"]');if(h)return s.instance=h,zn(h),h;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),zn(h),Jr(h,"style",v),ty(h,c.precedence,a),s.instance=h;case"stylesheet":v=$f(c.href);var w=a.querySelector(Xh(v));if(w)return s.state.loading|=4,s.instance=w,zn(w),w;h=VC(c),(v=no.get(v))&&Nw(h,v),w=(a.ownerDocument||a).createElement("link"),zn(w);var R=w;return R._p=new Promise(function(U,Z){R.onload=U,R.onerror=Z}),Jr(w,"link",h),s.state.loading|=4,ty(w,c.precedence,a),s.instance=w;case"script":return w=Kf(c.src),(v=a.querySelector(Zh(w)))?(s.instance=v,zn(v),v):(h=c,(v=no.get(w))&&(h=p({},c),Dw(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),zn(v),Jr(v,"link",h),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,ty(h,c.precedence,a));return s.instance}function ty(a,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,R=0;R<h.length;R++){var U=h[R];if(U.dataset.precedence===s)w=U;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Nw(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Dw(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ny=null;function UC(a,s,c){if(ny===null){var h=new Map,v=ny=new Map;v.set(c,h)}else v=ny,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var w=c[v];if(!(w[Mr]||w[Zt]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(s)||"";R=a+R;var U=h.get(R);U?U.push(w):h.set(R,[w])}}return h}function BC(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Eq(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Sq(a,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=$f(h.href),w=s.querySelector(Xh(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ry.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=w,zn(w);return}w=s.ownerDocument||s,h=VC(h),(v=no.get(v))&&Nw(h,v),w=w.createElement("link"),zn(w);var R=w;R._p=new Promise(function(U,Z){R.onload=U,R.onerror=Z}),Jr(w,"link",h),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ry.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Mw=0;function Tq(a,s){return a.stylesheets&&a.count===0&&ay(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&ay(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+s);0<a.imgBytes&&Mw===0&&(Mw=62500*aq());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ay(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Mw?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function ry(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ay(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var iy=null;function ay(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,iy=new Map,s.forEach(Aq,a),iy=null,ry.call(a))}function Aq(a,s){if(!(s.state.loading&4)){var c=iy.get(a);if(c)var h=c.get(null);else{c=new Map,iy.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var R=v[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),h=R)}h&&c.set(null,h)}v=s.instance,R=v.getAttribute("data-precedence"),w=c.get(R)||h,w===h&&c.set(null,v),c.set(R,v),this.count++,h=ry.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var Jh={$$typeof:M,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Iq(a,s,c,h,v,w,R,U,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function FC(a,s,c,h,v,w,R,U,Z,ye,Oe,Ne){return a=new Iq(a,s,c,R,Z,ye,Oe,Ne,U),s=1,w===!0&&(s|=24),w=wa(3,null,null,s),a.current=w,w.stateNode=a,s=m_(),s.refCount++,a.pooledCache=s,s.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:s},v_(w),a}function $C(a){return a?(a=Gi,a):Gi}function KC(a,s,c,h,v,w){v=$C(v),h.context===null?h.context=v:h.pendingContext=v,h=Yl(s),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Ql(a,h,s),c!==null&&(Zi(c,a,s),Rh(c,a,s))}function HC(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function jw(a,s){HC(a,s),(a=a.alternate)&&HC(a,s)}function GC(a){if(a.tag===13||a.tag===31){var s=On(a,67108864);s!==null&&Zi(s,a,67108864),jw(a,67108864)}}function WC(a){if(a.tag===13||a.tag===31){var s=Aa();s=Es(s);var c=On(a,s);c!==null&&Zi(c,a,s),jw(a,s)}}var oy=!0;function Oq(a,s,c,h){var v=de.T;de.T=null;var w=Pe.p;try{Pe.p=2,Lw(a,s,c,h)}finally{Pe.p=w,de.T=v}}function Pq(a,s,c,h){var v=de.T;de.T=null;var w=Pe.p;try{Pe.p=8,Lw(a,s,c,h)}finally{Pe.p=w,de.T=v}}function Lw(a,s,c,h){if(oy){var v=Vw(h);if(v===null)Ew(a,s,h,sy,c),QC(a,h);else if(Rq(v,a,s,c,h))h.stopPropagation();else if(QC(a,h),s&4&&-1<Cq.indexOf(a)){for(;v!==null;){var w=Bt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=Ni(w.pendingLanes);if(R!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;R;){var Z=1<<31-Ge(R);U.entanglements[1]|=Z,R&=~Z}es(w),(Wt&6)===0&&(Fg=Dr()+500,Gh(0))}}break;case 31:case 13:U=On(w,2),U!==null&&Zi(U,w,2),Kg(),jw(w,2)}if(w=Vw(h),w===null&&Ew(a,s,h,sy,c),w===v)break;v=w}v!==null&&h.stopPropagation()}else Ew(a,s,h,null,c)}}function Vw(a){return a=_i(a),zw(a)}var sy=null;function zw(a){if(sy=null,a=ji(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return sy=a,null}function YC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case sa:return 2;case la:return 8;case Va:case _s:return 32;case Il:return 268435456;default:return 32}default:return 32}}var Uw=!1,su=null,lu=null,uu=null,em=new Map,tm=new Map,cu=[],Cq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QC(a,s){switch(a){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":lu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":em.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tm.delete(s.pointerId)}}function nm(a,s,c,h,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},s!==null&&(s=Bt(s),s!==null&&GC(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function Rq(a,s,c,h,v){switch(s){case"focusin":return su=nm(su,a,s,c,h,v),!0;case"dragenter":return lu=nm(lu,a,s,c,h,v),!0;case"mouseover":return uu=nm(uu,a,s,c,h,v),!0;case"pointerover":var w=v.pointerId;return em.set(w,nm(em.get(w)||null,a,s,c,h,v)),!0;case"gotpointercapture":return w=v.pointerId,tm.set(w,nm(tm.get(w)||null,a,s,c,h,v)),!0}return!1}function XC(a){var s=ji(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,ii(a.priority,function(){WC(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,ii(a.priority,function(){WC(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ly(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Vw(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Ui=h,c.target.dispatchEvent(h),Ui=null}else return s=Bt(c),s!==null&&GC(s),a.blockedOn=c,!1;s.shift()}return!0}function ZC(a,s,c){ly(a)&&c.delete(s)}function kq(){Uw=!1,su!==null&&ly(su)&&(su=null),lu!==null&&ly(lu)&&(lu=null),uu!==null&&ly(uu)&&(uu=null),em.forEach(ZC),tm.forEach(ZC)}function uy(a,s){a.blockedOn===s&&(a.blockedOn=null,Uw||(Uw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kq)))}var cy=null;function JC(a){cy!==a&&(cy=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cy===a&&(cy=null);for(var s=0;s<a.length;s+=3){var c=a[s],h=a[s+1],v=a[s+2];if(typeof h!="function"){if(zw(h||c)===null)continue;break}var w=Bt(c);w!==null&&(a.splice(s,3),s-=3,V_(w,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function Hf(a){function s(Z){return uy(Z,a)}su!==null&&uy(su,a),lu!==null&&uy(lu,a),uu!==null&&uy(uu,a),em.forEach(s),tm.forEach(s);for(var c=0;c<cu.length;c++){var h=cu[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<cu.length&&(c=cu[0],c.blockedOn===null);)XC(c),c.blockedOn===null&&cu.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],R=v[xn]||null;if(typeof w=="function")R||JC(c);else if(R){var U=null;if(w&&w.hasAttribute("formAction")){if(v=w,R=w[xn]||null)U=R.formAction;else if(zw(v)!==null)continue}else U=R.action;typeof U=="function"?c[h+1]=U:(c.splice(h,3),h-=3),JC(c)}}}function eR(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Bw(a){this._internalRoot=a}fy.prototype.render=Bw.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=Aa();KC(c,h,a,s,null,null)},fy.prototype.unmount=Bw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;KC(a.current,2,null,a,null,null),Kg(),s[Er]=null}};function fy(a){this._internalRoot=a}fy.prototype.unstable_scheduleHydration=function(a){if(a){var s=Ss();a={blockedOn:null,target:a,priority:s};for(var c=0;c<cu.length&&s!==0&&s<cu[c].priority;c++);cu.splice(c,0,a),c===0&&XC(a)}};var tR=e.version;if(tR!=="19.2.3")throw Error(r(527,tR,"19.2.3"));Pe.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var Nq={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{ri=dy.inject(Nq),Zn=dy}catch{}}return im.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,h="",v=lP,w=uP,R=cP;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=FC(a,1,!1,null,null,c,h,null,v,w,R,eR),a[Er]=s.current,xw(a),new Bw(s)},im.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var h=!1,v="",w=lP,R=uP,U=cP,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(Z=c.formState)),s=FC(a,1,!0,s,c??null,h,v,Z,w,R,U,eR),s.context=$C(null),c=s.current,h=Aa(),h=Es(h),v=Yl(h),v.callback=null,Ql(c,v,h),c=h,s.current.lanes=c,Di(s,c),es(s),a[Er]=s.current,xw(a),new fy(s)},im.version="19.2.3",im}var fR;function Hq(){if(fR)return $w.exports;fR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$w.exports=Kq(),$w.exports}var Gq=Hq();var dR="popstate";function Wq(t={}){function e(i,o){let{pathname:l="/",search:u="",hash:f=""}=ff(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),YE("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:qm(o))}function r(i,o){Ma(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Qq(e,n,r,t)}function Dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yq(){return Math.random().toString(36).substring(2,10)}function hR(t,e){return{usr:t.state,key:t.key,idx:e}}function YE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ff(e):e,state:n,key:e&&e.key||r||Yq()}}function qm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ff(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Qq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function p(){u="POP";let O=m(),D=O==null?null:O-d;d=O,f&&f({action:u,location:A.location,delta:D})}function b(O,D){u="PUSH";let B=YE(A.location,O,D);n&&n(B,O),d=m()+1;let M=hR(B,d),Y=A.createHref(B);try{l.pushState(M,"",Y)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(Y)}o&&f&&f({action:u,location:A.location,delta:1})}function x(O,D){u="REPLACE";let B=YE(A.location,O,D);n&&n(B,O),d=m();let M=hR(B,d),Y=A.createHref(B);l.replaceState(M,"",Y),o&&f&&f({action:u,location:A.location,delta:0})}function T(O){return Xq(O)}let A={get action(){return u},get location(){return t(i,l)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(dR,p),f=O,()=>{i.removeEventListener(dR,p),f=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let D=T(O);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:x,go(O){return l.go(O)}};return A}function Xq(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qm(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iL(t,e,n="/"){return Zq(t,e,n,!1)}function Zq(t,e,n,r){let i=typeof e=="string"?ff(e):e,o=ol(i.pathname||"/",n);if(o==null)return null;let l=aL(t);Jq(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=cF(o);u=lF(l[f],d,r)}return u}function aL(t,e=[],n=[],r="",i=!1){let o=(l,u,f=i,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Dn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=rl([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Dn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),aL(l.children,e,b,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:oF(p,l.index),routesMeta:b})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of oL(l.path))o(l,u,!0,f)}),e}function oL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=oL(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Jq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eF=/^:[\w-]+$/,tF=3,nF=2,rF=1,iF=10,aF=-2,mR=t=>t==="*";function oF(t,e){let n=t.split("/"),r=n.length;return n.some(mR)&&(r+=aF),e&&(r+=nF),n.filter(i=>!mR(i)).reduce((i,o)=>i+(eF.test(o)?tF:o===""?rF:iF),r)}function sF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lF(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",p=cv({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),b=f.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=cv({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:rl([o,p.pathname]),pathnameBase:pF(rl([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=rl([o,p.pathnameBase]))}return l}function cv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:p},b)=>{if(m==="*"){let T=u[b]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const x=u[b];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function uF(t,e=!1,n=!0){Ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ma(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var fF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dF=t=>fF.test(t);function hF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ff(t):t,o;if(n)if(dF(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ma(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=pR(n.substring(1),"/"):o=pR(n,e)}else o=e;return{pathname:o,search:gF(r),hash:yF(i)}}function pR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ww(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zS(t){let e=mF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function US(t,e,n,r=!1){let i;typeof t=="string"?i=ff(t):(i={...t},Dn(!i.pathname||!i.pathname.includes("?"),Ww("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),Ww("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),Ww("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}u=p>=0?e[p]:"/"}let f=hF(i,u),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var rl=t=>t.join("/").replace(/\/\/+/g,"/"),pF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function bF(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sL=["POST","PUT","PATCH","DELETE"];new Set(sL);var _F=["GET",...sL];new Set(_F);var Xd=E.createContext(null);Xd.displayName="DataRouter";var N0=E.createContext(null);N0.displayName="DataRouterState";E.createContext(!1);var lL=E.createContext({isTransitioning:!1});lL.displayName="ViewTransition";var wF=E.createContext(new Map);wF.displayName="Fetchers";var xF=E.createContext(null);xF.displayName="Await";var mo=E.createContext(null);mo.displayName="Navigation";var Sp=E.createContext(null);Sp.displayName="Location";var Lo=E.createContext({outlet:null,matches:[],isDataRoute:!1});Lo.displayName="Route";var BS=E.createContext(null);BS.displayName="RouteError";function EF(t,{relative:e}={}){Dn(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(mo),{hash:i,pathname:o,search:l}=Tp(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:rl([n,o])),r.createHref({pathname:u,search:l,hash:i})}function Zd(){return E.useContext(Sp)!=null}function qu(){return Dn(Zd(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Sp).location}var uL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cL(t){E.useContext(mo).static||E.useLayoutEffect(t)}function qS(){let{isDataRoute:t}=E.useContext(Lo);return t?VF():SF()}function SF(){Dn(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Xd),{basename:e,navigator:n}=E.useContext(mo),{matches:r}=E.useContext(Lo),{pathname:i}=qu(),o=JSON.stringify(zS(r)),l=E.useRef(!1);return cL(()=>{l.current=!0}),E.useCallback((f,d={})=>{if(Ma(l.current,uL),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=US(f,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:rl([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,o,i,t])}var TF=E.createContext(null);function AF(t){let e=E.useContext(Lo).outlet;return E.useMemo(()=>e&&E.createElement(TF.Provider,{value:t},e),[e,t])}function Tp(t,{relative:e}={}){let{matches:n}=E.useContext(Lo),{pathname:r}=qu(),i=JSON.stringify(zS(n));return E.useMemo(()=>US(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function IF(t,e){return fL(t,e)}function fL(t,e,n,r,i){Dn(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(mo),{matches:l}=E.useContext(Lo),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let B=p&&p.path||"";dL(d,!p||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=qu(),x;if(e){let B=typeof e=="string"?ff(e):e;Dn(m==="/"||B.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=b;let T=x.pathname||"/",A=T;if(m!=="/"){let B=m.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let O=iL(t,{pathname:A});Ma(p||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ma(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=kF(O&&O.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:rl([m,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:rl([m,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),l,n,r,i);return e&&D?E.createElement(Sp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},D):D}function OF(){let t=LF(),e=vF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,l)}var PF=E.createElement(OF,null),CF=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Lo.Provider,{value:this.props.routeContext},E.createElement(BS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RF({routeContext:t,match:e,children:n}){let r=E.useContext(Xd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Lo.Provider,{value:t},n)}function kF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let m=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Dn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:b,errors:x}=n,T=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||T){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:bF(n.matches),errorInfo:p})}:void 0;return o.reduceRight((m,p,b)=>{let x,T=!1,A=null,O=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||PF,u&&(f<0&&b===0?(dL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):f===b&&(T=!0,O=p.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,b+1)),B=()=>{let M;return x?M=A:T?M=O:p.route.Component?M=E.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,E.createElement(RF,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?E.createElement(CF,{location:n.location,revalidation:n.revalidation,component:A,error:x,children:B(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:d}):B()},null)}function FS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NF(t){let e=E.useContext(Xd);return Dn(e,FS(t)),e}function DF(t){let e=E.useContext(N0);return Dn(e,FS(t)),e}function MF(t){let e=E.useContext(Lo);return Dn(e,FS(t)),e}function $S(t){let e=MF(t),n=e.matches[e.matches.length-1];return Dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jF(){return $S("useRouteId")}function LF(){let t=E.useContext(BS),e=DF("useRouteError"),n=$S("useRouteError");return t!==void 0?t:e.errors?.[n]}function VF(){let{router:t}=NF("useNavigate"),e=$S("useNavigate"),n=E.useRef(!1);return cL(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{Ma(n.current,uL),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var gR={};function dL(t,e,n){!e&&!gR[t]&&(gR[t]=!0,Ma(!1,n))}E.memo(zF);function zF({routes:t,future:e,state:n,unstable_onError:r}){return fL(t,void 0,n,r,e)}function hL({to:t,replace:e,state:n,relative:r}){Dn(Zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(mo);Ma(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Lo),{pathname:l}=qu(),u=qS(),f=US(t,zS(o),l,r==="path"),d=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function UF(t){return AF(t.context)}function ts(t){Dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){Dn(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=ff(n));let{pathname:d="/",search:m="",hash:p="",state:b=null,key:x="default"}=n,T=E.useMemo(()=>{let A=ol(d,u);return A==null?null:{location:{pathname:A,search:m,hash:p,state:b,key:x},navigationType:r}},[u,d,m,p,b,x,r]);return Ma(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(mo.Provider,{value:f},E.createElement(Sp.Provider,{children:e,value:T}))}function qF({children:t,location:e}){return IF(QE(t),e)}function QE(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,QE(r.props.children,o));return}Dn(r.type===ts,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=QE(r.props.children,o)),n.push(l)}),n}var Uy="get",By="application/x-www-form-urlencoded";function D0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function FF(t){return D0(t)&&t.tagName.toLowerCase()==="button"}function $F(t){return D0(t)&&t.tagName.toLowerCase()==="form"}function KF(t){return D0(t)&&t.tagName.toLowerCase()==="input"}function HF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GF(t,e){return t.button===0&&(!e||e==="_self")&&!HF(t)}var hy=null;function WF(){if(hy===null)try{new FormData(document.createElement("form"),0),hy=!1}catch{hy=!0}return hy}var YF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yw(t){return t!=null&&!YF.has(t)?(Ma(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${By}"`),null):t}function QF(t,e){let n,r,i,o,l;if($F(t)){let u=t.getAttribute("action");r=u?ol(u,e):null,n=t.getAttribute("method")||Uy,i=Yw(t.getAttribute("enctype"))||By,o=new FormData(t)}else if(FF(t)||KF(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ol(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Uy,i=Yw(t.getAttribute("formenctype"))||Yw(u.getAttribute("enctype"))||By,o=new FormData(u,t),!WF()){let{name:d,type:m,value:p}=t;if(m==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,p)}}else{if(D0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uy,r=null,i=By,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ol(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e8(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await ZF(o,n);return l.links?l.links():[]}return[]}));return i8(r.flat(1).filter(JF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yR(t,e,n,r,i,o){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?e.filter((f,d)=>{let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function t8(t,e,{includeHydrateFallback:n}={}){return n8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function n8(t){return[...new Set(t)]}function r8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function i8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(r8(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function mL(){let t=E.useContext(Xd);return KS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a8(){let t=E.useContext(N0);return KS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var HS=E.createContext(void 0);HS.displayName="FrameworkContext";function pL(){let t=E.useContext(HS);return KS(t,"You must render this element inside a <HydratedRouter> element"),t}function o8(t,e){let n=E.useContext(HS),[r,i]=E.useState(!1),[o,l]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=D=>{D.forEach(B=>{l(B.isIntersecting)})},O=new IntersectionObserver(A,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),E.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let x=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:am(u,x),onBlur:am(f,T),onMouseEnter:am(d,x),onMouseLeave:am(m,T),onTouchStart:am(p,x)}]:[!1,b,{}]}function am(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s8({page:t,...e}){let{router:n}=mL(),r=E.useMemo(()=>iL(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(u8,{page:t,matches:r,...e}):null}function l8(t){let{manifest:e,routeModules:n}=pL(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return e8(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function u8({page:t,matches:e,...n}){let r=qu(),{manifest:i,routeModules:o}=pL(),{basename:l}=mL(),{loaderData:u,matches:f}=a8(),d=E.useMemo(()=>yR(t,e,f,i,r,"data"),[t,e,f,i,r]),m=E.useMemo(()=>yR(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(D=>{let B=i.routes[D.route.id];!B||!B.hasLoader||(!d.some(M=>M.route.id===D.route.id)&&D.route.id in u&&o[D.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:T.add(D.route.id))}),T.size===0)return[];let O=XF(t,l,"data");return A&&T.size>0&&O.searchParams.set("_routes",e.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[l,u,r,i,d,e,t,o]),b=E.useMemo(()=>t8(m,i),[m,i]),x=l8(m);return E.createElement(E.Fragment,null,p.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),x.map(({key:T,link:A})=>E.createElement("link",{key:T,nonce:n.nonce,...A})))}function c8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gL&&(window.__reactRouterVersion="7.10.1")}catch{}function f8({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=E.useRef();i.current==null&&(i.current=Wq({window:r,v5Compat:!0}));let o=i.current,[l,u]=E.useState({action:o.action,location:o.location}),f=E.useCallback(d=>{n===!1?u(d):E.startTransition(()=>u(d))},[n]);return E.useLayoutEffect(()=>o.listen(f),[o,f]),E.createElement(BF,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n===!0})}var yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vL=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:m,viewTransition:p,...b},x){let{basename:T,unstable_useTransitions:A}=E.useContext(mo),O=typeof d=="string"&&yL.test(d),D,B=!1;if(typeof d=="string"&&O&&(D=d,gL))try{let G=new URL(window.location.href),q=d.startsWith("//")?new URL(G.protocol+d):new URL(d),H=ol(q.pathname,T);q.origin===G.origin&&H!=null?d=H+q.search+q.hash:B=!0}catch{Ma(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=EF(d,{relative:i}),[Y,W,X]=o8(r,b),j=m8(d,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:A});function L(G){e&&e(G),G.defaultPrevented||j(G)}let z=E.createElement("a",{...b,...X,href:D||M,onClick:B||o?e:L,ref:c8(x,W),target:f,"data-discover":!O&&n==="render"?"true":void 0});return Y&&!O?E.createElement(E.Fragment,null,z,E.createElement(s8,{page:M})):z});vL.displayName="Link";var XE=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:f,...d},m){let p=Tp(l,{relative:d.relative}),b=qu(),x=E.useContext(N0),{navigator:T,basename:A}=E.useContext(mo),O=x!=null&&b8(p)&&u===!0,D=T.encodeLocation?T.encodeLocation(p).pathname:p.pathname,B=b.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(B=B.toLowerCase(),M=M?M.toLowerCase():null,D=D.toLowerCase()),M&&A&&(M=ol(M,A)||M);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=B===D||!i&&B.startsWith(D)&&B.charAt(Y)==="/",X=M!=null&&(M===D||!i&&M.startsWith(D)&&M.charAt(D.length)==="/"),j={isActive:W,isPending:X,isTransitioning:O},L=W?e:void 0,z;typeof r=="function"?z=r(j):z=[r,W?"active":null,X?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(j):o;return E.createElement(vL,{...d,"aria-current":L,className:z,ref:m,style:G,to:l,viewTransition:u},typeof f=="function"?f(j):f)});XE.displayName="NavLink";var d8=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Uy,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:p,...b},x)=>{let{unstable_useTransitions:T}=E.useContext(mo),A=y8(),O=v8(u,{relative:d}),D=l.toLowerCase()==="get"?"get":"post",B=typeof u=="string"&&yL.test(u),M=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let W=Y.nativeEvent.submitter,X=W?.getAttribute("formmethod")||l,j=()=>A(W||Y.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:i,state:o,relative:d,preventScrollReset:m,viewTransition:p});T&&n!==!1?E.startTransition(()=>j()):j()};return E.createElement("form",{ref:x,method:D,action:O,onSubmit:r?f:M,...b,"data-discover":!B&&t==="render"?"true":void 0})});d8.displayName="Form";function h8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bL(t){let e=E.useContext(Xd);return Dn(e,h8(t)),e}function m8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_useTransitions:u}={}){let f=qS(),d=qu(),m=Tp(t,{relative:o});return E.useCallback(p=>{if(GF(p,e)){p.preventDefault();let b=n!==void 0?n:qm(d)===qm(m),x=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:l});u?E.startTransition(()=>x()):x()}},[d,f,m,n,r,e,t,i,o,l,u])}var p8=0,g8=()=>`__${String(++p8)}__`;function y8(){let{router:t}=bL("useSubmit"),{basename:e}=E.useContext(mo),n=jF(),r=t.fetch,i=t.navigate;return E.useCallback(async(o,l={})=>{let{action:u,method:f,encType:d,formData:m,body:p}=QF(o,e);if(l.navigate===!1){let b=l.fetcherKey||g8();await r(b,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await i(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function v8(t,{relative:e}={}){let{basename:n}=E.useContext(mo),r=E.useContext(Lo);Dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Tp(t||".",{relative:e})},l=qu();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:rl([n,o.pathname])),qm(o)}function b8(t,{relative:e}={}){let n=E.useContext(lL);Dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bL("useViewTransitionState"),i=Tp(t,{relative:e});if(!n.isTransitioning)return!1;let o=ol(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ol(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cv(i.pathname,l)!=null||cv(i.pathname,o)!=null}var GS=rL();const _L=E.createContext(void 0),_8=({children:t})=>{const[e,n]=E.useState(()=>{const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:"light"});E.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return C.jsx(_L.Provider,{value:{theme:e,toggleTheme:r},children:t})},w8=()=>{const t=E.useContext(_L);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};const x8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vR=t=>{const e=E8(t);return e.charAt(0).toUpperCase()+e.slice(1)},wL=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),S8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var T8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A8=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>E.createElement("svg",{ref:f,...T8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wL("lucide",i),...!o&&!S8(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,m])=>E.createElement(d,m)),...Array.isArray(o)?o:[o]]));const Qt=(t,e)=>{const n=E.forwardRef(({className:r,...i},o)=>E.createElement(A8,{ref:o,iconNode:e,className:wL(`lucide-${x8(vR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=vR(t),n};const I8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],O8=Qt("book-open",I8);const P8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],C8=Qt("box",P8);const R8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],k8=Qt("calculator",R8);const N8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xL=Qt("circle-alert",N8);const D8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M8=Qt("circle-check-big",D8);const j8=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],bR=Qt("cloud-upload",j8);const L8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V8=Qt("database",L8);const z8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fv=Qt("dollar-sign",z8);const U8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],EL=Qt("download",U8);const B8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SL=Qt("file-text",B8);const q8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],F8=Qt("globe",q8);const $8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K8=Qt("image",$8);const H8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_R=Qt("layout-dashboard",H8);const G8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TL=Qt("map-pin",G8);const W8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wR=Qt("moon",W8);const Y8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZE=Qt("package",Y8);const Q8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],X8=Qt("pen",Q8);const Z8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],M0=Qt("plus",Z8);const J8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AL=Qt("save",J8);const e$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],IL=Qt("search",e$);const t$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n$=Qt("settings",t$);const r$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],i$=Qt("square-pen",r$);const a$=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],JE=Qt("store",a$);const o$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xR=Qt("sun",o$);const s$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j0=Qt("trash-2",s$);const l$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],OL=Qt("trending-down",l$);const u$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],PL=Qt("trending-up",u$);const c$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CL=Qt("triangle-alert",c$);const f$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],d$=Qt("truck",f$);const h$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RL=Qt("upload",h$);const m$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kL=Qt("x",m$),p$=()=>{const{theme:t,toggleTheme:e}=w8(),n=[{path:"/",label:"Dashboard",icon:_R},{path:"/inventory",label:"Inventory",icon:ZE},{path:"/sales",label:"Sales",icon:fv},{path:"/currentexpense",label:"Ledger",icon:fv},{path:"/reports",label:"Reports",icon:_R},{path:"/settings",label:"Settings",icon:n$}];return C.jsxs("div",{className:"min-h-screen bg-bg-default dark:bg-bg-dark text-gray-900 dark:text-text-dark font-sans flex flex-col md:flex-row",children:[C.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-card-light dark:bg-card-dark border-r border-border-subtle dark:border-border-dark h-screen fixed top-0 left-0 z-50 shadow-lg",children:[C.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-border-subtle dark:border-border-dark",children:[C.jsx("div",{className:"w-8 h-8 bg-primary-blue rounded-lg flex items-center justify-center text-white",children:C.jsx(JE,{size:20,strokeWidth:3})}),C.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent",children:"Blush & Bloom"})]}),C.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:n.map(r=>C.jsxs(XE,{to:r.path,className:({isActive:i})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${i?"bg-primary-blue text-white shadow-md shadow-blue-200 dark:shadow-blue-900/50":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 hover:text-primary-blue dark:hover:text-blue-400"}`,children:[C.jsx(r.icon,{size:20}),C.jsx("span",{className:"font-medium",children:r.label})]},r.path))}),C.jsx("div",{className:"p-4 border-t border-border-subtle dark:border-border-dark",children:C.jsxs("button",{onClick:e,className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[t==="light"?C.jsx(wR,{size:20}):C.jsx(xR,{size:20}),C.jsx("span",{className:"font-medium",children:t==="light"?"Dark Mode":"Light Mode"})]})})]}),C.jsxs("header",{className:"md:hidden h-16 bg-card-light dark:bg-card-dark border-b border-border-subtle dark:border-border-dark flex items-center justify-between px-4 sticky top-0 z-50",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-8 bg-primary-blue rounded-lg flex items-center justify-center text-white",children:C.jsx(JE,{size:20,strokeWidth:3})}),C.jsx("h1",{className:"text-lg font-bold",children:"Blush & Bloom"})]}),C.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:t==="light"?C.jsx(wR,{size:20}):C.jsx(xR,{size:20})})]}),C.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 overflow-y-auto min-h-[calc(100vh-4rem)] md:min-h-screen pb-24 md:pb-8",children:C.jsx("div",{className:"max-w-7xl mx-auto fade-in",children:C.jsx(UF,{})})}),C.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-white dark:bg-card-dark border-t border-border-subtle dark:border-border-dark flex justify-around items-center z-50 pb-safe",children:n.map(r=>C.jsx(XE,{to:r.path,className:({isActive:i})=>`flex flex-col items-center justify-center w-full h-full space-y-1 ${i?"text-primary-blue":"text-gray-500 dark:text-gray-400"}`,children:({isActive:i})=>C.jsxs(C.Fragment,{children:[C.jsx(r.icon,{size:24,strokeWidth:i?2.5:2}),C.jsx("span",{className:"text-[10px] font-medium",children:r.label})]})},r.path))})]})},g$=()=>{};var ER={};const NL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},DL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=o>>2,p=(o&3)<<4|u>>4;let b=(u&15)<<2|d>>6,x=d&63;f||(x=64,l||(b=64)),r.push(n[m],n[p],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||p==null)throw new v$;const b=o<<2|u>>4;if(r.push(b),d!==64){const x=u<<4&240|d>>2;if(r.push(x),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b$=function(t){const e=NL(t);return DL.encodeByteArray(e,!0)},ML=function(t){return b$(t).replace(/\./g,"")},jL=function(t){try{return DL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _$=()=>LL().__FIREBASE_DEFAULTS__,w$=()=>{if(typeof process>"u"||typeof ER>"u")return;const t=ER.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jL(t[1]);return e&&JSON.parse(e)},L0=()=>{try{return g$()||_$()||w$()||x$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E$=t=>L0()?.emulatorHosts?.[t],VL=()=>L0()?.config,zL=t=>L0()?.[`_${t}`];class S${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Jd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UL(t){return(await fetch(t,{credentials:"include"})).ok}const Cm={};function T$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cm))Cm[e]?t.emulator.push(e):t.prod.push(e);return t}function A$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SR=!1;function I$(t,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||Cm[t]===e||Cm[t]||SR)return;Cm[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=T$().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{SR=!0,l()},b}function m(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=A$(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),A=n("learnmore"),O=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),B=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;u(M),m(O,A);const Y=d();f(B,D),M.append(B,T,O,Y),document.body.appendChild(M)}o?(T.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function BL(){const t=L0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k$(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qL(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FL(){return!BL()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function $L(){try{return typeof indexedDB=="object"}catch{return!1}}function N$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const D$="FirebaseError";class vl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D$,Object.setPrototypeOf(this,vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ap.prototype.create)}}class Ap{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?M$(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new vl(i,u,r)}}function M$(t,e){return t.replace(j$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j$=/\{\$([^}]+)}/g;function L$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(TR(o)&&TR(l)){if(!Kc(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TR(t){return t!==null&&typeof t=="object"}function Ip(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function xm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V$(t,e){const n=new z$(t,e);return n.subscribe.bind(n)}class z${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qw),i.error===void 0&&(i.error=Qw),i.complete===void 0&&(i.complete=Qw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qw(){}function $r(t){return t&&t._delegate?t._delegate:t}class Hc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xc="[DEFAULT]";let B$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F$(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q$(t){return t===xc?void 0:t}function F$(t){return t.instantiationMode==="EAGER"}class $${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const K$={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},H$=Lt.INFO,G$={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},W$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=G$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WS{constructor(e){this.name=e,this._logLevel=H$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const Y$=(t,e)=>e.some(n=>t instanceof n);let AR,IR;function Q$(){return AR||(AR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X$(){return IR||(IR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KL=new WeakMap,e1=new WeakMap,HL=new WeakMap,Xw=new WeakMap,YS=new WeakMap;function Z$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Iu(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&KL.set(n,t)}).catch(()=>{}),YS.set(e,t),e}function J$(t){if(e1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});e1.set(t,e)}let t1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Iu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e7(t){t1=t(t1)}function t7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zw(this),e,...n);return HL.set(r,e.sort?e.sort():[e]),Iu(r)}:X$().includes(t)?function(...e){return t.apply(Zw(this),e),Iu(KL.get(this))}:function(...e){return Iu(t.apply(Zw(this),e))}}function n7(t){return typeof t=="function"?t7(t):(t instanceof IDBTransaction&&J$(t),Y$(t,Q$())?new Proxy(t,t1):t)}function Iu(t){if(t instanceof IDBRequest)return Z$(t);if(Xw.has(t))return Xw.get(t);const e=n7(t);return e!==t&&(Xw.set(t,e),YS.set(e,t)),e}const Zw=t=>YS.get(t);function r7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Iu(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Iu(l.result),f.oldVersion,f.newVersion,Iu(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const i7=["get","getKey","getAll","getAllKeys","count"],a7=["put","add","delete","clear"],Jw=new Map;function OR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jw.get(e))return Jw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=a7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i7.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return Jw.set(e,o),o}e7(t=>({...t,get:(e,n,r)=>OR(e,n)||t.get(e,n,r),has:(e,n)=>!!OR(e,n)||t.has(e,n)}));class o7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s7(t){return t.getComponent()?.type==="VERSION"}const n1="@firebase/app",PR="0.14.6";const sl=new WS("@firebase/app"),l7="@firebase/app-compat",u7="@firebase/analytics-compat",c7="@firebase/analytics",f7="@firebase/app-check-compat",d7="@firebase/app-check",h7="@firebase/auth",m7="@firebase/auth-compat",p7="@firebase/database",g7="@firebase/data-connect",y7="@firebase/database-compat",v7="@firebase/functions",b7="@firebase/functions-compat",_7="@firebase/installations",w7="@firebase/installations-compat",x7="@firebase/messaging",E7="@firebase/messaging-compat",S7="@firebase/performance",T7="@firebase/performance-compat",A7="@firebase/remote-config",I7="@firebase/remote-config-compat",O7="@firebase/storage",P7="@firebase/storage-compat",C7="@firebase/firestore",R7="@firebase/ai",k7="@firebase/firestore-compat",N7="firebase",D7="12.6.0";const r1="[DEFAULT]",M7={[n1]:"fire-core",[l7]:"fire-core-compat",[c7]:"fire-analytics",[u7]:"fire-analytics-compat",[d7]:"fire-app-check",[f7]:"fire-app-check-compat",[h7]:"fire-auth",[m7]:"fire-auth-compat",[p7]:"fire-rtdb",[g7]:"fire-data-connect",[y7]:"fire-rtdb-compat",[v7]:"fire-fn",[b7]:"fire-fn-compat",[_7]:"fire-iid",[w7]:"fire-iid-compat",[x7]:"fire-fcm",[E7]:"fire-fcm-compat",[S7]:"fire-perf",[T7]:"fire-perf-compat",[A7]:"fire-rc",[I7]:"fire-rc-compat",[O7]:"fire-gcs",[P7]:"fire-gcs-compat",[C7]:"fire-fst",[k7]:"fire-fst-compat",[R7]:"fire-vertex","fire-js":"fire-js",[N7]:"fire-js-all"};const dv=new Map,j7=new Map,i1=new Map;function CR(t,e){try{t.container.addComponent(e)}catch(n){sl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _d(t){const e=t.name;if(i1.has(e))return sl.debug(`There were multiple attempts to register component ${e}.`),!1;i1.set(e,t);for(const n of dv.values())CR(n,t);for(const n of j7.values())CR(n,t);return!0}function QS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Po(t){return t==null?!1:t.settings!==void 0}const L7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ou=new Ap("app","Firebase",L7);class V7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ou.create("app-deleted",{appName:this._name})}}const eh=D7;function GL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ou.create("bad-app-name",{appName:String(i)});if(n||(n=VL()),!n)throw Ou.create("no-options");const o=dv.get(i);if(o){if(Kc(n,o.options)&&Kc(r,o.config))return o;throw Ou.create("duplicate-app",{appName:i})}const l=new $$(i);for(const f of i1.values())l.addComponent(f);const u=new V7(n,r,l);return dv.set(i,u),u}function z7(t=r1){const e=dv.get(t);if(!e&&t===r1&&VL())return GL();if(!e)throw Ou.create("no-app",{appName:t});return e}function Pu(t,e,n){let r=M7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sl.warn(l.join(" "));return}_d(new Hc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const U7="firebase-heartbeat-database",B7=1,Fm="firebase-heartbeat-store";let ex=null;function WL(){return ex||(ex=r7(U7,B7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ou.create("idb-open",{originalErrorMessage:t.message})})),ex}async function q7(t){try{const n=(await WL()).transaction(Fm),r=await n.objectStore(Fm).get(YL(t));return await n.done,r}catch(e){if(e instanceof vl)sl.warn(e.message);else{const n=Ou.create("idb-get",{originalErrorMessage:e?.message});sl.warn(n.message)}}}async function RR(t,e){try{const r=(await WL()).transaction(Fm,"readwrite");await r.objectStore(Fm).put(e,YL(t)),await r.done}catch(n){if(n instanceof vl)sl.warn(n.message);else{const r=Ou.create("idb-set",{originalErrorMessage:n?.message});sl.warn(r.message)}}}function YL(t){return`${t.name}!${t.options.appId}`}const F7=1024,$7=30;class K7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$7){const i=W7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kR(),{heartbeatsToSend:n,unsentEntries:r}=H7(this._heartbeatsCache.heartbeats),i=ML(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return sl.warn(e),""}}}function kR(){return new Date().toISOString().substring(0,10)}function H7(t,e=F7){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),NR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $L()?N$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function NR(t){return ML(JSON.stringify({version:2,heartbeats:t})).length}function W7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Y7(t){_d(new Hc("platform-logger",e=>new o7(e),"PRIVATE")),_d(new Hc("heartbeat",e=>new K7(e),"PRIVATE")),Pu(n1,PR,t),Pu(n1,PR,"esm2020"),Pu("fire-js","")}Y7("");var DR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cu,QL;(function(){var t;function e(j,L){function z(){}z.prototype=L.prototype,j.F=L.prototype,j.prototype=new z,j.prototype.constructor=j,j.D=function(G,q,H){for(var $=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)$[qe-2]=arguments[qe];return L.prototype[q].apply(G,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,L,z){z||(z=0);const G=Array(16);if(typeof L=="string")for(var q=0;q<16;++q)G[q]=L.charCodeAt(z++)|L.charCodeAt(z++)<<8|L.charCodeAt(z++)<<16|L.charCodeAt(z++)<<24;else for(q=0;q<16;++q)G[q]=L[z++]|L[z++]<<8|L[z++]<<16|L[z++]<<24;L=j.g[0],z=j.g[1],q=j.g[2];let H=j.g[3],$;$=L+(H^z&(q^H))+G[0]+3614090360&4294967295,L=z+($<<7&4294967295|$>>>25),$=H+(q^L&(z^q))+G[1]+3905402710&4294967295,H=L+($<<12&4294967295|$>>>20),$=q+(z^H&(L^z))+G[2]+606105819&4294967295,q=H+($<<17&4294967295|$>>>15),$=z+(L^q&(H^L))+G[3]+3250441966&4294967295,z=q+($<<22&4294967295|$>>>10),$=L+(H^z&(q^H))+G[4]+4118548399&4294967295,L=z+($<<7&4294967295|$>>>25),$=H+(q^L&(z^q))+G[5]+1200080426&4294967295,H=L+($<<12&4294967295|$>>>20),$=q+(z^H&(L^z))+G[6]+2821735955&4294967295,q=H+($<<17&4294967295|$>>>15),$=z+(L^q&(H^L))+G[7]+4249261313&4294967295,z=q+($<<22&4294967295|$>>>10),$=L+(H^z&(q^H))+G[8]+1770035416&4294967295,L=z+($<<7&4294967295|$>>>25),$=H+(q^L&(z^q))+G[9]+2336552879&4294967295,H=L+($<<12&4294967295|$>>>20),$=q+(z^H&(L^z))+G[10]+4294925233&4294967295,q=H+($<<17&4294967295|$>>>15),$=z+(L^q&(H^L))+G[11]+2304563134&4294967295,z=q+($<<22&4294967295|$>>>10),$=L+(H^z&(q^H))+G[12]+1804603682&4294967295,L=z+($<<7&4294967295|$>>>25),$=H+(q^L&(z^q))+G[13]+4254626195&4294967295,H=L+($<<12&4294967295|$>>>20),$=q+(z^H&(L^z))+G[14]+2792965006&4294967295,q=H+($<<17&4294967295|$>>>15),$=z+(L^q&(H^L))+G[15]+1236535329&4294967295,z=q+($<<22&4294967295|$>>>10),$=L+(q^H&(z^q))+G[1]+4129170786&4294967295,L=z+($<<5&4294967295|$>>>27),$=H+(z^q&(L^z))+G[6]+3225465664&4294967295,H=L+($<<9&4294967295|$>>>23),$=q+(L^z&(H^L))+G[11]+643717713&4294967295,q=H+($<<14&4294967295|$>>>18),$=z+(H^L&(q^H))+G[0]+3921069994&4294967295,z=q+($<<20&4294967295|$>>>12),$=L+(q^H&(z^q))+G[5]+3593408605&4294967295,L=z+($<<5&4294967295|$>>>27),$=H+(z^q&(L^z))+G[10]+38016083&4294967295,H=L+($<<9&4294967295|$>>>23),$=q+(L^z&(H^L))+G[15]+3634488961&4294967295,q=H+($<<14&4294967295|$>>>18),$=z+(H^L&(q^H))+G[4]+3889429448&4294967295,z=q+($<<20&4294967295|$>>>12),$=L+(q^H&(z^q))+G[9]+568446438&4294967295,L=z+($<<5&4294967295|$>>>27),$=H+(z^q&(L^z))+G[14]+3275163606&4294967295,H=L+($<<9&4294967295|$>>>23),$=q+(L^z&(H^L))+G[3]+4107603335&4294967295,q=H+($<<14&4294967295|$>>>18),$=z+(H^L&(q^H))+G[8]+1163531501&4294967295,z=q+($<<20&4294967295|$>>>12),$=L+(q^H&(z^q))+G[13]+2850285829&4294967295,L=z+($<<5&4294967295|$>>>27),$=H+(z^q&(L^z))+G[2]+4243563512&4294967295,H=L+($<<9&4294967295|$>>>23),$=q+(L^z&(H^L))+G[7]+1735328473&4294967295,q=H+($<<14&4294967295|$>>>18),$=z+(H^L&(q^H))+G[12]+2368359562&4294967295,z=q+($<<20&4294967295|$>>>12),$=L+(z^q^H)+G[5]+4294588738&4294967295,L=z+($<<4&4294967295|$>>>28),$=H+(L^z^q)+G[8]+2272392833&4294967295,H=L+($<<11&4294967295|$>>>21),$=q+(H^L^z)+G[11]+1839030562&4294967295,q=H+($<<16&4294967295|$>>>16),$=z+(q^H^L)+G[14]+4259657740&4294967295,z=q+($<<23&4294967295|$>>>9),$=L+(z^q^H)+G[1]+2763975236&4294967295,L=z+($<<4&4294967295|$>>>28),$=H+(L^z^q)+G[4]+1272893353&4294967295,H=L+($<<11&4294967295|$>>>21),$=q+(H^L^z)+G[7]+4139469664&4294967295,q=H+($<<16&4294967295|$>>>16),$=z+(q^H^L)+G[10]+3200236656&4294967295,z=q+($<<23&4294967295|$>>>9),$=L+(z^q^H)+G[13]+681279174&4294967295,L=z+($<<4&4294967295|$>>>28),$=H+(L^z^q)+G[0]+3936430074&4294967295,H=L+($<<11&4294967295|$>>>21),$=q+(H^L^z)+G[3]+3572445317&4294967295,q=H+($<<16&4294967295|$>>>16),$=z+(q^H^L)+G[6]+76029189&4294967295,z=q+($<<23&4294967295|$>>>9),$=L+(z^q^H)+G[9]+3654602809&4294967295,L=z+($<<4&4294967295|$>>>28),$=H+(L^z^q)+G[12]+3873151461&4294967295,H=L+($<<11&4294967295|$>>>21),$=q+(H^L^z)+G[15]+530742520&4294967295,q=H+($<<16&4294967295|$>>>16),$=z+(q^H^L)+G[2]+3299628645&4294967295,z=q+($<<23&4294967295|$>>>9),$=L+(q^(z|~H))+G[0]+4096336452&4294967295,L=z+($<<6&4294967295|$>>>26),$=H+(z^(L|~q))+G[7]+1126891415&4294967295,H=L+($<<10&4294967295|$>>>22),$=q+(L^(H|~z))+G[14]+2878612391&4294967295,q=H+($<<15&4294967295|$>>>17),$=z+(H^(q|~L))+G[5]+4237533241&4294967295,z=q+($<<21&4294967295|$>>>11),$=L+(q^(z|~H))+G[12]+1700485571&4294967295,L=z+($<<6&4294967295|$>>>26),$=H+(z^(L|~q))+G[3]+2399980690&4294967295,H=L+($<<10&4294967295|$>>>22),$=q+(L^(H|~z))+G[10]+4293915773&4294967295,q=H+($<<15&4294967295|$>>>17),$=z+(H^(q|~L))+G[1]+2240044497&4294967295,z=q+($<<21&4294967295|$>>>11),$=L+(q^(z|~H))+G[8]+1873313359&4294967295,L=z+($<<6&4294967295|$>>>26),$=H+(z^(L|~q))+G[15]+4264355552&4294967295,H=L+($<<10&4294967295|$>>>22),$=q+(L^(H|~z))+G[6]+2734768916&4294967295,q=H+($<<15&4294967295|$>>>17),$=z+(H^(q|~L))+G[13]+1309151649&4294967295,z=q+($<<21&4294967295|$>>>11),$=L+(q^(z|~H))+G[4]+4149444226&4294967295,L=z+($<<6&4294967295|$>>>26),$=H+(z^(L|~q))+G[11]+3174756917&4294967295,H=L+($<<10&4294967295|$>>>22),$=q+(L^(H|~z))+G[2]+718787259&4294967295,q=H+($<<15&4294967295|$>>>17),$=z+(H^(q|~L))+G[9]+3951481745&4294967295,j.g[0]=j.g[0]+L&4294967295,j.g[1]=j.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,j.g[2]=j.g[2]+q&4294967295,j.g[3]=j.g[3]+H&4294967295}r.prototype.v=function(j,L){L===void 0&&(L=j.length);const z=L-this.blockSize,G=this.C;let q=this.h,H=0;for(;H<L;){if(q==0)for(;H<=z;)i(this,j,H),H+=this.blockSize;if(typeof j=="string"){for(;H<L;)if(G[q++]=j.charCodeAt(H++),q==this.blockSize){i(this,G),q=0;break}}else for(;H<L;)if(G[q++]=j[H++],q==this.blockSize){i(this,G),q=0;break}}this.h=q,this.o+=L},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var L=1;L<j.length-8;++L)j[L]=0;L=this.o*8;for(var z=j.length-8;z<j.length;++z)j[z]=L&255,L/=256;for(this.v(j),j=Array(16),L=0,z=0;z<4;++z)for(let G=0;G<32;G+=8)j[L++]=this.g[z]>>>G&255;return j};function o(j,L){var z=u;return Object.prototype.hasOwnProperty.call(z,j)?z[j]:z[j]=L(j)}function l(j,L){this.h=L;const z=[];let G=!0;for(let q=j.length-1;q>=0;q--){const H=j[q]|0;G&&H==L||(z[q]=H,G=!1)}this.g=z}var u={};function f(j){return-128<=j&&j<128?o(j,function(L){return new l([L|0],L<0?-1:0)}):new l([j|0],j<0?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return p;if(j<0)return O(d(-j));const L=[];let z=1;for(let G=0;j>=z;G++)L[G]=j/z|0,z*=4294967296;return new l(L,0)}function m(j,L){if(j.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(j.charAt(0)=="-")return O(m(j.substring(1),L));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=d(Math.pow(L,8));let G=p;for(let H=0;H<j.length;H+=8){var q=Math.min(8,j.length-H);const $=parseInt(j.substring(H,H+q),L);q<8?(q=d(Math.pow(L,q)),G=G.j(q).add(d($))):(G=G.j(z),G=G.add(d($)))}return G}var p=f(0),b=f(1),x=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-O(this).m();let j=0,L=1;for(let z=0;z<this.g.length;z++){const G=this.i(z);j+=(G>=0?G:4294967296+G)*L,L*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(T(this))return"0";if(A(this))return"-"+O(this).toString(j);const L=d(Math.pow(j,6));var z=this;let G="";for(;;){const q=Y(z,L).g;z=D(z,q.j(L));let H=((z.g.length>0?z.g[0]:z.h)>>>0).toString(j);if(z=q,T(z))return H+G;for(;H.length<6;)H="0"+H;G=H+G}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function T(j){if(j.h!=0)return!1;for(let L=0;L<j.g.length;L++)if(j.g[L]!=0)return!1;return!0}function A(j){return j.h==-1}t.l=function(j){return j=D(this,j),A(j)?-1:T(j)?0:1};function O(j){const L=j.g.length,z=[];for(let G=0;G<L;G++)z[G]=~j.g[G];return new l(z,~j.h).add(b)}t.abs=function(){return A(this)?O(this):this},t.add=function(j){const L=Math.max(this.g.length,j.g.length),z=[];let G=0;for(let q=0;q<=L;q++){let H=G+(this.i(q)&65535)+(j.i(q)&65535),$=(H>>>16)+(this.i(q)>>>16)+(j.i(q)>>>16);G=$>>>16,H&=65535,$&=65535,z[q]=$<<16|H}return new l(z,z[z.length-1]&-2147483648?-1:0)};function D(j,L){return j.add(O(L))}t.j=function(j){if(T(this)||T(j))return p;if(A(this))return A(j)?O(this).j(O(j)):O(O(this).j(j));if(A(j))return O(this.j(O(j)));if(this.l(x)<0&&j.l(x)<0)return d(this.m()*j.m());const L=this.g.length+j.g.length,z=[];for(var G=0;G<2*L;G++)z[G]=0;for(G=0;G<this.g.length;G++)for(let q=0;q<j.g.length;q++){const H=this.i(G)>>>16,$=this.i(G)&65535,qe=j.i(q)>>>16,Xe=j.i(q)&65535;z[2*G+2*q]+=$*Xe,B(z,2*G+2*q),z[2*G+2*q+1]+=H*Xe,B(z,2*G+2*q+1),z[2*G+2*q+1]+=$*qe,B(z,2*G+2*q+1),z[2*G+2*q+2]+=H*qe,B(z,2*G+2*q+2)}for(j=0;j<L;j++)z[j]=z[2*j+1]<<16|z[2*j];for(j=L;j<2*L;j++)z[j]=0;return new l(z,0)};function B(j,L){for(;(j[L]&65535)!=j[L];)j[L+1]+=j[L]>>>16,j[L]&=65535,L++}function M(j,L){this.g=j,this.h=L}function Y(j,L){if(T(L))throw Error("division by zero");if(T(j))return new M(p,p);if(A(j))return L=Y(O(j),L),new M(O(L.g),O(L.h));if(A(L))return L=Y(j,O(L)),new M(O(L.g),L.h);if(j.g.length>30){if(A(j)||A(L))throw Error("slowDivide_ only works with positive integers.");for(var z=b,G=L;G.l(j)<=0;)z=W(z),G=W(G);var q=X(z,1),H=X(G,1);for(G=X(G,2),z=X(z,2);!T(G);){var $=H.add(G);$.l(j)<=0&&(q=q.add(z),H=$),G=X(G,1),z=X(z,1)}return L=D(j,q.j(L)),new M(q,L)}for(q=p;j.l(L)>=0;){for(z=Math.max(1,Math.floor(j.m()/L.m())),G=Math.ceil(Math.log(z)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),H=d(z),$=H.j(L);A($)||$.l(j)>0;)z-=G,H=d(z),$=H.j(L);T(H)&&(H=b),q=q.add(H),j=D(j,$)}return new M(q,j)}t.B=function(j){return Y(this,j).h},t.and=function(j){const L=Math.max(this.g.length,j.g.length),z=[];for(let G=0;G<L;G++)z[G]=this.i(G)&j.i(G);return new l(z,this.h&j.h)},t.or=function(j){const L=Math.max(this.g.length,j.g.length),z=[];for(let G=0;G<L;G++)z[G]=this.i(G)|j.i(G);return new l(z,this.h|j.h)},t.xor=function(j){const L=Math.max(this.g.length,j.g.length),z=[];for(let G=0;G<L;G++)z[G]=this.i(G)^j.i(G);return new l(z,this.h^j.h)};function W(j){const L=j.g.length+1,z=[];for(let G=0;G<L;G++)z[G]=j.i(G)<<1|j.i(G-1)>>>31;return new l(z,j.h)}function X(j,L){const z=L>>5;L%=32;const G=j.g.length-z,q=[];for(let H=0;H<G;H++)q[H]=L>0?j.i(H+z)>>>L|j.i(H+z+1)<<32-L:j.i(H+z);return new l(q,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QL=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Cu=l}).apply(typeof DR<"u"?DR:typeof self<"u"?self:typeof window<"u"?window:{});var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XL,Em,ZL,qy,a1,JL,e4,t4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof my=="object"&&my];for(var I=0;I<g.length;++I){var k=g[I];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(g,I){if(I)e:{var k=r;g=g.split(".");for(var F=0;F<g.length-1;F++){var he=g[F];if(!(he in k))break e;k=k[he]}g=g[g.length-1],F=k[g],I=I(F),I!=F&&I!=null&&e(k,g,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(I){var k=[],F;for(F in I)Object.prototype.hasOwnProperty.call(I,F)&&k.push([F,I[F]]);return k}});var o=o||{},l=this||self;function u(g){var I=typeof g;return I=="object"&&g!=null||I=="function"}function f(g,I,k){return g.call.apply(g.bind,arguments)}function d(g,I,k){return d=f,d.apply(null,arguments)}function m(g,I){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),g.apply(this,F)}}function p(g,I){function k(){}k.prototype=I.prototype,g.Z=I.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(F,he,we){for(var Ue=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Ue[wt-2]=arguments[wt];return I.prototype[he].apply(F,Ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const I=g.length;if(I>0){const k=Array(I);for(let F=0;F<I;F++)k[F]=g[F];return k}return[]}function T(g,I){for(let F=1;F<arguments.length;F++){const he=arguments[F];var k=typeof he;if(k=k!="object"?k:he?Array.isArray(he)?"array":k:"null",k=="array"||k=="object"&&typeof he.length=="number"){k=g.length||0;const we=he.length||0;g.length=k+we;for(let Ue=0;Ue<we;Ue++)g[k+Ue]=he[Ue]}else g.push(he)}}class A{constructor(I,k){this.i=I,this.j=k,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function O(g){l.setTimeout(()=>{throw g},0)}function D(){var g=j;let I=null;return g.g&&(I=g.g,g.g=g.g.next,g.g||(g.h=null),I.next=null),I}class B{constructor(){this.h=this.g=null}add(I,k){const F=M.get();F.set(I,k),this.h?this.h.next=F:this.g=F,this.h=F}}var M=new A(()=>new Y,g=>g.reset());class Y{constructor(){this.next=this.g=this.h=null}set(I,k){this.h=I,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,X=!1,j=new B,L=()=>{const g=Promise.resolve(void 0);W=()=>{g.then(z)}};function z(){for(var g;g=D();){try{g.h.call(g.g)}catch(k){O(k)}var I=M;I.j(g),I.h<100&&(I.h++,g.next=I.g,I.g=g)}X=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(g,I){this.type=g,this.g=this.target=I,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,I=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};l.addEventListener("test",k,I),l.removeEventListener("test",k,I)}catch{}return g})();function $(g){return/^[\s\xa0]*$/.test(g)}function qe(g,I){q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,I)}p(qe,q),qe.prototype.init=function(g,I){const k=this.type=g.type,F=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=I,I=g.relatedTarget,I||(k=="mouseover"?I=g.fromElement:k=="mouseout"&&(I=g.toElement)),this.relatedTarget=I,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),de=0;function Pe(g,I,k,F,he){this.listener=g,this.proxy=null,this.src=I,this.type=k,this.capture=!!F,this.ha=he,this.key=++de,this.da=this.fa=!1}function xe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Te(g,I,k){for(const F in g)I.call(k,g[F],F,g)}function tt(g,I){for(const k in g)I.call(void 0,g[k],k,g)}function ee(g){const I={};for(const k in g)I[k]=g[k];return I}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(g,I){let k,F;for(let he=1;he<arguments.length;he++){F=arguments[he];for(k in F)g[k]=F[k];for(let we=0;we<Se.length;we++)k=Se[we],Object.prototype.hasOwnProperty.call(F,k)&&(g[k]=F[k])}}function je(g){this.src=g,this.g={},this.h=0}je.prototype.add=function(g,I,k,F,he){const we=g.toString();g=this.g[we],g||(g=this.g[we]=[],this.h++);const Ue=ut(g,I,F,he);return Ue>-1?(I=g[Ue],k||(I.fa=!1)):(I=new Pe(I,this.src,we,!!F,he),I.fa=k,g.push(I)),I};function nt(g,I){const k=I.type;if(k in g.g){var F=g.g[k],he=Array.prototype.indexOf.call(F,I,void 0),we;(we=he>=0)&&Array.prototype.splice.call(F,he,1),we&&(xe(I),g.g[k].length==0&&(delete g.g[k],g.h--))}}function ut(g,I,k,F){for(let he=0;he<g.length;++he){const we=g[he];if(!we.da&&we.listener==I&&we.capture==!!k&&we.ha==F)return he}return-1}var Ye="closure_lm_"+(Math.random()*1e6|0),un={};function ue(g,I,k,F,he){if(Array.isArray(I)){for(let we=0;we<I.length;we++)ue(g,I[we],k,F,he);return null}return k=Uo(k),g&&g[Xe]?g.J(I,k,u(F)?!!F.capture:!1,he):mt(g,I,k,!1,F,he)}function mt(g,I,k,F,he,we){if(!I)throw Error("Invalid event type");const Ue=u(he)?!!he.capture:!!he;let wt=jn(g);if(wt||(g[Ye]=wt=new je(g)),k=wt.add(I,k,F,Ue,we),k.proxy)return k;if(F=yt(),k.proxy=F,F.src=g,F.listener=k,g.addEventListener)H||(he=Ue),he===void 0&&(he=!1),g.addEventListener(I.toString(),F,he);else if(g.attachEvent)g.attachEvent(It(I.toString()),F);else if(g.addListener&&g.removeListener)g.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function yt(){function g(k){return I.call(g.src,g.listener,k)}const I=gn;return g}function Ae(g,I,k,F,he){if(Array.isArray(I))for(var we=0;we<I.length;we++)Ae(g,I[we],k,F,he);else F=u(F)?!!F.capture:!!F,k=Uo(k),g&&g[Xe]?(g=g.i,we=String(I).toString(),we in g.g&&(I=g.g[we],k=ut(I,k,F,he),k>-1&&(xe(I[k]),Array.prototype.splice.call(I,k,1),I.length==0&&(delete g.g[we],g.h--)))):g&&(g=jn(g))&&(I=g.g[I.toString()],g=-1,I&&(g=ut(I,k,F,he)),(k=g>-1?I[g]:null)&&pn(k))}function pn(g){if(typeof g!="number"&&g&&!g.da){var I=g.src;if(I&&I[Xe])nt(I.i,g);else{var k=g.type,F=g.proxy;I.removeEventListener?I.removeEventListener(k,F,g.capture):I.detachEvent?I.detachEvent(It(k),F):I.addListener&&I.removeListener&&I.removeListener(F),(k=jn(I))?(nt(k,g),k.h==0&&(k.src=null,I[Ye]=null)):xe(g)}}}function It(g){return g in un?un[g]:un[g]="on"+g}function gn(g,I){if(g.da)g=!0;else{I=new qe(I,this);const k=g.listener,F=g.ha||g.src;g.fa&&pn(g),g=k.call(F,I)}return g}function jn(g){return g=g[Ye],g instanceof je?g:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(g){return typeof g=="function"?g:(g[vi]||(g[vi]=function(I){return g.handleEvent(I)}),g[vi])}function Hn(){G.call(this),this.i=new je(this),this.M=this,this.G=null}p(Hn,G),Hn.prototype[Xe]=!0,Hn.prototype.removeEventListener=function(g,I,k,F){Ae(this,g,I,k,F)};function Ln(g,I){var k,F=g.G;if(F)for(k=[];F;F=F.G)k.push(F);if(g=g.M,F=I.type||I,typeof I=="string")I=new q(I,g);else if(I instanceof q)I.target=I.target||g;else{var he=I;I=new q(F,g),De(I,he)}he=!0;let we,Ue;if(k)for(Ue=k.length-1;Ue>=0;Ue--)we=I.g=k[Ue],he=xr(we,F,!0,I)&&he;if(we=I.g=g,he=xr(we,F,!0,I)&&he,he=xr(we,F,!1,I)&&he,k)for(Ue=0;Ue<k.length;Ue++)we=I.g=k[Ue],he=xr(we,F,!1,I)&&he}Hn.prototype.N=function(){if(Hn.Z.N.call(this),this.i){var g=this.i;for(const I in g.g){const k=g.g[I];for(let F=0;F<k.length;F++)xe(k[F]);delete g.g[I],g.h--}}this.G=null},Hn.prototype.J=function(g,I,k,F){return this.i.add(String(g),I,!1,k,F)},Hn.prototype.K=function(g,I,k,F){return this.i.add(String(g),I,!0,k,F)};function xr(g,I,k,F){if(I=g.i.g[String(I)],!I)return!0;I=I.concat();let he=!0;for(let we=0;we<I.length;++we){const Ue=I[we];if(Ue&&!Ue.da&&Ue.capture==k){const wt=Ue.listener,Fn=Ue.ha||Ue.src;Ue.fa&&nt(g.i,Ue),he=wt.call(Fn,F)!==!1&&he}}return he&&!F.defaultPrevented}function gf(g,I){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:l.setTimeout(g,I||0)}function Bo(g){g.g=gf(()=>{g.g=null,g.i&&(g.i=!1,Bo(g))},g.l);const I=g.h;g.h=null,g.m.apply(null,I)}class Dr extends G{constructor(I,k){super(),this.m=I,this.l=k,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(g){G.call(this),this.h=g,this.g={}}p(oa,G);var sa=[];function la(g){Te(g.g,function(I,k){this.g.hasOwnProperty(k)&&pn(I)},g),g.g={}}oa.prototype.N=function(){oa.Z.N.call(this),la(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Va=l.JSON.stringify,_s=l.JSON.parse,Il=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function ws(){}function za(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zn(){q.call(this,"d")}p(Zn,q);function Jn(){q.call(this,"c")}p(Jn,q);var Ge={},qo=null;function ki(){return qo=qo||new Hn}Ge.Ia="serverreachability";function xs(g){q.call(this,Ge.Ia,g)}p(xs,q);function Fe(g){const I=ki();Ln(I,new xs(I))}Ge.STAT_EVENT="statevent";function yo(g,I){q.call(this,Ge.STAT_EVENT,g),this.stat=I}p(yo,q);function Vn(g){const I=ki();Ln(I,new yo(I,g))}Ge.Ja="timingevent";function Ni(g,I){q.call(this,Ge.Ja,g),this.size=I}p(Ni,q);function ua(g,I){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},I)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function _h(g,I,k,F,he,we){g.info(function(){if(g.g)if(we){var Ue="",wt=we.split("&");for(let zt=0;zt<wt.length;zt++){var Fn=wt[zt].split("=");if(Fn.length>1){const en=Fn[0];Fn=Fn[1];const Ki=en.split("_");Ue=Ki.length>=2&&Ki[1]=="type"?Ue+(en+"="+Fn+"&"):Ue+(en+"=redacted&")}}}else Ue=null;else Ue=we;return"XMLHTTP REQ ("+F+") [attempt "+he+"]: "+I+`
`+k+`
`+Ue})}function yf(g,I,k,F,he,we,Ue){g.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+he+"]: "+I+`
`+k+`
`+we+" "+Ue})}function Wr(g,I,k,F){g.info(function(){return"XMLHTTP TEXT ("+I+"): "+Zu(g,k)+(F?" "+F:"")})}function Di(g,I){g.info(function(){return"TIMEOUT: "+I})}bi.prototype.info=function(){};function Zu(g,I){if(!g.g)return I;if(!I)return null;try{const we=JSON.parse(I);if(we){for(g=0;g<we.length;g++)if(Array.isArray(we[g])){var k=we[g];if(!(k.length<2)){var F=k[1];if(Array.isArray(F)&&!(F.length<1)){var he=F[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Ue=1;Ue<F.length;Ue++)F[Ue]=""}}}}return Va(we)}catch{return I}}var Ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},In;function Es(){}p(Es,ws),Es.prototype.g=function(){return new XMLHttpRequest},In=new Es;function Mi(g){return encodeURIComponent(String(g))}function Ss(g){var I=1;g=g.split(":");const k=[];for(;I>0&&g.length;)k.push(g.shift()),I--;return g.length&&k.push(g.join(":")),k}function ii(g,I,k,F){this.j=g,this.i=I,this.l=k,this.S=F||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}var Zt={},xn={};function Er(g,I,k){g.M=1,g.A=Ko(Un(I)),g.u=k,g.R=!0,vo(g,null)}function vo(g,I){g.F=Date.now(),Mr(g),g.B=Un(g.A);var k=g.B,F=g.S;Array.isArray(F)||(F=[String(F)]),kl(k.i,"t",F),g.C=0,k=g.j.L,g.h=new ca,g.g=nr(g.j,k?I:null,!g.u),g.P>0&&(g.O=new Dr(d(g.Y,g,g.g),g.P)),I=g.V,k=g.g,F=g.ba;var he="readystatechange";Array.isArray(he)||(he&&(sa[0]=he.toString()),he=sa);for(let we=0;we<he.length;we++){const Ue=ue(k,he[we],F||I.handleEvent,!1,I.h||I);if(!Ue)break;I.g[Ue.key]=Ue}I=g.J?ee(g.J):{},g.u?(g.v||(g.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,I)):(g.v="GET",g.g.ea(g.B,g.v,null,I)),Fe(),_h(g.i,g.v,g.B,g.l,g.S,g.u)}ii.prototype.ba=function(g){g=g.target;const I=this.O;I&&va(g)==3?I.j():this.Y(g)},ii.prototype.Y=function(g){try{if(g==this.g)e:{const wt=va(this.g),Fn=this.g.ya(),zt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||qn(this.g)))){this.K||wt!=4||Fn==7||(Fn==8||zt<=0?Fe(3):Fe(2)),ji(this);var I=this.g.ca();this.X=I;var k=wh(this);if(this.o=I==200,yf(this.i,this.v,this.B,this.l,this.S,wt,I),this.o){if(this.U&&!this.L){t:{if(this.g){var F,he=this.g;if((F=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var we=F;break t}}we=null}if(g=we)Wr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lr(this,g);else{this.o=!1,this.m=3,Vn(12),er(this),Bt(this);break e}}if(this.R){g=!0;let en;for(;!this.K&&this.C<k.length;)if(en=Ju(this,k),en==xn){wt==4&&(this.m=4,Vn(14),g=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Zt){this.m=4,Vn(15),Wr(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else Wr(this.i,this.l,en,null),lr(this,en);if(fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||k.length!=0||this.h.h||(this.m=1,Vn(16),g=!1),this.o=this.o&&g,!g)Wr(this.i,this.l,k,"[Invalid Chunked Response]"),er(this),Bt(this);else if(k.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Go(Ue),Ue.P=!0,Vn(11))}}else Wr(this.i,this.l,k,null),lr(this,k);wt==4&&er(this),this.o&&!this.K&&(wt==4?To(this.j,this):(this.o=!1,Mr(this)))}else Eo(this.g),I==400&&k.indexOf("Unknown SID")>0?(this.m=3,Vn(12)):(this.m=0,Vn(13)),er(this),Bt(this)}}}catch{}finally{}};function wh(g){if(!fa(g))return g.g.la();const I=qn(g.g);if(I==="")return"";let k="";const F=I.length,he=va(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return er(g),Bt(g),"";g.h.i=new l.TextDecoder}for(let we=0;we<F;we++)g.h.h=!0,k+=g.h.i.decode(I[we],{stream:!(he&&we==F-1)});return I.length=0,g.h.g+=k,g.C=0,g.h.g}function fa(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ju(g,I){var k=g.C,F=I.indexOf(`
`,k);return F==-1?xn:(k=Number(I.substring(k,F)),isNaN(k)?Zt:(F+=1,F+k>I.length?xn:(I=I.slice(F,F+k),g.C=F+k,I)))}ii.prototype.cancel=function(){this.K=!0,er(this)};function Mr(g){g.T=Date.now()+g.H,Ts(g,g.H)}function Ts(g,I){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ua(d(g.aa,g),I)}function ji(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ii.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Di(this.i,this.B),this.M!=2&&(Fe(),Vn(17)),er(this),this.m=2,Bt(this)):Ts(this,this.T-g)};function Bt(g){g.j.I==0||g.K||To(g.j,g)}function er(g){ji(g);var I=g.O;I&&typeof I.dispose=="function"&&I.dispose(),g.O=null,la(g.V),g.g&&(I=g.g,g.g=null,I.abort(),I.dispose())}function lr(g,I){try{var k=g.j;if(k.I!=0&&(k.g==g||Vi(k.h,g))){if(!g.L&&Vi(k.h,g)&&k.I==3){try{var F=k.Ba.g.parse(I)}catch{F=null}if(Array.isArray(F)&&F.length==3){var he=F;if(he[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)jl(k),Ka(k);else break e;Ga(k),Vn(18)}}else k.xa=he[1],0<k.xa-k.K&&he[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=ua(d(k.Va,k),6e3));Li(k.h)<=1&&k.ta&&(k.ta=void 0)}else Fi(k,11)}else if((g.L||k.g==g)&&jl(k),!$(I))for(he=k.Ba.g.parse(I),I=0;I<he.length;I++){let zt=he[I];const en=zt[0];if(!(en<=k.K))if(k.K=en,zt=zt[1],k.I==2)if(zt[0]=="c"){k.M=zt[1],k.ba=zt[2];const Ki=zt[3];Ki!=null&&(k.ka=Ki,k.j.info("VER="+k.ka));const Hi=zt[4];Hi!=null&&(k.za=Hi,k.j.info("SVER="+k.za));const xi=zt[5];xi!=null&&typeof xi=="number"&&xi>0&&(F=1.5*xi,k.O=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const _a=g.g;if(_a){const Yo=_a.g?_a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var we=F.h;we.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(da(we,we.h),we.h=null))}if(F.G){const Ul=_a.g?_a.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(F.wa=Ul,Ft(F.J,F.G,Ul))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),F=k;var Ue=g;if(F.na=zl(F,F.L?F.ba:null,F.W),Ue.L){Ol(F.h,Ue);var wt=Ue,Fn=F.O;Fn&&(wt.H=Fn),wt.D&&(ji(wt),Mr(wt)),F.g=Ue}else Ps(F);k.i.length>0&&Ha(k)}else zt[0]!="stop"&&zt[0]!="close"||Fi(k,7);else k.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Fi(k,7):Ho(k):zt[0]!="noop"&&k.l&&k.l.qa(zt),k.A=0)}}Fe(4)}catch{}}var zn=class{constructor(g,I){this.g=g,this.map=I}};function Ba(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Li(g){return g.h?1:g.g?g.g.size:0}function Vi(g,I){return g.h?g.h==I:g.g?g.g.has(I):!1}function da(g,I){g.g?g.g.add(I):g.h=I}function Ol(g,I){g.h&&g.h==I?g.h=null:g.g&&g.g.has(I)&&g.g.delete(I)}Ba.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function $o(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let I=g.i;for(const k of g.g.values())I=I.concat(k.G);return I}return x(g.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Et(g,I){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const F=g[k].indexOf("=");let he,we=null;F>=0?(he=g[k].substring(0,F),we=g[k].substring(F+1)):he=g[k],I(he,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function ai(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;g instanceof ai?(this.l=g.l,Bn(this,g.j),this.o=g.o,this.g=g.g,zi(this,g.u),this.h=g.h,Pl(this,bf(g.i)),this.m=g.m):g&&(I=String(g).match(ec))?(this.l=!1,Bn(this,I[1]||"",!0),this.o=kt(I[2]||""),this.g=kt(I[3]||"",!0),zi(this,I[4]),this.h=kt(I[5]||"",!0),Pl(this,I[6]||"",!0),this.m=kt(I[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}ai.prototype.toString=function(){const g=[];var I=this.j;I&&g.push(ha(I,ma,!0),":");var k=this.g;return(k||I=="file")&&(g.push("//"),(I=this.o)&&g.push(ha(I,ma,!0),"@"),g.push(Mi(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(ha(k,k.charAt(0)=="/"?As:Cl,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",ha(k,tc)),g.join("")},ai.prototype.resolve=function(g){const I=Un(this);let k=!!g.j;k?Bn(I,g.j):k=!!g.o,k?I.o=g.o:k=!!g.g,k?I.g=g.g:k=g.u!=null;var F=g.h;if(k)zi(I,g.u);else if(k=!!g.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var he=I.h.lastIndexOf("/");he!=-1&&(F=I.h.slice(0,he+1)+F)}if(he=F,he==".."||he==".")F="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){F=he.lastIndexOf("/",0)==0,he=he.split("/");const we=[];for(let Ue=0;Ue<he.length;){const wt=he[Ue++];wt=="."?F&&Ue==he.length&&we.push(""):wt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),F&&Ue==he.length&&we.push("")):(we.push(wt),F=!0)}F=we.join("/")}else F=he}return k?I.h=F:k=g.i.toString()!=="",k?Pl(I,bf(g.i)):k=!!g.m,k&&(I.m=g.m),I};function Un(g){return new ai(g)}function Bn(g,I,k){g.j=k?kt(I,!0):I,g.j&&(g.j=g.j.replace(/:$/,""))}function zi(g,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);g.u=I}else g.u=null}function Pl(g,I,k){I instanceof ga?(g.i=I,ya(g.i,g.l)):(k||(I=ha(I,pa)),g.i=new ga(I,g.l))}function Ft(g,I,k){g.i.set(I,k)}function Ko(g){return Ft(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function kt(g,I){return g?I?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ha(g,I,k){return typeof g=="string"?(g=encodeURI(g).replace(I,ur),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ur(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ma=/[#\/\?@]/g,Cl=/[#\?:]/g,As=/[#\?]/g,pa=/[#\?@]/g,tc=/#/g;function ga(g,I){this.h=this.g=null,this.i=g||null,this.j=!!I}function Yr(g){g.g||(g.g=new Map,g.h=0,g.i&&Et(g.i,function(I,k){g.add(decodeURIComponent(I.replace(/\+/g," ")),k)}))}t=ga.prototype,t.add=function(g,I){Yr(this),this.i=null,g=Gn(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(I),this.h+=1,this};function vf(g,I){Yr(g),I=Gn(g,I),g.g.has(I)&&(g.i=null,g.h-=g.g.get(I).length,g.g.delete(I))}function Rt(g,I){return Yr(g),I=Gn(g,I),g.g.has(I)}t.forEach=function(g,I){Yr(this),this.g.forEach(function(k,F){k.forEach(function(he){g.call(I,he,F,this)},this)},this)};function Rl(g,I){Yr(g);let k=[];if(typeof I=="string")Rt(g,I)&&(k=k.concat(g.g.get(Gn(g,I))));else for(g=Array.from(g.g.values()),I=0;I<g.length;I++)k=k.concat(g[I]);return k}t.set=function(g,I){return Yr(this),this.i=null,g=Gn(this,g),Rt(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[I]),this.h+=1,this},t.get=function(g,I){return g?(g=Rl(this,g),g.length>0?String(g[0]):I):I};function kl(g,I,k){vf(g,I),k.length>0&&(g.i=null,g.g.set(Gn(g,I),x(k)),g.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],I=Array.from(this.g.keys());for(let F=0;F<I.length;F++){var k=I[F];const he=Mi(k);k=Rl(this,k);for(let we=0;we<k.length;we++){let Ue=he;k[we]!==""&&(Ue+="="+Mi(k[we])),g.push(Ue)}}return this.i=g.join("&")};function bf(g){const I=new ga;return I.i=g.i,g.g&&(I.g=new Map(g.g),I.h=g.h),I}function Gn(g,I){return I=String(I),g.j&&(I=I.toLowerCase()),I}function ya(g,I){I&&!g.j&&(Yr(g),g.i=null,g.g.forEach(function(k,F){const he=F.toLowerCase();F!=he&&(vf(this,F),kl(this,he,k))},g)),g.j=I}function oi(g,I){const k=new bi;if(l.Image){const F=new Image;F.onload=m(_i,k,"TestLoadImage: loaded",!0,I,F),F.onerror=m(_i,k,"TestLoadImage: error",!1,I,F),F.onabort=m(_i,k,"TestLoadImage: abort",!1,I,F),F.ontimeout=m(_i,k,"TestLoadImage: timeout",!1,I,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=g}else I(!1)}function Ui(g,I){const k=new bi,F=new AbortController,he=setTimeout(()=>{F.abort(),_i(k,"TestPingServer: timeout",!1,I)},1e4);fetch(g,{signal:F.signal}).then(we=>{clearTimeout(he),we.ok?_i(k,"TestPingServer: ok",!0,I):_i(k,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(he),_i(k,"TestPingServer: error",!1,I)})}function _i(g,I,k,F,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),F(k)}catch{}}function bo(){this.g=new Il}function Jt(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Jt,ws),Jt.prototype.g=function(){return new jr(this.i,this.h)};function jr(g,I){Hn.call(this),this.H=g,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(jr,Hn),t=jr.prototype,t.open=function(g,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=I,this.readyState=1,wi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(I.body=g),(this.H||l).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var I=g.value?g.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!g.done}))&&(this.response=this.responseText+=I)}g.done?Bi(this):wi(this),this.readyState==3&&qa(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Bi(this))},t.Na=function(g){this.g&&(this.response=g,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(g){g.readyState=4,g.l=null,g.j=null,g.B=null,wi(g)}t.setRequestHeader=function(g,I){this.A.append(g,I)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],I=this.h.entries();for(var k=I.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=I.next();return g.join(`\r
`)};function wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function tr(g){let I="";return Te(g,function(k,F){I+=F,I+=":",I+=k,I+=`\r
`}),I}function Is(g,I,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=tr(k),typeof g=="string"?k!=null&&Mi(k):Ft(g,I,k))}function Ot(g){Hn.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,Hn);var qi=/^https?$/i,Nl=["POST","PUT"];t=Ot.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,I,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);I=I?I.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():In.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(I,String(g),!0),this.B=!1}catch(we){_o(this,we);return}if(g=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var he in F)k.set(he,F[he]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const we of F.keys())k.set(we,F.get(we));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(we=>we.toLowerCase()=="content-type"),he=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Nl,I,void 0)>=0)||F||he||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ue]of k)this.g.setRequestHeader(we,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(we){_o(this,we)}};function _o(g,I){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=I,g.o=5,wo(g),Fa(g)}function wo(g){g.A||(g.A=!0,Ln(g,"complete"),Ln(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Ln(this,"complete"),Ln(this,"abort"),Fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xo(this):this.Xa())},t.Xa=function(){xo(this)};function xo(g){if(g.h&&typeof o<"u"){if(g.v&&va(g)==4)setTimeout(g.Ca.bind(g),0);else if(Ln(g,"readystatechange"),va(g)==4){g.h=!1;try{const we=g.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var k;if(!(k=I)){var F;if(F=we===0){let Ue=String(g.D).match(ec)[1]||null;!Ue&&l.self&&l.self.location&&(Ue=l.self.location.protocol.slice(0,-1)),F=!qi.test(Ue?Ue.toLowerCase():"")}k=F}if(k)Ln(g,"complete"),Ln(g,"success");else{g.o=6;try{var he=va(g)>2?g.g.statusText:""}catch{he=""}g.l=he+" ["+g.ca()+"]",wo(g)}}finally{Fa(g)}}}}function Fa(g,I){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,I||Ln(g,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function va(g){return g.g?g.g.readyState:0}t.ca=function(){try{return va(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var I=this.g.responseText;return g&&I.indexOf(g)==0&&(I=I.substring(g.length)),_s(I)}};function qn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(g){const I={};g=(g.g&&va(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<g.length;F++){if($(g[F]))continue;var k=Ss(g[F]);const he=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const we=I[he]||[];I[he]=we,we.push(k)}tt(I,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(g,I,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||I}function ba(g){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,g),this.Za=$a("retryDelaySeedMs",1e4,g),this.Ta=$a("forwardChannelMaxRetries",2,g),this.va=$a("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Ba(g&&g.concurrentRequestLimit),this.Ba=new bo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ba.prototype,t.ka=8,t.I=1,t.connect=function(g,I,k,F){Vn(0),this.W=g,this.H=I||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.J=zl(this,null,this.W),Ha(this)};function Ho(g){if(Dl(g),g.I==3){var I=g.V++,k=Un(g.J);if(Ft(k,"SID",g.M),Ft(k,"RID",I),Ft(k,"TYPE","terminate"),So(g,k),I=new ii(g,g.j,I),I.M=2,I.A=Ko(Un(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(I.A.toString(),"")}catch{}!k&&l.Image&&(new Image().src=I.A,k=!0),k||(I.g=nr(I.j,null),I.g.ea(I.A)),I.F=Date.now(),Mr(I)}Vl(g)}function Ka(g){g.g&&(Go(g),g.g.cancel(),g.g=null)}function Dl(g){Ka(g),g.v&&(l.clearTimeout(g.v),g.v=null),jl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Ha(g){if(!Fo(g.h)&&!g.m){g.m=!0;var I=g.Ea;W||L(),X||(W(),X=!0),j.add(I,g),g.D=0}}function Ml(g,I){return Li(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=I.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ua(d(g.Ea,g,I),Ll(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const he=new ii(this,this.j,g);let we=this.o;if(this.U&&(we?(we=ee(we),De(we,this.U)):we=this.U),this.u!==null||this.R||(he.J=we,we=null),this.S)e:{for(var I=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(I+=F,I>4096){I=k;break e}if(I===4096||k===this.i.length-1){I=k+1;break e}}I=1e3}else I=1e3;I=nc(this,he,I),k=Un(this.J),Ft(k,"RID",g),Ft(k,"CVER",22),this.G&&Ft(k,"X-HTTP-Session-Id",this.G),So(this,k),we&&(this.R?I="headers="+Mi(tr(we))+"&"+I:this.u&&Is(k,this.u,we)),da(this.h,he),this.Ra&&Ft(k,"TYPE","init"),this.S?(Ft(k,"$req",I),Ft(k,"SID","null"),he.U=!0,Er(he,k,null)):Er(he,k,I),this.I=2}}else this.I==3&&(g?Os(this,g):this.i.length==0||Fo(this.h)||Os(this))};function Os(g,I){var k;I?k=I.l:k=g.V++;const F=Un(g.J);Ft(F,"SID",g.M),Ft(F,"RID",k),Ft(F,"AID",g.K),So(g,F),g.u&&g.o&&Is(F,g.u,g.o),k=new ii(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),I&&(g.i=I.G.concat(g.i)),I=nc(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),da(g.h,k),Er(k,F,I)}function So(g,I){g.H&&Te(g.H,function(k,F){Ft(I,F,k)}),g.l&&Te({},function(k,F){Ft(I,F,k)})}function nc(g,I,k){k=Math.min(g.i.length,k);const F=g.l?d(g.l.Ka,g.l,g):null;e:{var he=g.i;let wt=-1;for(;;){const Fn=["count="+k];wt==-1?k>0?(wt=he[0].g,Fn.push("ofs="+wt)):wt=0:Fn.push("ofs="+wt);let zt=!0;for(let en=0;en<k;en++){var we=he[en].g;const Ki=he[en].map;if(we-=wt,we<0)wt=Math.max(0,he[en].g-100),zt=!1;else try{we="req"+we+"_"||"";try{var Ue=Ki instanceof Map?Ki:Object.entries(Ki);for(const[Hi,xi]of Ue){let _a=xi;u(xi)&&(_a=Va(xi)),Fn.push(we+Hi+"="+encodeURIComponent(_a))}}catch(Hi){throw Fn.push(we+"type="+encodeURIComponent("_badmap")),Hi}}catch{F&&F(Ki)}}if(zt){Ue=Fn.join("&");break e}}Ue=void 0}return g=g.i.splice(0,k),I.G=g,Ue}function Ps(g){if(!g.g&&!g.v){g.Y=1;var I=g.Da;W||L(),X||(W(),X=!0),j.add(I,g),g.A=0}}function Ga(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ua(d(g.Da,g),Ll(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ua(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vn(10),Ka(this),rc(this))};function Go(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function rc(g){g.g=new ii(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var I=Un(g.na);Ft(I,"RID","rpc"),Ft(I,"SID",g.M),Ft(I,"AID",g.K),Ft(I,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ft(I,"TO",g.ia),Ft(I,"TYPE","xmlhttp"),So(g,I),g.u&&g.o&&Is(I,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=Ko(Un(I)),k.u=null,k.R=!0,vo(k,g)}t.Va=function(){this.C!=null&&(this.C=null,Ka(this),Ga(this),Vn(19))};function jl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function To(g,I){var k=null;if(g.g==I){jl(g),Go(g),g.g=null;var F=2}else if(Vi(g.h,I))k=I.G,Ol(g.h,I),F=1;else return;if(g.I!=0){if(I.o)if(F==1){k=I.u?I.u.length:0,I=Date.now()-I.F;var he=g.D;F=ki(),Ln(F,new Ni(F,k)),Ha(g)}else Ps(g);else if(he=I.m,he==3||he==0&&I.X>0||!(F==1&&Ml(g,I)||F==2&&Ga(g)))switch(k&&k.length>0&&(I=g.h,I.i=I.i.concat(k)),he){case 1:Fi(g,5);break;case 4:Fi(g,10);break;case 3:Fi(g,6);break;default:Fi(g,2)}}}function Ll(g,I){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*I}function Fi(g,I){if(g.j.info("Error code "+I),I==2){var k=d(g.bb,g),F=g.Ua;const he=!F;F=new ai(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bn(F,"https"),Ko(F),he?oi(F.toString(),k):Ui(F.toString(),k)}else Vn(2);g.I=0,g.l&&g.l.pa(I),Vl(g),Dl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Vn(2)):(this.j.info("Failed to ping google.com"),Vn(1))};function Vl(g){if(g.I=0,g.ja=[],g.l){const I=$o(g.h);(I.length!=0||g.i.length!=0)&&(T(g.ja,I),T(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function zl(g,I,k){var F=k instanceof ai?Un(k):new ai(k);if(F.g!="")I&&(F.g=I+"."+F.g),zi(F,F.u);else{var he=l.location;F=he.protocol,I=I?I+"."+he.hostname:he.hostname,he=+he.port;const we=new ai(null);F&&Bn(we,F),I&&(we.g=I),he&&zi(we,he),k&&(we.h=k),F=we}return k=g.G,I=g.wa,k&&I&&Ft(F,k,I),Ft(F,"VER",g.ka),So(g,F),F}function nr(g,I,k){if(I&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=g.Aa&&!g.ma?new Ot(new Jt({ab:k})):new Ot(g.ma),I.Fa(g.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}t=Wo.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $i(){}$i.prototype.g=function(g,I){return new Lr(g,I)};function Lr(g,I){Hn.call(this),this.g=new ba(I),this.l=g,this.h=I&&I.messageUrlParams||null,g=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(g?g["X-WebChannel-Content-Type"]=I.messageContentType:g={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(g?g["X-WebChannel-Client-Profile"]=I.sa:g={"X-WebChannel-Client-Profile":I.sa}),this.g.U=g,(g=I&&I.Qb)&&!$(g)&&(this.g.u=g),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!$(I)&&(this.g.G=I,g=this.h,g!==null&&I in g&&(g=this.h,I in g&&delete g[I])),this.j=new Wa(this)}p(Lr,Hn),Lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Ho(this.g)},Lr.prototype.o=function(g){var I=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=Va(g),g=k);I.i.push(new zn(I.Ya++,g)),I.I==3&&Ha(I)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,Lr.Z.N.call(this)};function Cs(g){Zn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var I=g.__sm__;if(I){e:{for(const k in I){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,I=I!==null&&g in I?I[g]:void 0),this.data=I}else this.data=g}p(Cs,Zn);function ic(){Jn.call(this),this.status=1}p(ic,Jn);function Wa(g){this.g=g}p(Wa,Wo),Wa.prototype.ra=function(){Ln(this.g,"a")},Wa.prototype.qa=function(g){Ln(this.g,new Cs(g))},Wa.prototype.pa=function(g){Ln(this.g,new ic)},Wa.prototype.oa=function(){Ln(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,t4=function(){return new $i},e4=function(){return ki()},JL=Ge,a1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,qy=Ua,Xt.COMPLETE="complete",ZL=Xt,za.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Hn.prototype.listen=Hn.prototype.J,Em=za,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,XL=Ot}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});const MR="@firebase/firestore",jR="4.9.2";class fi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let th="12.3.0";const Gc=new WS("@firebase/firestore");function id(){return Gc.logLevel}function Me(t,...e){if(Gc.logLevel<=Lt.DEBUG){const n=e.map(XS);Gc.debug(`Firestore (${th}): ${t}`,...n)}}function or(t,...e){if(Gc.logLevel<=Lt.ERROR){const n=e.map(XS);Gc.error(`Firestore (${th}): ${t}`,...n)}}function $m(t,...e){if(Gc.logLevel<=Lt.WARN){const n=e.map(XS);Gc.warn(`Firestore (${th}): ${t}`,...n)}}function XS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,n4(t,r,n)}function n4(t,e,n){let r=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw or(r),new Error(r)}function lt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||n4(e,i,r)}function ot(t,e){return t}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends vl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ru{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Q7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fi.UNAUTHENTICATED)))}shutdown(){}}class Z7{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ru;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ru,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ru)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new Q7(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new fi(e)}}class J7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new J7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Po(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ZS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function o1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return tx(i)===tx(o)?_t(i,o):tx(i)?1:-1}return _t(t.length,e.length)}const rK=55296,iK=57343;function tx(t){const e=t.charCodeAt(0);return e>=rK&&e<=iK}function wd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function r4(t){return t+"\0"}const VR="__name__";class ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ns.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return _t(e.length,n.length)}static compareSegments(e,n){const r=ns.isNumericId(e),i=ns.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ns.extractNumericId(e).compare(ns.extractNumericId(n)):o1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cu.fromString(e.substring(4,e.length-2))}}class Yt extends ns{construct(e,n,r){return new Yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Yt(n)}static emptyPath(){return new Yt([])}}const aK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends ns{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return aK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VR}static keyField(){return new $n([VR])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ke(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ke(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ke(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(Yt.fromString(e))}static fromName(e){return new We(Yt.fromString(e).popFirst(5))}static empty(){return new We(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Yt(e.slice()))}}function i4(t,e,n){if(!n)throw new Ke(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oK(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zR(t){if(!We.isDocumentKey(t))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UR(t){if(We.isDocumentKey(t))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function a4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function V0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function Lc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=V0(t);throw new Ke(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function vr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Op(t,e){if(!a4(t))throw new Ke(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ke(Ce.INVALID_ARGUMENT,n);return!0}const BR=-62135596800,qR=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qR);return new on(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BR)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qR}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:on._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Op(e,on._jsonSchema))return new on(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}on._jsonSchemaVersion="firestore/timestamp/1.0",on._jsonSchema={type:vr("string",on._jsonSchemaVersion),seconds:vr("number"),nanoseconds:vr("number")};class ht{static fromTimestamp(e){return new ht(e)}static min(){return new ht(new on(0,0))}static max(){return new ht(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xd=-1;class hv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function s1(t){return t.fields.find((e=>e.kind===2))}function Ec(t){return t.fields.filter((e=>e.kind!==2))}hv.UNKNOWN_ID=-1;class Fy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Km{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Km(0,ja.min())}}function o4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new ja(i,We.empty(),e)}function s4(t){return new ja(t.readTime,t.key,xd)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(ht.min(),We.empty(),xd)}static max(){return new ja(ht.max(),We.empty(),xd)}}function JS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fu(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==l4)throw t;Me("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((i=>i?me.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((m=>{l[d]=m,++u,u===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new me(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}const Ia="SimpleDb";class z0{static open(e,n,r,i){try{return new z0(n,e.transaction(i,r))}catch(o){throw new Rm(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ru,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Rm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=eT(r.target.error);this.S.reject(new Rm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Me(Ia,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new lK(n)}}class ku{static delete(e){return Me(Ia,"Removing database:",e),Pc(LL().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!$L())return!1;if(ku.F())return!0;const e=Or(),n=ku.M(e),r=0<n&&n<10,i=c4(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ku.M(Or())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Me(Ia,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;n(l)},i.onblocked=()=>{r(new Rm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new Ke(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ke(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Rm(e,l))},i.onupgradeneeded=o=>{Me(Ia,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,i.transaction,o.oldVersion,this.version).next((()=>{Me(Ia,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=z0.open(this.db,e,o?"readonly":"readwrite",r),f=i(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),me.reject(d)))).toPromise();return f.catch((()=>{})),await u.D,f}catch(u){const f=u,d=f.name!=="FirebaseError"&&l<3;if(Me(Ia,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function c4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class sK{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Pc(this.U.delete())}}class Rm extends Ke{constructor(e,n){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function $u(t){return t.name==="IndexedDbTransactionError"}class lK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Me(Ia,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Me(Ia,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pc(r)}add(e){return Me(Ia,"ADD",this.store.name,e,e),Pc(this.store.add(e))}get(e){return Pc(this.store.get(e)).next((n=>(n===void 0&&(n=null),Me(Ia,"GET",this.store.name,e,n),n)))}delete(e){return Me(Ia,"DELETE",this.store.name,e),Pc(this.store.delete(e))}count(){return Me(Ia,"COUNT",this.store.name),Pc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new me(((l,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{l(f.target.result)}}))}{const o=this.cursor(r),l=[];return this.H(o,((u,f)=>{l.push(f)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new me(((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){Me(Ia,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,l,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new me(((r,i)=>{n.onerror=o=>{const l=eT(o.target.error);i(l)},n.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,n){const r=[];return new me(((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const f=new sK(u),d=n(u.primaryKey,u.value,f);if(d instanceof me){const m=d.catch((p=>(f.done(),me.reject(p))));r.push(m)}f.isDone?i():f.G===null?u.continue():u.continue(f.G)}})).next((()=>me.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pc(t){return new me(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=eT(r.target.error);n(i)}}))}let FR=!1;function eT(t){const e=ku.M(Or());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FR||(FR=!0,setTimeout((()=>{throw r}),0)),r}}return t}const km="IndexBackfiller";class uK{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Me(km,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Me(km,`Documents written: ${n}`)}catch(n){$u(n)?Me(km,"Ignoring IndexedDB error during index backfill: ",n):await Fu(n)}await this.re(6e4)}))}}class cK{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return me.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return Me(km,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,o))).next((u=>(Me(km,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const l=s4(o);JS(l,r)>0&&(r=l)})),new ja(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class ea{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ea.ce=-1;const Vc=-1;function U0(t){return t==null}function Hm(t){return t===0&&1/t==-1/0}function f4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const mv="";function yi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$R(e)),e=fK(t.get(n),e);return $R(e)}function fK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case mv:n+="";break;default:n+=o}}return n}function $R(t){return t+mv+""}function as(t){const e=t.length;if(lt(e>=2,64408,{path:t}),e===2)return lt(t.charAt(0)===mv&&t.charAt(1)==="",56145,{path:t}),Yt.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const l=t.indexOf(mv,o);switch((l<0||l>n)&&Ze(50515,{path:t}),t.charAt(l+1)){case"":const u=t.substring(o,l);let f;i.length===0?f=u:(i+=u,f=i,i=""),r.push(f);break;case"":i+=t.substring(o,l),i+="\0";break;case"":i+=t.substring(o,l+1);break;default:Ze(61167,{path:t})}o=l+2}return new Yt(r)}const Sc="remoteDocuments",Pp="owner",Gf="owner",Gm="mutationQueues",dK="userId",Oo="mutations",KR="batchId",Nc="userMutationsIndex",HR=["userId","batchId"];function $y(t,e){return[t,yi(e)]}function d4(t,e,n){return[t,yi(e),n]}const hK={},Ed="documentMutations",pv="remoteDocumentsV14",mK=["prefixPath","collectionGroup","readTime","documentId"],Ky="documentKeyIndex",pK=["prefixPath","collectionGroup","documentId"],h4="collectionGroupIndex",gK=["collectionGroup","readTime","prefixPath","documentId"],Wm="remoteDocumentGlobal",l1="remoteDocumentGlobalKey",Sd="targets",m4="queryTargetsIndex",yK=["canonicalId","targetId"],Td="targetDocuments",vK=["targetId","path"],tT="documentTargetsIndex",bK=["path","targetId"],gv="targetGlobalKey",zc="targetGlobal",Ym="collectionParents",_K=["collectionId","parent"],Ad="clientMetadata",wK="clientId",B0="bundles",xK="bundleId",q0="namedQueries",EK="name",nT="indexConfiguration",SK="indexId",u1="collectionGroupIndex",TK="collectionGroup",Nm="indexState",AK=["indexId","uid"],p4="sequenceNumberIndex",IK=["uid","sequenceNumber"],Dm="indexEntries",OK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g4="documentKeyIndex",PK=["indexId","uid","orderedDocumentKey"],F0="documentOverlays",CK=["userId","collectionPath","documentId"],c1="collectionPathOverlayIndex",RK=["userId","collectionPath","largestBatchId"],y4="collectionGroupOverlayIndex",kK=["userId","collectionGroup","largestBatchId"],rT="globals",NK="name",v4=[Gm,Oo,Ed,Sc,Sd,Pp,zc,Td,Ad,Wm,Ym,B0,q0],DK=[...v4,F0],b4=[Gm,Oo,Ed,pv,Sd,Pp,zc,Td,Ad,Wm,Ym,B0,q0,F0],_4=b4,iT=[..._4,nT,Nm,Dm],MK=iT,w4=[...iT,rT],jK=w4;class f1 extends u4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Pr(t,e){const n=ot(t);return ku.O(n.le,e)}function GR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ku(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _n{constructor(e,n){this.comparator=e,this.root=n||ti.EMPTY}insert(e,n){return new _n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new _n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ti.RED,this.left=i??ti.EMPTY,this.right=o??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ti(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1;ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WR(this.data.getIterator())}getIteratorFrom(e){return new WR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class WR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wf(t){return t.hasNext()?t.getNext():void 0}class ta{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new ta([])}unionWith(e){let n=new ln($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ta(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class E4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new E4("Invalid base64 string: "+o):o}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const LK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=LK.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}const S4="server_timestamp",T4="__type__",A4="__previous_value__",I4="__local_write_time__";function aT(t){return(t?.mapValue?.fields||{})[T4]?.stringValue===S4}function $0(t){const e=t.mapValue.fields[A4];return aT(e)?$0(e):e}function Qm(t){const e=ll(t.mapValue.fields[I4].timestampValue);return new on(e.seconds,e.nanos)}class VK{constructor(e,n,r,i,o,l,u,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const yv="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||yv}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===yv}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}const oT="__type__",O4="__max__",Au={mapValue:{fields:{__type__:{stringValue:O4}}}},sT="__vector__",Id="value",Hy={nullValue:"NULL_VALUE"};function ju(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aT(t)?4:P4(t)?9007199254740991:K0(t)?10:11:Ze(28295,{value:t})}function ms(t,e){if(t===e)return!0;const n=ju(t);if(n!==ju(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qm(t).isEqual(Qm(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ll(i.timestampValue),u=ll(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ul(i.bytesValue).isEqual(ul(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Rn(i.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Rn(i.integerValue)===Rn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Rn(i.doubleValue),u=Rn(o.doubleValue);return l===u?Hm(l)===Hm(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return wd(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(GR(l)!==GR(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ms(l[f],u[f])))return!1;return!0})(t,e);default:return Ze(52216,{left:t})}}function Xm(t,e){return(t.values||[]).find((n=>ms(n,e)))!==void 0}function Lu(t,e){if(t===e)return 0;const n=ju(t),r=ju(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Rn(o.integerValue||o.doubleValue),f=Rn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return YR(t.timestampValue,e.timestampValue);case 4:return YR(Qm(t),Qm(e));case 5:return o1(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ul(o),f=ul(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=_t(u[d],f[d]);if(m!==0)return m}return _t(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=_t(Rn(o.latitude),Rn(l.latitude));return u!==0?u:_t(Rn(o.longitude),Rn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return QR(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Id]?.arrayValue,m=f[Id]?.arrayValue,p=_t(d?.values?.length||0,m?.values?.length||0);return p!==0?p:QR(d,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Au.mapValue&&l===Au.mapValue)return 0;if(o===Au.mapValue)return 1;if(l===Au.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const b=o1(f[p],m[p]);if(b!==0)return b;const x=Lu(u[f[p]],d[m[p]]);if(x!==0)return x}return _t(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function YR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=ll(t),r=ll(e),i=_t(n.seconds,r.seconds);return i!==0?i:_t(n.nanos,r.nanos)}function QR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Lu(n[i],r[i]);if(o)return o}return _t(n.length,r.length)}function Od(t){return d1(t)}function d1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ul(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return We.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=d1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${d1(n.fields[l])}`;return i+"}"})(t.mapValue):Ze(61005,{value:t})}function Gy(t){switch(ju(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$0(t);return e?16+Gy(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Gy(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ku(r.fields,((o,l)=>{i+=o.length+Gy(l)})),i})(t.mapValue);default:throw Ze(13486,{value:t})}}function Zm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h1(t){return!!t&&"integerValue"in t}function Jm(t){return!!t&&"arrayValue"in t}function XR(t){return!!t&&"nullValue"in t}function ZR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wy(t){return!!t&&"mapValue"in t}function K0(t){return(t?.mapValue?.fields||{})[oT]?.stringValue===sT}function Mm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ku(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mm(t.arrayValue.values[n]);return e}return{...t}}function P4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O4}const C4={mapValue:{fields:{[oT]:{stringValue:sT},[Id]:{arrayValue:{}}}}};function zK(t){return"nullValue"in t?Hy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zm(Wc.empty(),We.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?K0(t)?C4:{mapValue:{}}:Ze(35942,{value:t})}function UK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zm(Wc.empty(),We.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?C4:"mapValue"in t?K0(t)?{mapValue:{}}:Au:Ze(61959,{value:t})}function JR(t,e){const n=Lu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ek(t,e){const n=Lu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mm(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Mm(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ku(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new mi(Mm(this.value))}}function R4(t){const e=[];return Ku(t.fields,((n,r)=>{const i=new $n([n]);if(Wy(r)){const o=R4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new ta(e)}class Xn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Xn(e,0,ht.min(),ht.min(),ht.min(),mi.empty(),0)}static newFoundDocument(e,n,r,i){return new Xn(e,1,n,ht.min(),r,i,0)}static newNoDocument(e,n){return new Xn(e,2,n,ht.min(),ht.min(),mi.empty(),0)}static newUnknownDocument(e,n){return new Xn(e,3,n,ht.min(),ht.min(),mi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function tk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=We.comparator(We.fromName(l.referenceValue),n.key):r=Lu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}class vv{constructor(e,n="asc"){this.field=e,this.dir=n}}function BK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class k4{}class Vt extends k4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qK(e,n,r):n==="array-contains"?new KK(e,r):n==="in"?new V4(e,r):n==="not-in"?new HK(e,r):n==="array-contains-any"?new GK(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FK(e,r):new $K(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lu(n,this.value)):n!==null&&ju(this.value)===ju(n)&&this.matchesComparison(Lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends k4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sn(e,n)}matches(e){return Cd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cd(t){return t.op==="and"}function m1(t){return t.op==="or"}function lT(t){return N4(t)&&Cd(t)}function N4(t){for(const e of t.filters)if(e instanceof sn)return!1;return!0}function p1(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Od(t.value);if(lT(t))return t.filters.map((e=>p1(e))).join(",");{const e=t.filters.map((n=>p1(n))).join(",");return`${t.op}(${e})`}}function D4(t,e){return t instanceof Vt?(function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&ms(r.value,i.value)})(t,e):t instanceof sn?(function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&D4(l,i.filters[u])),!0):!1})(t,e):void Ze(19439)}function M4(t,e){const n=t.filters.concat(e);return sn.create(n,t.op)}function j4(t){return t instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Od(n.value)}`})(t):t instanceof sn?(function(n){return n.op.toString()+" {"+n.getFilters().map(j4).join(" ,")+"}"})(t):"Filter"}class qK extends Vt{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class FK extends Vt{constructor(e,n){super(e,"in",n),this.keys=L4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $K extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=L4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function L4(t,e){return(e.arrayValue?.values||[]).map((n=>We.fromName(n.referenceValue)))}class KK extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Xm(n.arrayValue,this.value)}}class V4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xm(this.value.arrayValue,n)}}class HK extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xm(this.value.arrayValue,n)}}class GK extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xm(this.value.arrayValue,r)))}}class WK{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function g1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new WK(t,e,n,r,i,o,l)}function Yc(t){const e=ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>p1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),U0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Od(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Od(r))).join(",")),e.Te=n}return e.Te}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nk(t.startAt,e.startAt)&&nk(t.endAt,e.endAt)}function bv(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _v(t,e){return t.filters.filter((n=>n instanceof Vt&&n.field.isEqual(e)))}function rk(t,e,n){let r=Hy,i=!0;for(const o of _v(t,e)){let l=Hy,u=!0;switch(o.op){case"<":case"<=":l=zK(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=Hy}JR({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];JR({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function ik(t,e,n){let r=Au,i=!0;for(const o of _v(t,e)){let l=Au,u=!0;switch(o.op){case">=":case">":l=UK(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=Au}ek({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];ek({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class Rp{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z4(t,e,n,r,i,o,l,u){return new Rp(t,e,n,r,i,o,l,u)}function H0(t){return new Rp(t)}function ak(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U4(t){return t.collectionGroup!==null}function jm(t){const e=ot(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ln($n.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new vv(o,r))})),n.has($n.keyField().canonicalString())||e.Ie.push(new vv($n.keyField(),r))}return e.Ie}function ka(t){const e=ot(t);return e.Ee||(e.Ee=YK(e,jm(t))),e.Ee}function YK(t,e){if(t.limitType==="F")return g1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new vv(i.field,o)}));const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return g1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y1(t,e){const n=t.filters.concat([e]);return new Rp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v1(t,e,n){return new Rp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function G0(t,e){return Cp(ka(t),ka(e))&&t.limitType===e.limitType}function B4(t){return`${Yc(ka(t))}|lt:${t.limitType}`}function ad(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>j4(i))).join(", ")}]`),U0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Od(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Od(i))).join(",")),`Target(${r})`})(ka(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):We.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of jm(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=tk(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,jm(r),i)||r.endAt&&!(function(l,u,f){const d=tk(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,jm(r),i))})(t,e)}function q4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F4(t){return(e,n)=>{let r=!1;for(const i of jm(t)){const o=QK(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function QK(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Lu(f,d):Ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}class bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ku(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return x4(this.inner)}size(){return this.innerSize}}const XK=new _n(We.comparator);function Ca(){return XK}const $4=new _n(We.comparator);function Sm(...t){let e=$4;for(const n of t)e=e.insert(n.key,n);return e}function K4(t){let e=$4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function os(){return Lm()}function H4(){return Lm()}function Lm(){return new bl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ZK=new _n(We.comparator),JK=new ln(We.comparator);function Ct(...t){let e=JK;for(const n of t)e=e.add(n);return e}const eH=new ln(_t);function uT(){return eH}function cT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(e)?"-0":e}}function G4(t){return{integerValue:""+t}}function tH(t,e){return f4(e)?G4(e):cT(t,e)}class W0{constructor(){this._=void 0}}function nH(t,e,n){return t instanceof ep?(function(i,o){const l={fields:{[T4]:{stringValue:S4},[I4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&aT(o)&&(o=$0(o)),o&&(l.fields[A4]=o),{mapValue:l}})(n,e):t instanceof Rd?Y4(t,e):t instanceof kd?Q4(t,e):(function(i,o){const l=W4(i,o),u=ok(l)+ok(i.Ae);return h1(l)&&h1(i.Ae)?G4(u):cT(i.serializer,u)})(t,e)}function rH(t,e,n){return t instanceof Rd?Y4(t,e):t instanceof kd?Q4(t,e):n}function W4(t,e){return t instanceof tp?(function(r){return h1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ep extends W0{}class Rd extends W0{constructor(e){super(),this.elements=e}}function Y4(t,e){const n=X4(e);for(const r of t.elements)n.some((i=>ms(i,r)))||n.push(r);return{arrayValue:{values:n}}}class kd extends W0{constructor(e){super(),this.elements=e}}function Q4(t,e){let n=X4(e);for(const r of t.elements)n=n.filter((i=>!ms(i,r)));return{arrayValue:{values:n}}}class tp extends W0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ok(t){return Rn(t.integerValue||t.doubleValue)}function X4(t){return Jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class iH{constructor(e,n){this.field=e,this.transform=n}}function aH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Rd&&i instanceof Rd||r instanceof kd&&i instanceof kd?wd(r.elements,i.elements,ms):r instanceof tp&&i instanceof tp?ms(r.Ae,i.Ae):r instanceof ep&&i instanceof ep})(t.transform,e.transform)}class oH{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Y0{}function Z4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q0(t.key,Ii.none()):new nh(t.key,t.data,Ii.none());{const n=t.data,r=mi.empty();let i=new ln($n.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new _l(t.key,r,new ta(i.toArray()),Ii.none())}}function sH(t,e,n){t instanceof nh?(function(i,o,l){const u=i.value.clone(),f=lk(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof _l?(function(i,o,l){if(!Yy(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=lk(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(J4(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Vm(t,e,n,r){return t instanceof nh?(function(o,l,u,f){if(!Yy(o.precondition,l))return u;const d=o.value.clone(),m=uk(o.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof _l?(function(o,l,u,f){if(!Yy(o.precondition,l))return u;const d=uk(o.fieldTransforms,f,l),m=l.data;return m.setAll(J4(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,l,u){return Yy(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function lH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=W4(r.transform,i||null);o!=null&&(n===null&&(n=mi.empty()),n.set(r.field,o))}return n||null}function sk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wd(r,i,((o,l)=>aH(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nh extends Y0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends Y0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function lk(t,e,n){const r=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,rH(l,u,n[i]))}return r}function uk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,nH(o,l,e))}return r}class Q0 extends Y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eV extends Y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H4();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const f=Z4(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ht.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&wd(this.mutations,e.mutations,((n,r)=>sk(n,r)))&&wd(this.baseMutations,e.baseMutations,((n,r)=>sk(n,r)))}}class dT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return ZK})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new dT(e,n,r,i)}}class hT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uH{constructor(e,n){this.count=e,this.unchangedNames=n}}var gr,qt;function cH(t){switch(t){case Ce.OK:return Ze(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function tV(t){if(t===void 0)return or("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case gr.OK:return Ce.OK;case gr.CANCELLED:return Ce.CANCELLED;case gr.UNKNOWN:return Ce.UNKNOWN;case gr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case gr.INTERNAL:return Ce.INTERNAL;case gr.UNAVAILABLE:return Ce.UNAVAILABLE;case gr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case gr.NOT_FOUND:return Ce.NOT_FOUND;case gr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case gr.ABORTED:return Ce.ABORTED;case gr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case gr.DATA_LOSS:return Ce.DATA_LOSS;default:return Ze(39323,{code:t})}}(qt=gr||(gr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function fH(){return new TextEncoder}const dH=new Cu([4294967295,4294967295],0);function ck(t){const e=fH().encode(t),n=new QL;return n.update(e),new Uint8Array(n.digest())}function fk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cu([n,r],0),new Cu([i,o],0)]}class mT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tm(`Invalid padding: ${n}`);if(r<0)throw new Tm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Cu.fromNumber(r)));return i.compare(dH)===1&&(i=new Cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ck(e),[r,i]=fk(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new mT(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=ck(e),[r,i]=fk(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Np{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(ht.min(),i,new _n(_t),Ca(),Ct())}}class Dp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dp(r,n,Ct(),Ct(),Ct())}}class Qy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class nV{constructor(e,n){this.targetId=e,this.Ce=n}}class rV{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dk{constructor(){this.ve=0,this.Fe=hk(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),n=Ct(),r=Ct();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze(38017,{changeType:o})}})),new Dp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=hk()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.Je=gy(),this.He=gy(),this.Ye=new _n(_t)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(bv(o))if(r===0){const l=new We(o.path);this.et(n,l,Xn.newNoDocument(l,ht.min()))}else lt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=ul(r).toUint8Array()}catch(f){if(f instanceof E4)return $m("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new mT(l,i,o)}catch(f){return $m(f instanceof Tm?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&bv(u.target)){const f=new We(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Xn.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=Ct();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Np(e,n,this.Ye,this.je,r);return this.je=Ca(),this.Je=gy(),this.He=gy(),this.Ye=new _n(_t),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(_t),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(_t),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gy(){return new _n(We.comparator)}function hk(){return new _n(We.comparator)}const mH={asc:"ASCENDING",desc:"DESCENDING"},pH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gH={and:"AND",or:"OR"};class yH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b1(t,e){return t.useProto3Json||U0(e)?e:{value:e}}function Nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vH(t,e){return Nd(t,e.toTimestamp())}function Pi(t){return lt(!!t,49232),ht.fromTimestamp((function(n){const r=ll(n);return new on(r.seconds,r.nanos)})(t))}function pT(t,e){return _1(t,e).canonicalString()}function _1(t,e){const n=(function(i){return new Yt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aV(t){const e=Yt.fromString(t);return lt(mV(e),10190,{key:e.toString()}),e}function wv(t,e){return pT(t.databaseId,e.path)}function Uc(t,e){const n=aV(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(lV(n))}function oV(t,e){return pT(t.databaseId,e)}function sV(t){const e=aV(t);return e.length===4?Yt.emptyPath():lV(e)}function w1(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lV(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mk(t,e,n){return{name:wv(t,e),fields:n.value.mapValue.fields}}function bH(t,e,n){const r=Uc(t,e.name),i=Pi(e.updateTime),o=e.createTime?Pi(e.createTime):ht.min(),l=new mi({mapValue:{fields:e.fields}}),u=Xn.newFoundDocument(r,i,o,l);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function _H(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ze(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(lt(m===void 0||typeof m=="string",58123),sr.fromBase64String(m||"")):(lt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),sr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const m=d.code===void 0?Ce.UNKNOWN:tV(d.code);return new Ke(m,d.message||"")})(l);n=new rV(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uc(t,r.document.name),o=Pi(r.document.updateTime),l=r.document.createTime?Pi(r.document.createTime):ht.min(),u=new mi({mapValue:{fields:r.document.fields}}),f=Xn.newFoundDocument(i,o,l,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Qy(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uc(t,r.document),o=r.readTime?Pi(r.readTime):ht.min(),l=Xn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Qy([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uc(t,r.document),o=r.removedTargetIds||[];n=new Qy([],o,i,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new uH(i,o),u=r.targetId;n=new nV(u,l)}}return n}function xv(t,e){let n;if(e instanceof nh)n={update:mk(t,e.key,e.value)};else if(e instanceof Q0)n={delete:wv(t,e.key)};else if(e instanceof _l)n={update:mk(t,e.key,e.data),updateMask:AH(e.fieldMask)};else{if(!(e instanceof eV))return Ze(16599,{Vt:e.type});n={verify:wv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof ep)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof tp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ze(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:vH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)})(t,e.precondition)),n}function x1(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Ii.updateTime(Pi(o.updateTime)):o.exists!==void 0?Ii.exists(o.exists):Ii.none()})(e.currentDocument):Ii.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let f=null;if("setToServerValue"in u)lt(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),f=new ep;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];f=new Rd(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];f=new kd(m)}else"increment"in u?f=new tp(l,u.increment):Ze(16584,{proto:u});const d=$n.fromServerFormat(u.fieldPath);return new iH(d,f)})(t,i))):[];if(e.update){e.update.name;const i=Uc(t,e.update.name),o=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(f){const d=f.fieldPaths||[];return new ta(d.map((m=>$n.fromServerFormat(m))))})(e.updateMask);return new _l(i,o,l,n,r)}return new nh(i,o,n,r)}if(e.delete){const i=Uc(t,e.delete);return new Q0(i,n)}if(e.verify){const i=Uc(t,e.verify);return new eV(i,n)}return Ze(1463,{proto:e})}function wH(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Pi(i.updateTime):Pi(o);return l.isEqual(ht.min())&&(l=Pi(o)),new oH(l,i.transformResults||[])})(n,e)))):[]}function uV(t,e){return{documents:[oV(t,e.path)]}}function cV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oV(t,i);const o=(function(d){if(d.length!==0)return hV(sn.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:od(b.field),direction:EH(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=b1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function fV(t){let e=sV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(p){const b=dV(p);return b instanceof sn&&lT(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(T){return new vv(sd(T.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let b;return b=typeof p=="object"?p.value:p,U0(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(p){const b=!!p.before,x=p.values||[];return new Pd(x,b)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const b=!p.before,x=p.values||[];return new Pd(x,b)})(n.endAt)),z4(e,i,l,o,u,"F",f,d)}function xH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sd(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sd(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sd(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sd(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vt.create(sd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sn.create(n.compositeFilter.filters.map((r=>dV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(t):Ze(30097,{filter:t})}function EH(t){return mH[t]}function SH(t){return pH[t]}function TH(t){return gH[t]}function od(t){return{fieldPath:t.canonicalString()}}function sd(t){return $n.fromServerFormat(t.fieldPath)}function hV(t){return t instanceof Vt?(function(n){if(n.op==="=="){if(ZR(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NAN"}};if(XR(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZR(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NAN"}};if(XR(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(n.field),op:SH(n.op),value:n.value}}})(t):t instanceof sn?(function(n){const r=n.getFilters().map((i=>hV(i)));return r.length===1?r[0]:{compositeFilter:{op:TH(n.op),filters:r}}})(t):Ze(54877,{filter:t})}function AH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Zs{constructor(e,n,r,i,o=ht.min(),l=ht.min(),u=sr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pV{constructor(e){this.yt=e}}function IH(t,e){let n;if(e.document)n=bH(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=Xc(e.noDocument.readTime);n=Xn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ze(56709);{const r=We.fromSegments(e.unknownDocument.path),i=Xc(e.unknownDocument.version);n=Xn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new on(i[0],i[1]);return ht.fromTimestamp(o)})(e.readTime)),n}function pk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ev(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,l){return{name:wv(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Nd(o,l.version.toTimestamp()),createTime:Nd(o,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qc(e.version)};else{if(!e.isUnknownDocument())return Ze(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Qc(e.version)}}return r}function Ev(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Qc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xc(t){const e=new on(t.seconds,t.nanoseconds);return ht.fromTimestamp(e)}function Cc(t,e){const n=(e.baseMutations||[]).map((o=>x1(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>x1(t.yt,o))),i=on.fromMillis(e.localWriteTimeMs);return new fT(e.batchId,i,n,r)}function Am(t){const e=Xc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Xc(t.lastLimboFreeSnapshotVersion):ht.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const l=o.documents.length;return lt(l===1,1966,{count:l}),ka(H0(sV(o.documents[0])))})(t.query):(function(o){return ka(fV(o))})(t.query),new Zs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,sr.fromBase64String(t.resumeToken))}function gV(t,e){const n=Qc(e.snapshotVersion),r=Qc(e.lastLimboFreeSnapshotVersion);let i;i=bv(e.target)?uV(t.yt,e.target):cV(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yc(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yV(t){const e=fV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v1(e,e.limit,"L"):e}function nx(t,e){return new hT(e.largestBatchId,x1(t.yt,e.overlayMutation))}function gk(t,e){const n=e.path.lastSegment();return[t,yi(e.path.popLast()),n]}function yk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Qc(r.readTime),documentKey:yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class OH{getBundleMetadata(e,n){return vk(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Xc(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return vk(e).put((function(i){return{bundleId:i.id,createTime:Qc(Pi(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return bk(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:yV(o.bundledQuery),readTime:Xc(o.readTime)}})(r)}))}saveNamedQuery(e,n){return bk(e).put((function(i){return{name:i.name,readTime:Qc(Pi(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function vk(t){return Pr(t,B0)}function bk(t){return Pr(t,q0)}class X0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new X0(e,r)}getOverlay(e,n){return om(e).get(gk(this.userId,n)).next((r=>r?nx(this.serializer,r):null))}getOverlays(e,n){const r=os();return me.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,l)=>{const u=new hT(n,l);i.push(this.St(e,u))})),me.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(yi(l.getCollectionPath()))));const o=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(om(e).Z(c1,u))})),me.waitFor(o)}getOverlaysForCollection(e,n,r){const i=os(),o=yi(n),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return om(e).J(c1,l).next((u=>{for(const f of u){const d=nx(this.serializer,f);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=os();let l;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return om(e).ee({index:y4,range:u},((f,d,m)=>{const p=nx(this.serializer,d);o.size()<i||p.largestBatchId===l?(o.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>o))}St(e,n){return om(e).put((function(i,o,l){const[u,f,d]=gk(o,l.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:xv(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function om(t){return Pr(t,F0)}class PH{bt(e){return Pr(e,rT)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?sr.fromUint8Array(r):sr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Rc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Rn(e.integerValue));else if("doubleValue"in e){const r=Rn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Hm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ll(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ul(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?P4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):K0(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ze(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Id,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Rn(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),We.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Rc.Kt=new Rc;const Yf=255;function CH(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function _k(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const l=CH(255&r[o]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class RH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=_k(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=_k(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Yf),this.sn(255)}_n(){this.an(Yf),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Yf?(this.sn(Yf),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Yf?(this.an(Yf),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kH{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class NH{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class sm{constructor(){this.cn=new RH,this.ln=new kH(this.cn),this.hn=new NH(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class kc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new kc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Xy(this.En),directionalValue:Xy(this.dn),orderedDocumentKey:Xy(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function du(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=wk(t.En,e.En),n!==0?n:(n=wk(t.dn,e.dn),n!==0?n:We.comparator(t.In,e.In)))}function wk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Xy(t){return FL()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function xk(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class Ek{constructor(e){this.mn=new ln(((n,r)=>$n.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(lt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=s1(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ec(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const f=r[o];if(!this.Sn(u,f)||!this.bn(this.fn[l++],f))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ln($n.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Fy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Fy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Fy(r.field,r.dir==="asc"?0:1)));return new hv(hv.UNKNOWN_ID,this.collectionId,n,Km.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function vV(t){if(lt(t instanceof Vt||t instanceof sn,20012),t instanceof Vt){if(t instanceof V4){const n=t.value.arrayValue?.values?.map((r=>Vt.create(t.field,"==",r)))||[];return sn.create(n,"or")}return t}const e=t.filters.map((n=>vV(n)));return sn.create(e,t.op)}function DH(t){if(t.getFilters().length===0)return[];const e=T1(vV(t));return lt(bV(e),7391),E1(e)||S1(e)?[e]:e.getFilters()}function E1(t){return t instanceof Vt}function S1(t){return t instanceof sn&&lT(t)}function bV(t){return E1(t)||S1(t)||(function(n){if(n instanceof sn&&m1(n)){for(const r of n.getFilters())if(!E1(r)&&!S1(r))return!1;return!0}return!1})(t)}function T1(t){if(lt(t instanceof Vt||t instanceof sn,34018),t instanceof Vt)return t;if(t.filters.length===1)return T1(t.filters[0]);const e=t.filters.map((r=>T1(r)));let n=sn.create(e,t.op);return n=Sv(n),bV(n)?n:(lt(n instanceof sn,64498),lt(Cd(n),40251),lt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>gT(r,i))))}function gT(t,e){let n;return lt(t instanceof Vt||t instanceof sn,38388),lt(e instanceof Vt||e instanceof sn,25473),n=t instanceof Vt?e instanceof Vt?(function(i,o){return sn.create([i,o],"and")})(t,e):Sk(t,e):e instanceof Vt?Sk(e,t):(function(i,o){if(lt(i.filters.length>0&&o.filters.length>0,48005),Cd(i)&&Cd(o))return M4(i,o.getFilters());const l=m1(i)?i:o,u=m1(i)?o:i,f=l.filters.map((d=>gT(d,u)));return sn.create(f,"or")})(t,e),Sv(n)}function Sk(t,e){if(Cd(e))return M4(e,t.getFilters());{const n=e.filters.map((r=>gT(t,r)));return sn.create(n,"or")}}function Sv(t){if(lt(t instanceof Vt||t instanceof sn,11850),t instanceof Vt)return t;const e=t.getFilters();if(e.length===1)return Sv(e[0]);if(N4(t))return t;const n=e.map((i=>Sv(i))),r=[];return n.forEach((i=>{i instanceof Vt?r.push(i):i instanceof sn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:sn.create(r,t.op)}class MH{constructor(){this.Cn=new yT}addToCollectionParentIndex(e,n){return this.Cn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(ja.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class yT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(Yt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(Yt.comparator)).toArray()}}const Tk="IndexedDbIndexManager",yy=new Uint8Array(0);class jH{constructor(e,n){this.databaseId=n,this.vn=new yT,this.Fn=new bl((r=>Yc(r)),((r,i)=>Cp(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:yi(i)};return Ak(e).put(o)}return me.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[r4(n),""],!1,!0);return Ak(e).J(i).next((o=>{for(const l of o){if(l.collectionId!==n)break;r.push(as(l.parent))}return r}))}addFieldIndex(e,n){const r=lm(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const l=Xf(e);return o.next((u=>{l.put(yk(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=lm(e),i=Xf(e),o=Qf(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=lm(e),r=Qf(e),i=Xf(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return me.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new Ek(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Qf(e);let i=!0;const o=new Map;return me.forEach(this.Mn(n),(l=>this.xn(e,l).next((u=>{i&&(i=!!u),o.set(l,u)})))).next((()=>{if(i){let l=Ct();const u=[];return me.forEach(o,((f,d)=>{Me(Tk,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(f)} to execute ${Yc(n)}`);const m=(function(M,Y){const W=s1(Y);if(W===void 0)return null;for(const X of _v(M,W.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null})(d,f),p=(function(M,Y){const W=new Map;for(const X of Ec(Y))for(const j of _v(M,X.fieldPath))switch(j.op){case"==":case"in":W.set(X.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return W.set(X.fieldPath.canonicalString(),j.value),Array.from(W.values())}return null})(d,f),b=(function(M,Y){const W=[];let X=!0;for(const j of Ec(Y)){const L=j.kind===0?rk(M,j.fieldPath,M.startAt):ik(M,j.fieldPath,M.startAt);W.push(L.value),X&&(X=L.inclusive)}return new Pd(W,X)})(d,f),x=(function(M,Y){const W=[];let X=!0;for(const j of Ec(Y)){const L=j.kind===0?ik(M,j.fieldPath,M.endAt):rk(M,j.fieldPath,M.endAt);W.push(L.value),X&&(X=L.inclusive)}return new Pd(W,X)})(d,f),T=this.On(f,d,b),A=this.On(f,d,x),O=this.Nn(f,d,p),D=this.Bn(f.indexId,m,T,b.inclusive,A,x.inclusive,O);return me.forEach(D,(B=>r.Y(B,n.limit).next((M=>{M.forEach((Y=>{const W=We.fromSegments(Y.documentKey);l.has(W)||(l=l.add(W),u.push(W))}))}))))})).next((()=>u))}return me.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=DH(sn.create(e.filters,"and")).map((r=>g1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,l,u){const f=(n!=null?n.length:1)*Math.max(r.length,o.length),d=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const b=n?this.Ln(n[p/d]):yy,x=this.kn(e,b,r[p%d],i),T=this.qn(e,b,o[p%d],l),A=u.map((O=>this.kn(e,b,O,!0)));m.push(...this.createRange(x,T,A))}return m}kn(e,n,r,i){const o=new kc(e,We.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new kc(e,We.empty(),n,r);return i?o.An():o}xn(e,n){const r=new Ek(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let l=null;for(const u of o)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return me.forEach(i,(o=>this.xn(e,o).next((l=>{l?r!==0&&l.fields.length<(function(f){let d=new ln($n.comparator),m=!1;for(const p of f.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:d=d.add(b.field));for(const p of f.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(m?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new sm;for(const i of Ec(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const l=r.Pn(i.kind);Rc.Kt.Dt(o,l)}return r.un()}Ln(e){const n=new sm;return Rc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new sm;return Rc.Kt.Dt(Zm(this.databaseId,n),r.Pn((function(o){const l=Ec(o);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new sm);let o=0;for(const l of Ec(e)){const u=r[o++];for(const f of i)if(this.Un(n,l.fieldPath)&&Jm(u))i=this.Kn(i,l,u);else{const d=f.Pn(l.kind);Rc.Kt.Dt(u,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const f=new sm;f.seed(u.un()),Rc.Kt.Dt(l,f.Pn(n.kind)),o.push(f)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Vt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=lm(e),i=Xf(e);return(n?r.J(u1,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const l=[];return me.forEach(o,(u=>i.get([u.indexId,this.uid]).next((f=>{l.push((function(m,p){const b=p?new Km(p.sequenceNumber,new ja(Xc(p.readTime),new We(as(p.documentKey)),p.largestBatchId)):Km.empty(),x=m.fields.map((([T,A])=>new Fy($n.fromServerFormat(T),A)));return new hv(m.indexId,m.collectionGroup,x,b)})(u,f))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:_t(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=lm(e),o=Xf(e);return this.Gn(e).next((l=>i.J(u1,IDBKeyRange.bound(n,n)).next((u=>me.forEach(u,(f=>o.put(yk(f.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return me.forEach(n,((i,o)=>{const l=r.get(i.collectionGroup);return(l?me.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),me.forEach(u,(f=>this.zn(e,i,f).next((d=>{const m=this.jn(o,f);return d.isEqual(m)?me.resolve():this.Jn(e,o,f,d,m)})))))))}))}Hn(e,n,r,i){return Qf(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Qf(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Qf(e);let o=new ln(du);return i.ee({index:g4,range:IDBKeyRange.only([r.indexId,this.uid,Xy(this.$n(r,n))])},((l,u)=>{o=o.add(new kc(r.indexId,n,xk(u.arrayValue),xk(u.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ln(du);const i=this.Qn(n,e);if(i==null)return r;const o=s1(n);if(o!=null){const l=e.data.field(o.fieldPath);if(Jm(l))for(const u of l.arrayValue.values||[])r=r.add(new kc(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new kc(n.indexId,e.key,yy,i));return r}Jn(e,n,r,i,o){Me(Tk,"Updating index entries for document '%s'",n.key);const l=[];return(function(f,d,m,p,b){const x=f.getIterator(),T=d.getIterator();let A=Wf(x),O=Wf(T);for(;A||O;){let D=!1,B=!1;if(A&&O){const M=m(A,O);M<0?B=!0:M>0&&(D=!0)}else A!=null?B=!0:D=!0;D?(p(O),O=Wf(T)):B?(b(A),A=Wf(x)):(A=Wf(x),O=Wf(T))}})(i,o,du,(u=>{l.push(this.Hn(e,n,r,u))}),(u=>{l.push(this.Yn(e,n,r,u))})),me.waitFor(l)}Gn(e){let n=1;return Xf(e).ee({index:p4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,u)=>du(l,u))).filter(((l,u,f)=>!u||du(l,f[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=du(l,e),f=du(l,n);if(u===0)i[0]=e.An();else if(u>0&&f<0)i.push(l),i.push(l.An());else if(f>0)break}i.push(n);const o=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,yy,We.empty()),f=i[l+1].Vn(this.uid,yy,We.empty());o.push(IDBKeyRange.bound(u,f))}return o}Zn(e,n){return du(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Ik)}getMinOffset(e,n){return me.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ze(44426))))).next(Ik)}}function Ak(t){return Pr(t,Ym)}function Qf(t){return Pr(t,Dm)}function lm(t){return Pr(t,nT)}function Xf(t){return Pr(t,Nm)}function Ik(t){lt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;JS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ja(e.readTime,e.documentKey,n)}const Ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_V=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function wV(t,e,n){const r=t.store(Oo),i=t.store(Ed),o=[],l=IDBKeyRange.only(n.batchId);let u=0;const f=r.ee({range:l},((m,p,b)=>(u++,b.delete())));o.push(f.next((()=>{lt(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const p=d4(e,m.key.path,n.batchId);o.push(i.delete(p)),d.push(m.key)}return me.waitFor(o).next((()=>d))}function Tv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ze(14731);e=t.noDocument}return JSON.stringify(e).length}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(_V,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class Z0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){lt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Z0(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).ee({index:Nc,range:r},((i,o,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=ld(e),l=hu(e);return l.add({}).next((u=>{lt(typeof u=="number",49019);const f=new fT(u,n,r,i),d=(function(x,T,A){const O=A.baseMutations.map((B=>xv(x.yt,B))),D=A.mutations.map((B=>xv(x.yt,B)));return{userId:T,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:O,mutations:D}})(this.serializer,this.userId,f),m=[];let p=new ln(((b,x)=>_t(b.canonicalString(),x.canonicalString())));for(const b of i){const x=d4(this.userId,b.key.path,u);p=p.add(b.key.path.popLast()),m.push(l.put(d)),m.push(o.put(x,hK))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[u]=f.keys()})),me.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return hu(e).get(n).next((r=>r?(lt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Cc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?me.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return hu(e).ee({index:Nc,range:i},((l,u,f)=>{u.userId===this.userId&&(lt(u.batchId>=r,47524,{tr:r}),o=Cc(this.serializer,u)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Vc;return hu(e).ee({index:Nc,range:n,reverse:!0},((i,o,l)=>{r=o.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Vc],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).J(Nc,n).next((r=>r.map((i=>Cc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=$y(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ld(e).ee({range:i},((l,u,f)=>{const[d,m,p]=l,b=as(m);if(d===this.userId&&n.path.isEqual(b))return hu(e).get(p).next((x=>{if(!x)throw Ze(61480,{nr:l,batchId:p});lt(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),o.push(Cc(this.serializer,x))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(_t);const i=[];return n.forEach((o=>{const l=$y(this.userId,o.path),u=IDBKeyRange.lowerBound(l),f=ld(e).ee({range:u},((d,m,p)=>{const[b,x,T]=d,A=as(x);b===this.userId&&o.path.isEqual(A)?r=r.add(T):p.done()}));i.push(f)})),me.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=$y(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new ln(_t);return ld(e).ee({range:l},((f,d,m)=>{const[p,b,x]=f,T=as(b);p===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(x)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(hu(e).get(o).next((l=>{if(l===null)throw Ze(35274,{batchId:o});lt(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),r.push(Cc(this.serializer,l))})))})),me.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return wV(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),me.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return me.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return ld(e).ee({range:r},((o,l,u)=>{if(o[0]===this.userId){const f=as(o[1]);i.push(f)}else u.done()})).next((()=>{lt(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return xV(e,this.userId,n)}_r(e){return EV(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Vc,lastStreamToken:""}))}}function xV(t,e,n){const r=$y(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return ld(t).ee({range:o,X:!0},((u,f,d)=>{const[m,p,b]=u;m===e&&p===i&&(l=!0),d.done()})).next((()=>l))}function hu(t){return Pr(t,Oo)}function ld(t){return Pr(t,Ed)}function EV(t){return Pr(t,Gm)}class Zc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zc(0)}static cr(){return new Zc(-1)}}class LH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Zc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>ht.fromTimestamp(new on(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Zf(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(lt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return Zf(e).ee(((l,u)=>{const f=Am(u);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))})).next((()=>me.waitFor(o))).next((()=>i))}forEachTarget(e,n){return Zf(e).ee(((r,i)=>{const o=Am(i);n(o)}))}lr(e){return Pk(e).get(gv).next((n=>(lt(n!==null,2888),n)))}hr(e,n){return Pk(e).put(gv,n)}Pr(e,n){return Zf(e).put(gV(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Yc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Zf(e).ee({range:i,index:m4},((l,u,f)=>{const d=Am(u);Cp(n,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=_u(e);return n.forEach((l=>{const u=yi(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),me.waitFor(i)}removeMatchingKeys(e,n,r){const i=_u(e);return me.forEach(n,(o=>{const l=yi(o.path);return me.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=_u(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_u(e);let o=Ct();return i.ee({range:r,X:!0},((l,u,f)=>{const d=as(l[1]),m=new We(d);o=o.add(m)})).next((()=>o))}containsKey(e,n){const r=yi(n.path),i=IDBKeyRange.bound([r],[r4(r)],!1,!0);let o=0;return _u(e).ee({index:tT,X:!0,range:i},(([l,u],f,d)=>{l!==0&&(o++,d.done())})).next((()=>o>0))}At(e,n){return Zf(e).get(n).next((r=>r?Am(r):null))}}function Zf(t){return Pr(t,Sd)}function Pk(t){return Pr(t,zc)}function _u(t){return Pr(t,Td)}const Ck="LruGarbageCollector",SV=1048576;function Rk([t,e],[n,r]){const i=_t(t,n);return i===0?_t(e,r):i}class VH{constructor(e){this.Ir=e,this.buffer=new ln(Rk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Rk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Me(Ck,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$u(n)?Me(Ck,"Ignoring IndexedDB error during garbage collection: ",n):await Fu(n)}await this.Vr(3e5)}))}}class zH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(ea.ce);const r=new VH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(Ok)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ok):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,u,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),id()<=Lt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function AV(t,e){return new zH(t,e)}class UH{constructor(e,n){this.db=e,this.garbageCollector=AV(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return vy(e,r)}removeReference(e,n,r){return vy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vy(e,n)}br(e,n){return(function(i,o){let l=!1;return EV(i).te((u=>xV(i,u,o).next((f=>(f&&(l=!0),me.resolve(!f)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((l,u)=>{if(u<=n){const f=this.br(e,l).next((d=>{if(!d)return o++,r.getEntry(e,l).next((()=>(r.removeEntry(l,ht.min()),_u(e).delete((function(p){return[0,yi(p.path)]})(l)))))}));i.push(f)}})).next((()=>me.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vy(e,n)}Sr(e,n){const r=_u(e);let i,o=ea.ce;return r.ee({index:tT},(([l,u],{path:f,sequenceNumber:d})=>{l===0?(o!==ea.ce&&n(new We(as(i)),o),o=d,i=f):o=ea.ce})).next((()=>{o!==ea.ce&&n(new We(as(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vy(t,e){return _u(t).put((function(r,i){return{targetId:0,path:yi(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class IV{constructor(){this.changes=new bl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return _c(e).put(r)}removeEntry(e,n,r){return _c(e).delete((function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Ev(l),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Xn.newInvalidDocument(n);return _c(e).ee({index:Ky,range:IDBKeyRange.only(um(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Xn.newInvalidDocument(n)};return _c(e).ee({index:Ky,range:IDBKeyRange.only(um(n))},((i,o)=>{r={document:this.Cr(n,o),size:Tv(o)}})).next((()=>r))}getEntries(e,n){let r=Ca();return this.Fr(e,n,((i,o)=>{const l=this.Cr(i,o);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=Ca(),i=new _n(We.comparator);return this.Fr(e,n,((o,l)=>{const u=this.Cr(o,l);r=r.insert(o,u),i=i.insert(o,Tv(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return me.resolve();let i=new ln(Dk);n.forEach((f=>i=i.add(f)));const o=IDBKeyRange.bound(um(i.first()),um(i.last())),l=i.getIterator();let u=l.getNext();return _c(e).ee({index:Ky,range:o},((f,d,m)=>{const p=We.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&Dk(u,p)<0;)r(u,null),u=l.getNext();u&&u.isEqual(p)&&(r(u,d),u=l.hasNext()?l.getNext():null),u?m.j(um(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const l=n.path,u=[l.popLast().toArray(),l.lastSegment(),Ev(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _c(e).J(IDBKeyRange.bound(u,f,!0)).next((d=>{o?.incrementDocumentReadCount(d.length);let m=Ca();for(const p of d){const b=this.Cr(We.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(kp(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let o=Ca();const l=Nk(n,r),u=Nk(n,ja.max());return _c(e).ee({index:h4,range:IDBKeyRange.bound(l,u,!0)},((f,d,m)=>{const p=this.Cr(We.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(p.key,p),o.size===i&&m.done()})).next((()=>o))}newChangeBuffer(e){return new qH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return kk(e).get(l1).next((n=>(lt(!!n,20021),n)))}Dr(e,n){return kk(e).put(l1,n)}Cr(e,n){if(n){const r=IH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ht.min())))return r}return Xn.newInvalidDocument(e)}}function OV(t){return new BH(t)}class qH extends IV{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new bl((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new ln(((o,l)=>_t(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const u=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,u.readTime)),l.isValidDocument()){const f=pk(this.Nr.serializer,l);i=i.add(o.path.popLast());const d=Tv(f);r+=d-u.size,n.push(this.Nr.addEntry(e,o,f))}else if(r-=u.size,this.trackRemovals){const f=pk(this.Nr.serializer,l.convertToNoDocument(ht.min()));n.push(this.Nr.addEntry(e,o,f))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),me.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,l)=>{this.Br.set(o,{size:l,readTime:r.get(o).readTime})})),r)))}}function kk(t){return Pr(t,Wm)}function _c(t){return Pr(t,pv)}function um(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nk(t,e){const n=e.documentKey.path.toArray();return[t,Ev(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Dk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=_t(n[o],r[o]),i)return i;return i=_t(n.length,r.length),i||(i=_t(n[n.length-2],r[r.length-2]),i||_t(n[n.length-1],r[r.length-1]))}class FH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vm(r.mutation,i,ta.empty(),on.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ct()){const i=os();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Sm();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=os();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=Ca();const l=Lm(),u=(function(){return Lm()})();return n.forEach(((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof _l)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Vm(m.mutation,d,m.mutation.getFieldMask(),on.now())):l.set(d.key,ta.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>u.set(d,new FH(m,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Lm();let i=new _n(((l,u)=>l-u)),o=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||ta.empty();m=u.applyToLocalView(d,m),r.set(f,m);const p=(i.get(u.batchId)||Ct()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,p=H4();m.forEach((b=>{if(!o.has(b)){const x=Z4(n.get(b),r.get(b));x!==null&&p.set(b,x),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,p))}return me.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return We.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):me.resolve(os());let u=xd,f=o;return l.next((d=>me.forEach(d,((m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(m)?me.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{f=f.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Ct()))).next((m=>({batchId:u,changes:K4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((r=>{let i=Sm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Sm();return this.indexManager.getCollectionParents(e,o).next((u=>me.forEach(u,(f=>{const d=(function(p,b){return new Rp(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Xn.newInvalidDocument(m)))}));let u=Sm();return l.forEach(((f,d)=>{const m=o.get(f);m!==void 0&&Vm(m.mutation,d,ta.empty(),on.now()),kp(n,d)&&(u=u.insert(f,d))})),u}))}}class $H{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Pi(i.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:yV(i.bundledQuery),readTime:Pi(i.readTime)}})(n)),me.resolve()}}class KH{constructor(){this.overlays=new _n(We.comparator),this.qr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=os();return me.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const i=os(),o=n.length+1,l=new We(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _n(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=os(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=os(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=i)););return me.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new hT(n,r));let o=this.qr.get(n);o===void 0&&(o=Ct(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class HH{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class vT{constructor(){this.Qr=new ln(qr.$r),this.Ur=new ln(qr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new We(new Yt([])),r=new qr(n,e),i=new qr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new Yt([])),r=new qr(n,e),i=new qr(n,e+1);let o=Ct();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new qr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||_t(e.Yr,n.Yr)}static Kr(e,n){return _t(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}class GH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(qr.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new fT(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new qr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(l)}lookupMutationBatch(e,n){return me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Vc:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qr(n,0),i=new qr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);o.push(u)})),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(_t);return n.forEach((i=>{const o=new qr(i,0),l=new qr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),me.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;We.isDocumentKey(o)||(o=o.child(""));const l=new qr(new We(o),0);let u=new ln(_t);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),l),me.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return me.forEach(n.mutations,(i=>{const o=new qr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qr(n,0),i=this.Zr.firstAfterOrEqual(r);return me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WH{constructor(e){this.ri=e,this.docs=(function(){return new _n(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(n))}getEntries(e,n){let r=Ca();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xn.newInvalidDocument(i))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ca();const l=n.path,u=new We(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||JS(s4(m),r)<=0||(i.has(m.key)||kp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ze(9500)}ii(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new YH(this)}getSize(e){return me.resolve(this.size)}}class YH extends IV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class QH{constructor(e){this.persistence=e,this.si=new bl((n=>Yc(n)),Cp),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.oi=0,this._i=new vT,this.targetCount=0,this.ai=Zc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Pr(n),me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),me.waitFor(o).next((()=>i))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this._i.containsKey(n))}}class bT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ea(0),this.li=!1,this.li=!0,this.hi=new HH,this.referenceDelegate=e(this),this.Pi=new QH(this),this.indexManager=new MH,this.remoteDocumentCache=(function(i){return new WH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pV(n),this.Ii=new $H(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new XH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return me.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class XH extends u4{constructor(e){super(),this.currentSequenceNumber=e}}class J0{constructor(e){this.persistence=e,this.Ri=new vT,this.Vi=null}static mi(e){return new J0(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(r=>{const i=We.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,ht.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Av{constructor(e,n){this.persistence=e,this.pi=new bl((r=>yi(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=AV(this,n)}static mi(e,n){return new Av(e,n)}Ei(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return me.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?me.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,ht.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gy(e.data.value)),n}br(e,n,r){return me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ZH{constructor(e){this.serializer=e}k(e,n,r,i){const o=new z0("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(Pp)})(e),(function(f){f.createObjectStore(Gm,{keyPath:dK}),f.createObjectStore(Oo,{keyPath:KR,autoIncrement:!0}).createIndex(Nc,HR,{unique:!0}),f.createObjectStore(Ed)})(e),Mk(e),(function(f){f.createObjectStore(Sc)})(e));let l=me.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(Td),f.deleteObjectStore(Sd),f.deleteObjectStore(zc)})(e),Mk(e)),l=l.next((()=>(function(f){const d=f.store(zc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return d.put(gv,m)})(o)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(f,d){return d.store(Oo).J().next((p=>{f.deleteObjectStore(Oo),f.createObjectStore(Oo,{keyPath:KR,autoIncrement:!0}).createIndex(Nc,HR,{unique:!0});const b=d.store(Oo),x=p.map((T=>b.put(T)));return me.waitFor(x)}))})(e,o)))),l=l.next((()=>{(function(f){f.createObjectStore(Ad,{keyPath:wK})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(o)))),r<6&&i>=6&&(l=l.next((()=>((function(f){f.createObjectStore(Wm)})(e),this.wi(o))))),r<7&&i>=7&&(l=l.next((()=>this.Si(o)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,o)))),r<9&&i>=9&&(l=l.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(o)))),r<11&&i>=11&&(l=l.next((()=>{(function(f){f.createObjectStore(B0,{keyPath:xK})})(e),(function(f){f.createObjectStore(q0,{keyPath:EK})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(f){const d=f.createObjectStore(F0,{keyPath:CK});d.createIndex(c1,RK,{unique:!1}),d.createIndex(y4,kK,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(f){const d=f.createObjectStore(pv,{keyPath:mK});d.createIndex(Ky,pK),d.createIndex(h4,gK)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Sc)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(l=l.next((()=>(function(f){f.createObjectStore(nT,{keyPath:SK,autoIncrement:!0}).createIndex(u1,TK,{unique:!1}),f.createObjectStore(Nm,{keyPath:AK}).createIndex(p4,IK,{unique:!1}),f.createObjectStore(Dm,{keyPath:OK}).createIndex(g4,PK,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Nm).clear()})).next((()=>{n.objectStore(Dm).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(f){f.createObjectStore(rT,{keyPath:NK})})(e)}))),r<18&&i>=18&&FL()&&(l=l.next((()=>{n.objectStore(Nm).clear()})).next((()=>{n.objectStore(Dm).clear()}))),l}wi(e){let n=0;return e.store(Sc).ee(((r,i)=>{n+=Tv(i)})).next((()=>{const r={byteSize:n};return e.store(Wm).put(l1,r)}))}yi(e){const n=e.store(Gm),r=e.store(Oo);return n.J().next((i=>me.forEach(i,(o=>{const l=IDBKeyRange.bound([o.userId,Vc],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Nc,l).next((u=>me.forEach(u,(f=>{lt(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Cc(this.serializer,f);return wV(e,o.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Td),r=e.store(Sc);return e.store(zc).get(gv).next((i=>{const o=[];return r.ee(((l,u)=>{const f=new Yt(l),d=(function(p){return[0,yi(p)]})(f);o.push(n.get(d).next((m=>m?me.resolve():(p=>n.put({targetId:0,path:yi(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>me.waitFor(o)))}))}bi(e,n){e.createObjectStore(Ym,{keyPath:_K});const r=n.store(Ym),i=new yT,o=l=>{if(i.add(l)){const u=l.lastSegment(),f=l.popLast();return r.put({collectionId:u,parent:yi(f)})}};return n.store(Sc).ee({X:!0},((l,u)=>{const f=new Yt(l);return o(f.popLast())})).next((()=>n.store(Ed).ee({X:!0},(([l,u,f],d)=>{const m=as(u);return o(m.popLast())}))))}Di(e){const n=e.store(Sd);return n.ee(((r,i)=>{const o=Am(i),l=gV(this.serializer,o);return n.put(l)}))}Ci(e,n){const r=n.store(Sc),i=[];return r.ee(((o,l)=>{const u=n.store(pv),f=(function(p){return p.document?new We(Yt.fromString(p.document.name).popFirst(5)):p.noDocument?We.fromSegments(p.noDocument.path):p.unknownDocument?We.fromSegments(p.unknownDocument.path):Ze(36783)})(l).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(d))})).next((()=>me.waitFor(i)))}Fi(e,n){const r=n.store(Oo),i=OV(this.serializer),o=new bT(J0.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((f=>{let d=u.get(f.userId)??Ct();Cc(this.serializer,f).keys().forEach((m=>d=d.add(m))),u.set(f.userId,d)})),me.forEach(u,((f,d)=>{const m=new fi(d),p=X0.wt(this.serializer,m),b=o.getIndexManager(m),x=Z0.wt(m,this.serializer,b,o.referenceDelegate);return new PV(i,x,p,b).recalculateAndSaveOverlaysForDocumentKeys(new f1(n,ea.ce),f).next()}))}))}}function Mk(t){t.createObjectStore(Td,{keyPath:vK}).createIndex(tT,bK,{unique:!0}),t.createObjectStore(Sd,{keyPath:"targetId"}).createIndex(m4,yK,{unique:!0}),t.createObjectStore(zc)}const mu="IndexedDbPersistence",rx=18e5,ix=5e3,ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JH="main";class _T{constructor(e,n,r,i,o,l,u,f,d,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=l,this.document=u,this.xi=d,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!_T.v())throw new Ke(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UH(this,i),this.$i=n+JH,this.serializer=new pV(f),this.Ui=new ku(this.$i,this.Ni,new ZH(this.serializer)),this.hi=new PH,this.Pi=new LH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OV(this.serializer),this.Ii=new OH,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&or(mu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Ce.FAILED_PRECONDITION,ax);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new ea(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>by(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if($u(e))return Me(mu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Me(mu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return cm(e).get(Gf).next((n=>me.resolve(this.es(n))))}ts(e){return by(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,rx)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Pr(n,Ad);return r.J().next((i=>{const o=this.ss(i,rx),l=i.filter((u=>o.indexOf(u)===-1));return me.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?me.resolve(!0):cm(e).get(Gf).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,ix)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ke(Ce.FAILED_PRECONDITION,ax);return!1}}return!(!this.networkEnabled||!this.inForeground)||by(e).J().next((r=>this.ss(r,ix).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Me(mu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Pp,Ad],(e=>{const n=new f1(e,ea.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>by(e).J().next((n=>this.ss(n,rx).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Z0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jH(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return X0.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){Me(mu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?jK:f===17?w4:f===16?MK:f===15?iT:f===14?_4:f===13?b4:f===12?DK:f===11?v4:void Ze(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,o,(u=>(l=new f1(u,this.ci?this.ci.next():ea.ce),n==="readwrite-primary"?this.Hi(l).next((f=>!!f||this.Yi(l))).next((f=>{if(!f)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ke(Ce.FAILED_PRECONDITION,l4);return r(l)})).next((f=>this.Xi(l).next((()=>f)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return cm(e).get(Gf).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,ix)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ke(Ce.FAILED_PRECONDITION,ax)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cm(e).put(Gf,n)}static v(){return ku.v()}Zi(e){const n=cm(e);return n.get(Gf).next((r=>this.es(r)?(Me(mu,"Releasing primary lease."),n.delete(Gf)):me.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;qL()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return Me(mu,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return or(mu,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cm(t){return Pr(t,Pp)}function by(t){return Pr(t,Ad)}function CV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class wT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ct(),i=Ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new wT(e,n.fromCache,r,i)}}class eG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qL()?8:c4(Or())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new eG;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(id()<=Lt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",ad(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(id()<=Lt.DEBUG&&Me("QueryEngine","Query:",ad(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(id()<=Lt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",ad(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):me.resolve())}ys(e,n){if(ak(n))return me.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=v1(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ct(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,l,f.readTime)?this.ys(e,v1(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return ak(n)||i.isEqual(ht.min())?me.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?me.resolve(null):(id()<=Lt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ad(n)),this.vs(e,l,n,o4(i,xd)).next((u=>u)))}))}Ds(e,n){let r=new ln(F4(e));return n.forEach(((i,o)=>{kp(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return id()<=Lt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",ad(n)),this.ps.getDocumentsMatchingQuery(e,n,ja.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const xT="LocalStore",tG=3e8;class nG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new _n(_t),this.xs=new bl((o=>Yc(o)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function kV(t,e,n,r){return new nG(t,e,n,r)}async function NV(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let f=Ct();for(const d of i){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function rG(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const p=d.batch,b=p.keys();let x=me.resolve();return b.forEach((T=>{x=x.next((()=>m.getEntry(f,T))).next((A=>{const O=d.docVersions.get(T);lt(O!==null,48541),A.version.compareTo(O)<0&&(p.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),m.addEntry(A)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Ct();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function DV(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iG(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,p))));let x=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(sr.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(p,x),(function(A,O,D){return A.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=tG?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(b,x,m)&&u.push(n.Pi.updateTargetData(o,x))}));let f=Ca(),d=Ct();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(aG(o,l,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!r.isEqual(ht.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(m)}return me.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function aG(t,e,n){let r=Ct(),i=Ct();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ca();return n.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(ht.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Me(xT,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function oG(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Iv(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,me.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Zs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Dd(t,e,n){const r=ot(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!$u(l))throw l;Me(xT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function A1(t,e,n){const r=ot(t);let i=ht.min(),o=Ct();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,m){const p=ot(f),b=p.xs.get(m);return b!==void 0?me.resolve(p.Ms.get(b)):p.Pi.getTargetData(d,m)})(r,l,ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:ht.min(),n?o:Ct()))).next((u=>(LV(r,q4(e),u),{documents:u,Qs:o})))))}function MV(t,e){const n=ot(t),r=ot(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((l=>l?l.target:null))))}function jV(t,e){const n=ot(t),r=n.Os.get(e)||ht.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,o4(r,xd),Number.MAX_SAFE_INTEGER))).then((i=>(LV(n,e,i),i)))}function LV(t,e,n){let r=t.Os.get(e)||ht.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}const VV="firestore_clients";function jk(t,e){return`${VV}_${t}_${e}`}const zV="firestore_mutations";function Lk(t,e,n){let r=`${zV}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const UV="firestore_targets";function ox(t,e){return`${UV}_${t}_${e}`}const rs="SharedClientState";class Ov{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new Ke(i.error.code,i.error.message))),l?new Ov(e,n,i.state,o):(or(rs,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zm{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new Ke(r.error.code,r.error.message))),o?new zm(e,r.state,i):(or(rs,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=uT();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=f4(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new Pv(e,o):(or(rs,`Failed to parse client data for instance '${e}': ${n}`),null)}}class ET{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new ET(n.clientId,n.onlineState):(or(rs,`Failed to parse online state: ${e}`),null)}}class I1{constructor(){this.activeTargetIds=uT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(e,n,r,i,o){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new _n(_t),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=jk(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new I1),this.ro=new RegExp(`^${VV}_${l}_([^_]*)$`),this.io=new RegExp(`^${zV}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${UV}_${l}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(jk(this.persistenceKey,r));if(i){const o=Pv.Ws(r,i);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ox(this.persistenceKey,e));if(i){const o=zm.Ws(e,i);o&&(r=o.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ox(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Me(rs,"READ",e,n),n}setItem(e,n){Me(rs,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){Me(rs,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(Me(rs,"EVENT",n.key,n.newValue),n.key===this.eo)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(o){let l=ea.ce;if(o!=null)try{const u=JSON.parse(o);lt(typeof u=="number",30636,{So:o}),l=u}catch(u){or(rs,"Failed to read sequence number from WebStorage",u)}return l})(n.newValue);r!==ea.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Ov(this.currentUser,e,n,r),o=Lk(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Gs())}Po(e){const n=Lk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=ox(this.persistenceKey,e),o=new zm(e,n,r);this.setItem(i,o.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Pv.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ov.Ws(new fi(o),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return zm.Ws(i,n)}uo(e){return ET.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Me(rs,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),o=this.lo(r),l=[],u=[];return o.forEach((f=>{i.has(f)||l.push(f)})),i.forEach((f=>{o.has(f)||u.push(f)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=uT();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class BV{constructor(){this.Mo=new I1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sG{Oo(e){}shutdown(){}}const Vk="ConnectivityMonitor";class zk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Me(Vk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Me(Vk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _y=null;function O1(){return _y===null?_y=(function(){return 268435456+Math.round(2147483648*Math.random())})():_y++,"0x"+_y.toString(16)}const lx="RestConnection",lG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===yv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=O1(),u=this.zo(e,n.toUriEncodedString());Me(lx,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(u),m=Jd(d);return this.Jo(e,u,f,r,m).then((p=>(Me(lx,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw $m(lx,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+th})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=lG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class cG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ui="WebChannelConnection";class fG extends uG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=O1();return new Promise(((u,f)=>{const d=new XL;d.setWithCredentials(!0),d.listenOnce(ZL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case qy.NO_ERROR:const p=d.getResponseJson();Me(ui,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case qy.TIMEOUT:Me(ui,`RPC '${e}' ${l} timed out`),f(new Ke(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case qy.HTTP_ERROR:const b=d.getStatus();if(Me(ui,`RPC '${e}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x?.error;if(T&&T.status&&T.message){const A=(function(D){const B=D.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(B)>=0?B:Ce.UNKNOWN})(T.status);f(new Ke(A,T.message))}else f(new Ke(Ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ke(Ce.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Me(ui,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Me(ui,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=O1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=t4(),u=e4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=o.join("");Me(ui,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=l.createWebChannel(m,f);this.I_(p);let b=!1,x=!1;const T=new cG({Yo:O=>{x?Me(ui,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(b||(Me(ui,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),Me(ui,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},Zo:()=>p.close()}),A=(O,D,B)=>{O.listen(D,(M=>{try{B(M)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return A(p,Em.EventType.OPEN,(()=>{x||(Me(ui,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),A(p,Em.EventType.CLOSE,(()=>{x||(x=!0,Me(ui,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),A(p,Em.EventType.ERROR,(O=>{x||(x=!0,$m(ui,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),T.a_(new Ke(Ce.UNAVAILABLE,"The operation could not be completed")))})),A(p,Em.EventType.MESSAGE,(O=>{if(!x){const D=O.data[0];lt(!!D,16349);const B=D,M=B?.error||B[0]?.error;if(M){Me(ui,`RPC '${e}' stream ${i} received error:`,M);const Y=M.status;let W=(function(L){const z=gr[L];if(z!==void 0)return tV(z)})(Y),X=M.message;W===void 0&&(W=Ce.INTERNAL,X="Unknown error status: "+Y+" with message "+M.message),x=!0,T.a_(new Ke(W,X)),p.close()}else Me(ui,`RPC '${e}' stream ${i} received:`,D),T.u_(D)}})),A(u,JL.STAT_EVENT,(O=>{O.stat===a1.PROXY?Me(ui,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===a1.NOPROXY&&Me(ui,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qV(){return typeof window<"u"?window:null}function Zy(){return typeof document<"u"?document:null}function eb(t){return new yH(t,!0)}class FV{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Uk="PersistentStream";class $V{constructor(e,n,r,i,o,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FV(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ke(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Me(Uk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Me(Uk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dG extends $V{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_H(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ht.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ht.min():l.readTime?Pi(l.readTime):ht.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=w1(this.serializer),n.addTarget=(function(o,l){let u;const f=l.target;if(u=bv(f)?{documents:uV(o,f)}:{query:cV(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=iV(o,l.resumeToken);const d=b1(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(ht.min())>0){u.readTime=Nd(o,l.snapshotVersion.toTimestamp());const d=b1(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=xH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=w1(this.serializer),n.removeTarget=e,this.q_(n)}}class hG extends $V{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wH(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=w1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xv(this.serializer,r)))};this.q_(n)}}class mG{}class pG extends mG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,_1(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ce.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,_1(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(Ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):Me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jc="RemoteStore";class yG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{df(this)&&(Me(Jc,"Restarting streams for network reachability change."),await(async function(f){const d=ot(f);d.Ea.add(4),await Mp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await tb(d)})(this))}))})),this.Ra=new gG(r,i)}}async function tb(t){if(df(t))for(const e of t.da)await e(!0)}async function Mp(t){for(const e of t.da)await e(!1)}function nb(t,e){const n=ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),AT(n)?TT(n):ih(n).O_()&&ST(n,e))}function Md(t,e){const n=ot(t),r=ih(n);n.Ia.delete(e),r.O_()&&KV(n,e),n.Ia.size===0&&(r.O_()?r.L_():df(n)&&n.Ra.set("Unknown"))}function ST(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ih(t).Y_(e)}function KV(t,e){t.Va.Ue(e),ih(t).Z_(e)}function TT(t){t.Va=new hH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ih(t).start(),t.Ra.ua()}function AT(t){return df(t)&&!ih(t).x_()&&t.Ia.size>0}function df(t){return ot(t).Ea.size===0}function HV(t){t.Va=void 0}async function vG(t){t.Ra.set("Online")}async function bG(t){t.Ia.forEach(((e,n)=>{ST(t,e)}))}async function _G(t,e){HV(t),AT(t)?(t.Ra.ha(e),TT(t)):t.Ra.set("Unknown")}async function wG(t,e,n){if(t.Ra.set("Online"),e instanceof rV&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Me(Jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cv(t,r)}else if(e instanceof Qy?t.Va.Ze(e):e instanceof nV?t.Va.st(e):t.Va.tt(e),!n.isEqual(ht.min()))try{const r=await DV(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const m=o.Ia.get(f);if(!m)return;o.Ia.set(f,m.withResumeToken(sr.EMPTY_BYTE_STRING,m.snapshotVersion)),KV(o,f);const p=new Zs(m.target,f,d,m.sequenceNumber);ST(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Me(Jc,"Failed to raise snapshot:",r),await Cv(t,r)}}async function Cv(t,e,n){if(!$u(e))throw e;t.Ea.add(1),await Mp(t),t.Ra.set("Offline"),n||(n=()=>DV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Me(Jc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await tb(t)}))}function GV(t,e){return e().catch((n=>Cv(t,n,e)))}async function rh(t){const e=ot(t),n=Vu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vc;for(;xG(e);)try{const i=await oG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,EG(e,i)}catch(i){await Cv(e,i)}WV(e)&&YV(e)}function xG(t){return df(t)&&t.Ta.length<10}function EG(t,e){t.Ta.push(e);const n=Vu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WV(t){return df(t)&&!Vu(t).x_()&&t.Ta.length>0}function YV(t){Vu(t).start()}async function SG(t){Vu(t).ra()}async function TG(t){const e=Vu(t);for(const n of t.Ta)e.ea(n.mutations)}async function AG(t,e,n){const r=t.Ta.shift(),i=dT.from(r,e,n);await GV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await rh(t)}async function IG(t,e){e&&Vu(t).X_&&await(async function(r,i){if((function(l){return cH(l)&&l!==Ce.ABORTED})(i.code)){const o=r.Ta.shift();Vu(r).B_(),await GV(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await rh(r)}})(t,e),WV(t)&&YV(t)}async function Bk(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Me(Jc,"RemoteStore received new credentials");const r=df(n);n.Ea.add(3),await Mp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tb(n)}async function P1(t,e){const n=ot(t);e?(n.Ea.delete(2),await tb(n)):e||(n.Ea.add(2),await Mp(n),n.Ra.set("Unknown"))}function ih(t){return t.ma||(t.ma=(function(n,r,i){const o=ot(n);return o.sa(),new dG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:vG.bind(null,t),t_:bG.bind(null,t),r_:_G.bind(null,t),H_:wG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),AT(t)?TT(t):t.Ra.set("Unknown")):(await t.ma.stop(),HV(t))}))),t.ma}function Vu(t){return t.fa||(t.fa=(function(n,r,i){const o=ot(n);return o.sa(),new hG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SG.bind(null,t),r_:IG.bind(null,t),ta:TG.bind(null,t),na:AG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await rh(t)):(await t.fa.stop(),t.Ta.length>0&&(Me(Jc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class IT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ru,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new IT(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OT(t,e){if(or("AsyncQueue",`${e}: ${t}`),$u(t))return new Ke(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}class hd{static emptySet(e){return new hd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=Sm(),this.sortedSet=new _n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class qk{constructor(){this.ga=new _n(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jd{constructor(e,n,r,i,o,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new jd(e,n,hd.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class OG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PG{constructor(){this.queries=Fk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ot(n),o=i.queries;i.queries=Fk(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ke(Ce.ABORTED,"Firestore shutting down"))}}function Fk(){return new bl((t=>B4(t)),G0)}async function CG(t,e){const n=ot(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new OG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=OT(l,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&PT(n)}async function RG(t,e){const n=ot(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kG(t,e){const n=ot(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&PT(n)}function NG(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function PT(t){t.Ca.forEach((e=>{e.next()}))}var C1,$k;($k=C1||(C1={})).Ma="default",$k.Cache="cache";class DG{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C1.Cache}}class QV{constructor(e){this.key=e}}class XV{constructor(e){this.key=e}}class MG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=F4(e),this.tu=new hd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qk,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),x=kp(this.query,p)?p:null,T=!!b&&this.mutatedKeys.has(b.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;b&&x?b.data.isEqual(x.data)?T!==A&&(r.track({type:3,doc:x}),O=!0):this.su(b,x)||(r.track({type:2,doc:x}),O=!0,(f&&this.eu(x,f)>0||d&&this.eu(x,d)<0)&&(u=!0)):!b&&x?(r.track({type:0,doc:x}),O=!0):b&&!x&&(r.track({type:1,doc:b}),O=!0,(f||d)&&(u=!0)),O&&(x?(l=l.add(x),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(x,T){const A=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:O})}};return A(x)-A(T)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new jd(this.query,e.tu,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new XV(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QV(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ah="SyncEngine";class jG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LG{constructor(e){this.key=e,this.hu=!1}}class VG{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new bl((u=>B4(u)),G0),this.Iu=new Map,this.Eu=new Set,this.du=new _n(We.comparator),this.Au=new Map,this.Ru=new vT,this.Vu={},this.mu=new Map,this.fu=Zc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zG(t,e,n=!0){const r=rb(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await ZV(r,e,n,!0),i}async function UG(t,e){const n=rb(t);await ZV(n,e,!0,!1)}async function ZV(t,e,n,r){const i=await Iv(t.localStore,ka(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await CT(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nb(t.remoteStore,i),u}async function CT(t,e,n,r,i){t.pu=(p,b,x)=>(async function(A,O,D,B){let M=O.view.ru(D);M.Cs&&(M=await A1(A.localStore,O.query,!1).then((({documents:j})=>O.view.ru(j,M))));const Y=B&&B.targetChanges.get(O.targetId),W=B&&B.targetMismatches.get(O.targetId)!=null,X=O.view.applyChanges(M,A.isPrimaryClient,Y,W);return R1(A,O.targetId,X.au),X.snapshot})(t,p,b,x);const o=await A1(t.localStore,e,!0),l=new MG(e,o.Qs),u=l.ru(o.documents),f=Dp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);R1(t,n,d.au);const m=new jG(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function BG(t,e,n){const r=ot(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!G0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Md(r.remoteStore,i.targetId),Ld(r,i.targetId)})).catch(Fu)):(Ld(r,i.targetId),await Dd(r.localStore,i.targetId,!0))}async function qG(t,e){const n=ot(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Md(n.remoteStore,r.targetId))}async function FG(t,e,n){const r=DT(t);try{const i=await(function(l,u){const f=ot(l),d=on.now(),m=u.reduce(((x,T)=>x.add(T.key)),Ct());let p,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=Ca(),A=Ct();return f.Ns.getEntries(x,m).next((O=>{T=O,T.forEach(((D,B)=>{B.isValidDocument()||(A=A.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,T))).next((O=>{p=O;const D=[];for(const B of u){const M=lH(B,p.get(B.key).overlayedDocument);M!=null&&D.push(new _l(B.key,M,R4(M.value.mapValue),Ii.exists(!0)))}return f.mutationQueue.addMutationBatch(x,d,D,u)})).next((O=>{b=O;const D=O.applyToLocalDocumentSet(p,A);return f.documentOverlayCache.saveOverlays(x,O.batchId,D)}))})).then((()=>({batchId:b.batchId,changes:K4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new _n(_t)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Hu(r,i.changes),await rh(r.remoteStore)}catch(i){const o=OT(i,"Failed to persist write");n.reject(o)}}async function JV(t,e){const n=ot(t);try{const r=await iG(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?lt(l.hu,14607):i.removedDocuments.size>0&&(lt(l.hu,42227),l.hu=!1))})),await Hu(n,r,e)}catch(r){await Fu(r)}}function Kk(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=ot(l);f.onlineState=u;let d=!1;f.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(u)&&(d=!0)})),d&&PT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $G(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new _n(We.comparator);l=l.insert(o,Xn.newNoDocument(o,ht.min()));const u=Ct().add(o),f=new Np(ht.min(),new Map,new _n(_t),l,u);await JV(r,f),r.du=r.du.remove(o),r.Au.delete(e),NT(r)}else await Dd(r.localStore,e,!1).then((()=>Ld(r,e,n))).catch(Fu)}async function KG(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await rG(n.localStore,e);kT(n,r,null),RT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,i)}catch(i){await Fu(i)}}async function HG(t,e,n){const r=ot(t);try{const i=await(function(l,u){const f=ot(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((p=>(lt(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);kT(r,e,n),RT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,i)}catch(i){await Fu(i)}}function RT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kT(t,e,n){const r=ot(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ld(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||e3(t,r)}))}function e3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Md(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),NT(t))}function R1(t,e,n){for(const r of n)r instanceof QV?(t.Ru.addReference(r.key,e),GG(t,r)):r instanceof XV?(Me(ah,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||e3(t,r.key)):Ze(19791,{wu:r})}function GG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Me(ah,"New document in limbo: "+n),t.Eu.add(r),NT(t))}function NT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(Yt.fromString(e)),r=t.fu.next();t.Au.set(r,new LG(n)),t.du=t.du.insert(n,r),nb(t.remoteStore,new Zs(ka(H0(n.path)),r,"TargetPurposeLimboResolution",ea.ce))}}async function Hu(t,e,n){const r=ot(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=wT.As(f.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const m=ot(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>me.forEach(d,(b=>me.forEach(b.Es,(x=>m.persistence.referenceDelegate.addReference(p,b.targetId,x))).next((()=>me.forEach(b.ds,(x=>m.persistence.referenceDelegate.removeReference(p,b.targetId,x)))))))))}catch(p){if(!$u(p))throw p;Me(xT,"Failed to update sequence numbers: "+p)}for(const p of d){const b=p.targetId;if(!p.fromCache){const x=m.Ms.get(b),T=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(b,A)}}})(r.localStore,o))}async function WG(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Me(ah,"User change. New user:",e.toKey());const r=await NV(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ke(Ce.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.Ls)}}function YG(t,e){const n=ot(t),r=n.Au.get(e);if(r&&r.hu)return Ct().add(r.key);{let i=Ct();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}async function QG(t,e){const n=ot(t),r=await A1(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&R1(n,e.targetId,i.au),i}async function XG(t,e){const n=ot(t);return jV(n.localStore,e).then((r=>Hu(n,r)))}async function ZG(t,e,n,r){const i=ot(t),o=await(function(u,f){const d=ot(u),m=ot(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,f).next((b=>b?d.localDocuments.getDocuments(p,b):me.resolve(null)))))})(i.localStore,e);o!==null?(n==="pending"?await rh(i.remoteStore):n==="acknowledged"||n==="rejected"?(kT(i,e,r||null),RT(i,e),(function(u,f){ot(ot(u).mutationQueue).ir(f)})(i.localStore,e)):Ze(6720,"Unknown batchState",{Su:n}),await Hu(i,o)):Me(ah,"Cannot apply mutation batch with id: "+e)}async function JG(t,e){const n=ot(t);if(rb(n),DT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Hk(n,r.toArray());n.gu=!0,await P1(n.remoteStore,!0);for(const o of i)nb(n.remoteStore,o)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((o,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Ld(n,l),Dd(n.localStore,l,!0)))),Md(n.remoteStore,l)})),await i,await Hk(n,r),(function(l){const u=ot(l);u.Au.forEach(((f,d)=>{Md(u.remoteStore,d)})),u.Ru.Jr(),u.Au=new Map,u.du=new _n(We.comparator)})(n),n.gu=!1,await P1(n.remoteStore,!1)}}async function Hk(t,e,n){const r=ot(t),i=[],o=[];for(const l of e){let u;const f=r.Iu.get(l);if(f&&f.length!==0){u=await Iv(r.localStore,ka(f[0]));for(const d of f){const m=r.Tu.get(d),p=await QG(r,m);p.snapshot&&o.push(p.snapshot)}}else{const d=await MV(r.localStore,l);u=await Iv(r.localStore,d),await CT(r,t3(d),l,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(o),i}function t3(t){return z4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function eW(t){return(function(n){return ot(ot(n).persistence).Ts()})(ot(t).localStore)}async function tW(t,e,n,r){const i=ot(t);if(i.gu)return void Me(ah,"Ignoring unexpected query state notification.");const o=i.Iu.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const l=await jV(i.localStore,q4(o[0])),u=Np.createSynthesizedRemoteEventForCurrentChange(e,n==="current",sr.EMPTY_BYTE_STRING);await Hu(i,l,u);break}case"rejected":await Dd(i.localStore,e,!0),Ld(i,e,r);break;default:Ze(64155,n)}}async function nW(t,e,n){const r=rb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Me(ah,"Adding an already active target "+i);continue}const o=await MV(r.localStore,i),l=await Iv(r.localStore,o);await CT(r,t3(o),l.targetId,!1,l.resumeToken),nb(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await Dd(r.localStore,i,!1).then((()=>{Md(r.remoteStore,i),Ld(r,i)})).catch(Fu)}}function rb(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$G.bind(null,e),e.Pu.H_=kG.bind(null,e.eventManager),e.Pu.yu=NG.bind(null,e.eventManager),e}function DT(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HG.bind(null,e),e}class np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kV(this.persistence,new RV,e.initialUser,this.serializer)}Cu(e){return new bT(J0.mi,this.serializer)}Du(e){return new BV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}np.provider={build:()=>new np};class rW extends np{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Av,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new bT((r=>Av.mi(r,n)),this.serializer)}}class n3 extends np{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await DT(this.xu.syncEngine),await rh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return kV(this.persistence,new RV,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,n)}Mu(e,n){const r=new cK(n,this.persistence);return new uK(e.asyncQueue,r)}Cu(e){const n=CV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new _T(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,qV(),Zy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new BV}}class iW extends n3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof sx&&(this.sharedClientState.syncEngine={Co:ZG.bind(null,n),vo:tW.bind(null,n),Fo:nW.bind(null,n),Ts:eW.bind(null,n),Do:XG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await JG(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=qV();if(!sx.v(n))throw new Ke(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=CV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WG.bind(null,this.syncEngine),await P1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PG})()}createDatastore(e){const n=eb(e.databaseInfo.databaseId),r=(function(o){return new fG(o)})(e.databaseInfo);return(function(o,l,u,f){return new pG(o,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new yG(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kk(this.syncEngine,n,0)),(function(){return zk.v()?new zk:new sG})())}createSyncEngine(e,n){return(function(i,o,l,u,f,d,m){const p=new VG(i,o,l,u,f,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ot(n);Me(Jc,"RemoteStore shutting down."),r.Ea.add(5),await Mp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class aW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const zu="FirestoreClient";class oW{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fi.UNAUTHENTICATED,this.clientId=ZS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Me(zu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Me(zu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ru;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ux(t,e){t.asyncQueue.verifyOperationInProgress(),Me(zu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await NV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Gk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sW(t);Me(zu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Bk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Bk(e.remoteStore,i))),t._onlineComponents=e}async function sW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(zu,"Using user provided OfflineComponentProvider");try{await ux(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$m("Error using user provided cache. Falling back to memory cache: "+n),await ux(t,new np)}}else Me(zu,"Using default OfflineComponentProvider"),await ux(t,new rW(void 0));return t._offlineComponents}async function r3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(zu,"Using user provided OnlineComponentProvider"),await Gk(t,t._uninitializedComponentsProvider._online)):(Me(zu,"Using default OnlineComponentProvider"),await Gk(t,new rp))),t._onlineComponents}function lW(t){return r3(t).then((e=>e.syncEngine))}async function Wk(t){const e=await r3(t),n=e.eventManager;return n.onListen=zG.bind(null,e.syncEngine),n.onUnlisten=BG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qG.bind(null,e.syncEngine),n}function i3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Yk=new Map;const uW="firestore.googleapis.com",Qk=!0;class Xk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uW,this.ssl=Qk}else this.host=e.host,this.ssl=e.ssl??Qk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_V;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new Ke(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new X7;switch(r.type){case"firstParty":return new eK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Yk.get(n);r&&(Me("ComponentProvider","Removing Datastore"),Yk.delete(n),r.terminate())})(this),Promise.resolve()}}class oh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oh(this.firestore,e,this._query)}}class br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}toJSON(){return{type:br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Op(n,br._jsonSchema))return new br(e,r||null,new We(Yt.fromString(n.referencePath)))}}br._jsonSchemaVersion="firestore/documentReference/1.0",br._jsonSchema={type:vr("string",br._jsonSchemaVersion),referencePath:vr("string")};class Nu extends oh{constructor(e,n,r){super(e,n,H0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new We(e))}withConverter(e){return new Nu(this.firestore,e,this._path)}}function ib(t,e,...n){if(t=$r(t),i4("collection","path",e),t instanceof MT){const r=Yt.fromString(e,...n);return UR(r),new Nu(t,null,r)}{if(!(t instanceof br||t instanceof Nu))throw new Ke(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return UR(r),new Nu(t.firestore,null,r)}}function ef(t,e,...n){if(t=$r(t),arguments.length===1&&(e=ZS.newId()),i4("doc","path",e),t instanceof MT){const r=Yt.fromString(e,...n);return zR(r),new br(t,null,new We(r))}{if(!(t instanceof br||t instanceof Nu))throw new Ke(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return zR(r),new br(t.firestore,t instanceof Nu?t.converter:null,new We(r))}}const Zk="AsyncQueue";class Jk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FV(this,"async_queue_retry"),this._c=()=>{const r=Zy();r&&Me(Zk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Zy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ru;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$u(e))throw e;Me(Zk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",e2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=IT.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ze(47125,{Pc:e2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function t2(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Vd extends MT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jk(e),this._firestoreClient=void 0,await e}}}function cW(t,e,n){n||(n=yv);const r=QS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Kc(o,e))return i;throw new Ke(Ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ke(Ce.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new Ke(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Jd(e.host)&&UL(e.host),r.initialize({options:e,instanceIdentifier:n})}function a3(t){if(t._terminated)throw new Ke(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fW(t),t._firestoreClient}function fW(t){const e=t._freezeSettings(),n=(function(i,o,l,u){return new VK(i,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,i3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(sr.fromBase64String(e))}catch(n){throw new Ke(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:so._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Op(e,so._jsonSchema))return so.fromBase64String(e.bytes)}}so._jsonSchemaVersion="firestore/bytes/1.0",so._jsonSchema={type:vr("string",so._jsonSchemaVersion),bytes:vr("string")};class ab{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jT{constructor(e){this._methodName=e}}class ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(Op(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:vr("string",ls._jsonSchemaVersion),latitude:vr("number"),longitude:vr("number")};class us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Op(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new us(e.vectorValues);throw new Ke(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:vr("string",us._jsonSchemaVersion),vectorValues:vr("object")};const dW=/^__.*__$/;class hW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new nh(e,this.data,n,this.fieldTransforms)}}class o3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class LT{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new LT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s3(this.Ac)&&dW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eb(e)}Cc(e,n,r,i=!1){return new LT({Ac:e,methodName:n,Dc:r,path:$n.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(t){const e=t._freezeSettings(),n=eb(t._databaseId);return new mW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pW(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);zT("Data must be an object, but it was:",l,r);const u=l3(r,l);let f,d;if(o.merge)f=new ta(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const p of o.mergeFields){const b=k1(e,p,n);if(!l.contains(b))throw new Ke(Ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);c3(m,b)||m.push(b)}f=new ta(m),d=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=l.fieldTransforms;return new hW(new mi(u),f,d)}class ob extends jT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ob}}function gW(t,e,n,r){const i=t.Cc(1,e,n);zT("Data must be an object, but it was:",i,r);const o=[],l=mi.empty();Ku(r,((f,d)=>{const m=UT(e,f,n);d=$r(d);const p=i.yc(m);if(d instanceof ob)o.push(m);else{const b=jp(d,p);b!=null&&(o.push(m),l.set(m,b))}}));const u=new ta(o);return new o3(l,u,i.fieldTransforms)}function yW(t,e,n,r,i,o){const l=t.Cc(1,e,n),u=[k1(e,r,n)],f=[i];if(o.length%2!=0)throw new Ke(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)u.push(k1(e,o[b])),f.push(o[b+1]);const d=[],m=mi.empty();for(let b=u.length-1;b>=0;--b)if(!c3(d,u[b])){const x=u[b];let T=f[b];T=$r(T);const A=l.yc(x);if(T instanceof ob)d.push(x);else{const O=jp(T,A);O!=null&&(d.push(x),m.set(x,O))}}const p=new ta(d);return new o3(m,p,l.fieldTransforms)}function vW(t,e,n,r=!1){return jp(n,t.Cc(r?4:3,e))}function jp(t,e){if(u3(t=$r(t)))return zT("Unsupported field value:",e,t),l3(t,e);if(t instanceof jT)return(function(r,i){if(!s3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let f=jp(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=$r(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=on.fromDate(r);return{timestampValue:Nd(i.serializer,o)}}if(r instanceof on){const o=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nd(i.serializer,o)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:iV(i.serializer,r._byteString)};if(r instanceof br){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof us)return(function(l,u){return{mapValue:{fields:{[oT]:{stringValue:sT},[Id]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return cT(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${V0(r)}`)})(t,e)}function l3(t,e){const n={};return x4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ku(t,((r,i)=>{const o=jp(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function u3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof ls||t instanceof so||t instanceof br||t instanceof jT||t instanceof us)}function zT(t,e,n){if(!u3(n)||!a4(n)){const r=V0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function k1(t,e,n){if((e=$r(e))instanceof ab)return e._internalPath;if(typeof e=="string")return UT(t,e);throw Rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const bW=new RegExp("[~\\*/\\[\\]]");function UT(t,e,n){if(e.search(bW)>=0)throw Rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ab(...e.split("."))._internalPath}catch{throw Rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rv(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ke(Ce.INVALID_ARGUMENT,u+t+f)}function c3(t,e){return t.some((n=>n.isEqual(e)))}class f3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _W(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _W extends f3{data(){return super.data()}}function d3(t,e){return typeof e=="string"?UT(t,e):e instanceof ab?e._internalPath:e._delegate._internalPath}function wW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BT{}class xW extends BT{}function EW(t,e,...n){let r=[];e instanceof BT&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((f=>f instanceof FT)).length,u=o.filter((f=>f instanceof qT)).length;if(l>1||l>0&&u>0)throw new Ke(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class qT extends xW{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qT(e,n,r)}_apply(e){const n=this._parse(e);return h3(e._query,n),new oh(e.firestore,e.converter,y1(e._query,n))}_parse(e){const n=VT(e.firestore);return(function(o,l,u,f,d,m,p){let b;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ke(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){r2(p,m);const T=[];for(const A of p)T.push(n2(f,o,A));b={arrayValue:{values:T}}}else b=n2(f,o,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||r2(p,m),b=vW(u,l,p,m==="in"||m==="not-in");return Vt.create(d,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class FT extends BT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FT(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const f of u)h3(l,f),l=y1(l,f)})(e._query,n),new oh(e.firestore,e.converter,y1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n2(t,e,n){if(typeof(n=$r(n))=="string"){if(n==="")throw new Ke(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U4(e)&&n.indexOf("/")!==-1)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yt.fromString(n));if(!We.isDocumentKey(r))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zm(t,new We(r))}if(n instanceof br)return Zm(t,n._key);throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V0(n)}.`)}function r2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h3(t,e){const n=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ke(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SW{convertValue(e,n="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ku(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Id].arrayValue?.values?.map((r=>Rn(r.doubleValue)));return new us(n)}convertGeoPoint(e){return new ls(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qm(e));default:return null}}convertTimestamp(e){const n=ll(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yt.fromString(e);lt(mV(r),9688,{name:e});const i=new Wc(r.get(1),r.get(3)),o=new We(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function TW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Im{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bc extends f3{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bc._jsonSchema={type:vr("string",Bc._jsonSchemaVersion),bundleSource:vr("string","DocumentSnapshot"),bundleName:vr("string"),bundle:vr("string")};class Jy extends Bc{data(e={}){return super.data(e)}}class md{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Im(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jy(this._firestore,this._userDataWriter,r.key,r,new Im(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Jy(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Jy(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:AW(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=md._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ZS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}md._jsonSchemaVersion="firestore/querySnapshot/1.0",md._jsonSchema={type:vr("string",md._jsonSchemaVersion),bundleSource:vr("string","QuerySnapshot"),bundleName:vr("string"),bundle:vr("string")};class m3 extends SW{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,n)}}function $T(t,e,n,...r){t=Lc(t,br);const i=Lc(t.firestore,Vd),o=VT(i);let l;return l=typeof(e=$r(e))=="string"||e instanceof ab?yW(o,"updateDoc",t._key,e,n,r):gW(o,"updateDoc",t._key,e),GT(i,[l.toMutation(t._key,Ii.exists(!0))])}function KT(t){return GT(Lc(t.firestore,Vd),[new Q0(t._key,Ii.none())])}function HT(t,e){const n=Lc(t.firestore,Vd),r=ef(t),i=TW(t.converter,e);return GT(n,[pW(VT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ii.exists(!1))]).then((()=>r))}function IW(t,...e){t=$r(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||t2(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(t2(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,l,u;if(t instanceof br)l=Lc(t.firestore,Vd),u=H0(t._key.path),o={next:f=>{e[r]&&e[r](OW(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Lc(t,oh);l=Lc(f.firestore,Vd),u=f._query;const d=new m3(l);o={next:m=>{e[r]&&e[r](new md(l,d,f,m))},error:e[r+1],complete:e[r+2]},wW(t._query)}return(function(d,m,p,b){const x=new aW(b),T=new DG(m,x,p);return d.asyncQueue.enqueueAndForget((async()=>CG(await Wk(d),T))),()=>{x.Nu(),d.asyncQueue.enqueueAndForget((async()=>RG(await Wk(d),T)))}})(a3(l),u,i,o)}function GT(t,e){return(function(r,i){const o=new Ru;return r.asyncQueue.enqueueAndForget((async()=>FG(await lW(r),i,o))),o.promise})(a3(t),e)}function OW(t,e,n){const r=n.docs.get(e._key),i=new m3(t);return new Bc(t,i,e._key,r,new Im(n.hasPendingWrites,n.fromCache),e.converter)}class PW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=NW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function CW(t){return new PW(t)}class RW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rp.provider,this._offlineComponentProvider={build:n=>new n3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class kW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rp.provider,this._offlineComponentProvider={build:n=>new iW(n,e?.cacheSizeBytes)}}}function NW(t){return new RW(t?.forceOwnership)}function DW(){return new kW}(function(e,n=!0){(function(i){th=i})(eh),_d(new Hc("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Vd(new Z7(r.getProvider("auth-internal")),new tK(l,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ke(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(d.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Pu(MR,jR,e),Pu(MR,jR,"esm2020")})();var MW="firebase",jW="12.6.0";Pu(MW,jW,"app");function p3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LW=p3,g3=new Ap("auth","Firebase",p3());const kv=new WS("@firebase/auth");function VW(t,...e){kv.logLevel<=Lt.WARN&&kv.warn(`Auth (${eh}): ${t}`,...e)}function ev(t,...e){kv.logLevel<=Lt.ERROR&&kv.error(`Auth (${eh}): ${t}`,...e)}function Mo(t,...e){throw WT(t,...e)}function cs(t,...e){return WT(t,...e)}function y3(t,e,n){const r={...LW(),[e]:n};return new Ap("auth","Firebase",r).create(e,{appName:t.name})}function Du(t){return y3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g3.create(t,...e)}function gt(t,e,...n){if(!t)throw WT(e,...n)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ev(e),new Error(e)}function cl(t,e){t||Js(e)}function N1(){return typeof self<"u"&&self.location?.href||""}function zW(){return i2()==="http:"||i2()==="https:"}function i2(){return typeof self<"u"&&self.location?.protocol||null}function UW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zW()||C$()||"connection"in navigator)?navigator.onLine:!0}function BW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lp{constructor(e,n){this.shortDelay=e,this.longDelay=n,cl(n>e,"Short delay should be less than long delay!"),this.isMobile=O$()||R$()}get(){return UW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function YT(t,e){cl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class v3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$W=new Lp(3e4,6e4);function hf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gu(t,e,n,r,i={}){return b3(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Ip({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return P$()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Jd(t.emulatorConfig.host)&&(d.credentials="include"),v3.fetch()(await _3(t,t.config.apiHost,n,u),d)})}async function b3(t,e,n){t._canInitEmulator=!1;const r={...qW,...e};try{const i=new HW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wy(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wy(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw wy(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw wy(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw y3(t,m,d);Mo(t,m)}}catch(i){if(i instanceof vl)throw i;Mo(t,"network-request-failed",{message:String(i)})}}async function sb(t,e,n,r,i={}){const o=await Gu(t,e,n,r,i);return"mfaPendingCredential"in o&&Mo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function _3(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?YT(t.config,i):`${t.config.apiScheme}://${i}`;return FW.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function KW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),$W.get())})}}function wy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cs(t,e,r);return i.customData._tokenResponse=n,i}function a2(t){return t!==void 0&&t.enterprise!==void 0}class GW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WW(t,e){return Gu(t,"GET","/v2/recaptchaConfig",hf(t,e))}async function YW(t,e){return Gu(t,"POST","/v1/accounts:delete",e)}async function Nv(t,e){return Gu(t,"POST","/v1/accounts:lookup",e)}function Um(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QW(t,e=!1){const n=$r(t),r=await n.getIdToken(e),i=QT(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Um(cx(i.auth_time)),issuedAtTime:Um(cx(i.iat)),expirationTime:Um(cx(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function cx(t){return Number(t)*1e3}function QT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ev("JWT malformed, contained fewer than 3 sections"),null;try{const i=jL(n);return i?JSON.parse(i):(ev("Failed to decode base64 JWT payload"),null)}catch(i){return ev("Caught error parsing JWT payload as JSON",i?.toString()),null}}function o2(t){const e=QT(t);return gt(e,"internal-error"),gt(typeof e.exp<"u","internal-error"),gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ip(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vl&&XW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ZW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class D1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Um(this.lastLoginAt),this.creationTime=Um(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dv(t){const e=t.auth,n=await t.getIdToken(),r=await ip(t,Nv(e,{idToken:n}));gt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?w3(i.providerUserInfo):[],l=eY(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,d=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new D1(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function JW(t){const e=$r(t);await Dv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function w3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tY(t,e){const n=await b3(t,{},async()=>{const r=Ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await _3(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Jd(t.emulatorConfig.host)&&(f.credentials="include"),v3.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nY(t,e){return Gu(t,"POST","/v2/accounts:revokeToken",hf(t,e))}class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(typeof e.idToken<"u","internal-error"),gt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){gt(e.length!==0,"internal-error");const n=o2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await tY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new pd;return r&&(gt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(gt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(gt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return Js("not implemented")}}function pu(t,e){gt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class No{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ZW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new D1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ip(this,this.stsTokenManager.getToken(this.auth,e));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QW(this,e)}reload(){return JW(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new No({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Po(this.auth.app))return Promise.reject(Du(this.auth));const e=await this.getIdToken();return await ip(this,YW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:x,providerData:T,stsTokenManager:A}=n;gt(p&&A,e,"internal-error");const O=pd.fromJSON(this.name,A);gt(typeof p=="string",e,"internal-error"),pu(r,e.name),pu(i,e.name),gt(typeof b=="boolean",e,"internal-error"),gt(typeof x=="boolean",e,"internal-error"),pu(o,e.name),pu(l,e.name),pu(u,e.name),pu(f,e.name),pu(d,e.name),pu(m,e.name);const D=new No({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:O,createdAt:d,lastLoginAt:m});return T&&Array.isArray(T)&&(D.providerData=T.map(B=>({...B}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const o=new No({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dv(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];gt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?w3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,u=new pd;u.updateFromIdToken(r);const f=new No({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new D1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const s2=new Map;function el(t){cl(t instanceof Function,"Expected a class definition");let e=s2.get(t);return e?(cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s2.set(t,e),e)}class x3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x3.type="NONE";const l2=x3;function tv(t,e,n){return`firebase:${t}:${e}:${n}`}class gd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=tv(this.userKey,i.apiKey,o),this.fullPersistenceKey=tv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nv(this.auth,{idToken:e}).catch(()=>{});return n?No._fromGetAccountInfoResponse(this.auth,n,e):null}return No._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gd(el(l2),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||el(l2);const l=tv(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(l);if(m){let p;if(typeof m=="string"){const b=await Nv(e,{idToken:m}).catch(()=>{});if(!b)break;p=await No._fromGetAccountInfoResponse(e,b,m)}else p=No._fromJSON(e,m);d!==o&&(u=p),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new gd(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new gd(o,e,r))}}function u2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O3(e))return"Blackberry";if(P3(e))return"Webos";if(S3(e))return"Safari";if((e.includes("chrome/")||T3(e))&&!e.includes("edge/"))return"Chrome";if(I3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function E3(t=Or()){return/firefox\//i.test(t)}function S3(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T3(t=Or()){return/crios\//i.test(t)}function A3(t=Or()){return/iemobile/i.test(t)}function I3(t=Or()){return/android/i.test(t)}function O3(t=Or()){return/blackberry/i.test(t)}function P3(t=Or()){return/webos/i.test(t)}function XT(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rY(t=Or()){return XT(t)&&!!window.navigator?.standalone}function iY(){return k$()&&document.documentMode===10}function C3(t=Or()){return XT(t)||I3(t)||P3(t)||O3(t)||/windows phone/i.test(t)||A3(t)}function R3(t,e=[]){let n;switch(t){case"Browser":n=u2(Or());break;case"Worker":n=`${u2(Or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eh}/${r}`}class aY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function oY(t,e={}){return Gu(t,"GET","/v2/passwordPolicy",hf(t,e))}const sY=6;class lY{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class uY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c2(this),this.idTokenSubscription=new c2(this),this.beforeStateQueue=new aY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=el(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nv(this,{idToken:e}),r=await No._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Po(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Po(this.app))return Promise.reject(Du(this));const n=e?$r(e):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Po(this.app)?Promise.reject(Du(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Po(this.app)?Promise.reject(Du(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(el(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oY(this),n=new lY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ap("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nY(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&el(e)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[el(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Po(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VW(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sh(t){return $r(t)}class c2{constructor(e){this.auth=e,this.observer=null,this.addObserver=V$(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cY(t){lb=t}function k3(t){return lb.loadJS(t)}function fY(){return lb.recaptchaEnterpriseScript}function dY(){return lb.gapiScript}function hY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mY{constructor(){this.enterprise=new pY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gY="recaptcha-enterprise",N3="NO_RECAPTCHA";class yY{constructor(e){this.type=gY,this.auth=sh(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{WW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new GW(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function i(o,l,u){const f=window.grecaptcha;a2(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(N3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mY().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&a2(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=fY();f.length!==0&&(f+=u),k3(f).then(()=>{i(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function f2(t,e,n,r=!1,i=!1){const o=new yY(t);let l;if(i)l=N3;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function d2(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await f2(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await f2(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}function vY(t,e){const n=QS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Kc(o,e??{}))return i;Mo(i,"already-initialized")}return n.initialize({options:e})}function bY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(el);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _Y(t,e,n){const r=sh(t);gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=D3(e),{host:l,port:u}=wY(e),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Kc(d,r.config.emulator)&&Kc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Jd(l)?(UL(`${o}//${l}${f}`),I$("Auth",!0)):xY()}function D3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wY(t){const e=D3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:h2(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:h2(l)}}}function h2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class ZT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function EY(t,e){return Gu(t,"POST","/v1/accounts:signUp",e)}async function SY(t,e){return sb(t,"POST","/v1/accounts:signInWithPassword",hf(t,e))}async function TY(t,e){return sb(t,"POST","/v1/accounts:signInWithEmailLink",hf(t,e))}async function AY(t,e){return sb(t,"POST","/v1/accounts:signInWithEmailLink",hf(t,e))}class ap extends ZT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ap(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ap(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d2(e,n,"signInWithPassword",SY);case"emailLink":return TY(e,{email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d2(e,r,"signUpPassword",EY);case"emailLink":return AY(e,{idToken:n,email:this._email,oobCode:this._password});default:Mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yd(t,e){return sb(t,"POST","/v1/accounts:signInWithIdp",hf(t,e))}const IY="http://localhost";class tf extends ZT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new tf(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return yd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yd(e,n)}buildRequest(){const e={requestUri:IY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ip(n)}return e}}function OY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PY(t){const e=wm(xm(t)).link,n=e?wm(xm(e)).deep_link_id:null,r=wm(xm(t)).deep_link_id;return(r?wm(xm(r)).link:null)||r||n||e||t}class JT{constructor(e){const n=wm(xm(e)),r=n.apiKey??null,i=n.oobCode??null,o=OY(n.mode??null);gt(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PY(e);try{return new JT(n)}catch{return null}}}class lh{constructor(){this.providerId=lh.PROVIDER_ID}static credential(e,n){return ap._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=JT.parseLink(n);return gt(r,"argument-error"),ap._fromEmailAndCode(e,r.code,r.tenantId)}}lh.PROVIDER_ID="password";lh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vp extends M3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wu extends Vp{constructor(){super("facebook.com")}static credential(e){return tf._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wu.credential(e.oauthAccessToken)}catch{return null}}}wu.FACEBOOK_SIGN_IN_METHOD="facebook.com";wu.PROVIDER_ID="facebook.com";class xu extends Vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tf._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xu.credential(n,r)}catch{return null}}}xu.GOOGLE_SIGN_IN_METHOD="google.com";xu.PROVIDER_ID="google.com";class Eu extends Vp{constructor(){super("github.com")}static credential(e){return tf._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eu.credential(e.oauthAccessToken)}catch{return null}}}Eu.GITHUB_SIGN_IN_METHOD="github.com";Eu.PROVIDER_ID="github.com";class Su extends Vp{constructor(){super("twitter.com")}static credential(e,n){return tf._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Su.credential(n,r)}catch{return null}}}Su.TWITTER_SIGN_IN_METHOD="twitter.com";Su.PROVIDER_ID="twitter.com";class zd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await No._fromIdTokenResponse(e,r,i),l=m2(r);return new zd({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=m2(r);return new zd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function m2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Mv extends vl{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mv(e,n,r,i)}}function j3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mv._fromErrorAndOperation(t,o,e,r):o})}async function CY(t,e,n=!1){const r=await ip(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zd._forOperation(t,"link",r)}async function RY(t,e,n=!1){const{auth:r}=t;if(Po(r.app))return Promise.reject(Du(r));const i="reauthenticate";try{const o=await ip(t,j3(r,i,e,t),n);gt(o.idToken,r,"internal-error");const l=QT(o.idToken);gt(l,r,"internal-error");const{sub:u}=l;return gt(t.uid===u,r,"user-mismatch"),zd._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mo(r,"user-mismatch"),o}}async function L3(t,e,n=!1){if(Po(t.app))return Promise.reject(Du(t));const r="signIn",i=await j3(t,r,e),o=await zd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function kY(t,e){return L3(sh(t),e)}async function NY(t){const e=sh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DY(t,e,n){return Po(t.app)?Promise.reject(Du(t)):kY($r(t),lh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NY(t),r})}function MY(t,e,n,r){return $r(t).onIdTokenChanged(e,n,r)}function jY(t,e,n){return $r(t).beforeAuthStateChanged(e,n)}function LY(t,e,n,r){return $r(t).onAuthStateChanged(e,n,r)}const jv="__sak";class V3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jv,"1"),this.storage.removeItem(jv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VY=1e3,zY=10;class z3 extends V3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);iY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z3.type="LOCAL";const UY=z3;class U3 extends V3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U3.type="SESSION";const B3=U3;function BY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ub{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ub(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(n.origin,o)),f=await BY(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ub.receivers=[];function eA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class qY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=eA("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function fs(){return window}function FY(t){fs().location.href=t}function q3(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function $Y(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KY(){return navigator?.serviceWorker?.controller||null}function HY(){return q3()?self:null}const F3="firebaseLocalStorageDb",GY=1,Lv="firebaseLocalStorage",$3="fbase_key";class zp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cb(t,e){return t.transaction([Lv],e?"readwrite":"readonly").objectStore(Lv)}function WY(){const t=indexedDB.deleteDatabase(F3);return new zp(t).toPromise()}function M1(){const t=indexedDB.open(F3,GY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lv,{keyPath:$3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lv)?e(r):(r.close(),await WY(),e(await M1()))})})}async function p2(t,e,n){const r=cb(t,!0).put({[$3]:e,value:n});return new zp(r).toPromise()}async function YY(t,e){const n=cb(t,!1).get(e),r=await new zp(n).toPromise();return r===void 0?null:r.value}function g2(t,e){const n=cb(t,!0).delete(e);return new zp(n).toPromise()}const QY=800,XY=3;class K3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ub._getInstance(HY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $Y(),!this.activeServiceWorker)return;this.sender=new qY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M1();return await p2(e,jv,"1"),await g2(e,jv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>p2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cb(i,!1).getAll();return new zp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K3.type="LOCAL";const ZY=K3;new Lp(3e4,6e4);function JY(t,e){return e?el(e):(gt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class tA extends ZT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eQ(t){return L3(t.auth,new tA(t),t.bypassAuthState)}function tQ(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),RY(n,new tA(t),t.bypassAuthState)}async function nQ(t){const{auth:e,user:n}=t;return gt(n,e,"internal-error"),CY(n,new tA(t),t.bypassAuthState)}class H3{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eQ;case"linkViaPopup":case"linkViaRedirect":return nQ;case"reauthViaPopup":case"reauthViaRedirect":return tQ;default:Mo(this.auth,"internal-error")}}resolve(e){cl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rQ=new Lp(2e3,1e4);class cd extends H3{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,cd.currentPopupAction&&cd.currentPopupAction.cancel(),cd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){cl(this.filter.length===1,"Popup operations only handle one event");const e=eA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rQ.get())};e()}}cd.currentPopupAction=null;const iQ="pendingRedirect",nv=new Map;class aQ extends H3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nv.get(this.auth._key());if(!e){try{const r=await oQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nv.set(this.auth._key(),e)}return this.bypassAuthState||nv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oQ(t,e){const n=uQ(e),r=lQ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sQ(t,e){nv.set(t._key(),e)}function lQ(t){return el(t._redirectPersistence)}function uQ(t){return tv(iQ,t.config.apiKey,t.name)}async function cQ(t,e,n=!1){if(Po(t.app))return Promise.reject(Du(t));const r=sh(t),i=JY(r,e),l=await new aQ(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const fQ=600*1e3;class dQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!G3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(cs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(y2(e))}saveEventToCache(e){this.cachedEventUids.add(y2(e)),this.lastProcessedEventTime=Date.now()}}function y2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G3(t);default:return!1}}async function mQ(t,e={}){return Gu(t,"GET","/v1/projects",e)}const pQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gQ=/^https?/;async function yQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mQ(t);for(const n of e)try{if(vQ(n))return}catch{}Mo(t,"unauthorized-domain")}function vQ(t){const e=N1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!gQ.test(n))return!1;if(pQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bQ=new Lp(3e4,6e4);function v2(){const t=fs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _Q(t){return new Promise((e,n)=>{function r(){v2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v2(),n(cs(t,"network-request-failed"))},timeout:bQ.get()})}if(fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fs().gapi?.load)r();else{const i=hY("iframefcb");return fs()[i]=()=>{gapi.load?r():n(cs(t,"network-request-failed"))},k3(`${dY()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw rv=null,e})}let rv=null;function wQ(t){return rv=rv||_Q(t),rv}const xQ=new Lp(5e3,15e3),EQ="__/auth/iframe",SQ="emulator/auth/iframe",TQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IQ(t){const e=t.config;gt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YT(e,SQ):`https://${t.config.authDomain}/${EQ}`,r={apiKey:e.apiKey,appName:t.name,v:eh},i=AQ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ip(r).slice(1)}`}async function OQ(t){const e=await wQ(t),n=fs().gapi;return gt(n,t,"internal-error"),e.open({where:document.body,url:IQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TQ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=cs(t,"network-request-failed"),u=fs().setTimeout(()=>{o(l)},xQ.get());function f(){fs().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}const PQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CQ=500,RQ=600,kQ="_blank",NQ="http://localhost";class b2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DQ(t,e,n,r=CQ,i=RQ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...PQ,width:r.toString(),height:i.toString(),top:o,left:l},d=Or().toLowerCase();n&&(u=T3(d)?kQ:n),E3(d)&&(e=e||NQ,f.scrollbars="yes");const m=Object.entries(f).reduce((b,[x,T])=>`${b}${x}=${T},`,"");if(rY(d)&&u!=="_self")return MQ(e||"",u),new b2(null);const p=window.open(e||"",u,m);gt(p,t,"popup-blocked");try{p.focus()}catch{}return new b2(p)}function MQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const jQ="__/auth/handler",LQ="emulator/auth/handler",VQ=encodeURIComponent("fac");async function _2(t,e,n,r,i,o){gt(t.config.authDomain,t,"auth-domain-config-required"),gt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eh,eventId:i};if(e instanceof M3){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",L$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Vp){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await t._getAppCheckToken(),d=f?`#${VQ}=${encodeURIComponent(f)}`:"";return`${zQ(t)}?${Ip(u).slice(1)}${d}`}function zQ({config:t}){return t.emulator?YT(t,LQ):`https://${t.authDomain}/${jQ}`}const fx="webStorageSupport";class UQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B3,this._completeRedirectFn=cQ,this._overrideRedirectResult=sQ}async _openPopup(e,n,r,i){cl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _2(e,n,r,N1(),i);return DQ(e,o,eA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _2(e,n,r,N1(),i);return FY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(cl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OQ(e),r=new dQ(e);return n.register("authEvent",i=>(gt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fx,{type:fx},i=>{const o=i?.[0]?.[fx];o!==void 0&&n(!!o),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C3()||S3()||XT()}}const BQ=UQ;var w2="@firebase/auth",x2="1.11.1";class qQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $Q(t){_d(new Hc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;gt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R3(t)},d=new uY(r,i,o,f);return bY(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_d(new Hc("auth-internal",e=>{const n=sh(e.getProvider("auth").getImmediate());return(r=>new qQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pu(w2,x2,FQ(t)),Pu(w2,x2,"esm2020")}const KQ=300,HQ=zL("authIdTokenMaxAge")||KQ;let E2=null;const GQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HQ)return;const i=n?.token;E2!==i&&(E2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WQ(t=z7()){const e=QS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vY(t,{popupRedirectResolver:BQ,persistence:[ZY,UY,B3]}),r=zL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=GQ(o.toString());jY(n,l,()=>l(n.currentUser)),MY(n,u=>l(u))}}const i=E$("auth");return i&&_Y(n,`http://${i}`),n}function YQ(){return document.getElementsByTagName("head")?.[0]??document}cY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=cs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$Q("Browser");const QQ={apiKey:"AIzaSyDE5SA7S2OJtG1V9_E4LhFZDj3D2EDq_lo",authDomain:"blushandbloom-59477.firebaseapp.com",projectId:"blushandbloom-59477",storageBucket:"blushandbloom-59477.firebasestorage.app",messagingSenderId:"874203224238",appId:"1:874203224238:web:cdd3987722a1ac53baf53f"},W3=GL(QQ),Y3=WQ(W3),ds=cW(W3,{localCache:CW({tabManager:DW()})});function nA(t){const[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const o=EW(ib(ds,t));return IW(o,u=>{const f=[];u.forEach(d=>{f.push({id:d.id,...d.data()})}),n(f),i(!1)})},[t]),{data:e,loading:r}}const Up=()=>nA("batches"),Bp=()=>nA("sales"),rA=()=>nA("expenses"),op={add:async t=>HT(ib(ds,"batches"),t),update:async(t,e)=>$T(ef(ds,"batches",t),e),delete:async t=>KT(ef(ds,"batches",t))},sp={add:async t=>HT(ib(ds,"sales"),t),update:async(t,e)=>$T(ef(ds,"sales",t),e),delete:async t=>KT(ef(ds,"sales",t))},j1={add:async t=>HT(ib(ds,"expenses"),t),update:async(t,e)=>$T(ef(ds,"expenses",t),e),delete:async t=>KT(ef(ds,"expenses",t))};function Q3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Q3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Q3(t))&&(r&&(r+=" "),r+=e);return r}const XQ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},ZQ=(t,e)=>({classGroupId:t,validator:e}),X3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Vv="-",S2=[],JQ="arbitrary..",eX=t=>{const e=nX(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return tX(l);const u=l.split(Vv),f=u[0]===""&&u.length>1?1:0;return Z3(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],d=n[l];return f?d?XQ(d,f):f:d||S2}return n[l]||S2}}},Z3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const d=Z3(t,e+1,o);if(d)return d}const l=n.validators;if(l===null)return;const u=e===0?t.join(Vv):t.slice(e).join(Vv),f=l.length;for(let d=0;d<f;d++){const m=l[d];if(m.validator(u))return m.classGroupId}},tX=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?JQ+r:void 0})(),nX=t=>{const{theme:e,classGroups:n}=t;return rX(n,e)},rX=(t,e)=>{const n=X3();for(const r in t){const i=t[r];iA(i,n,r,e)}return n},iA=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const l=t[o];iX(l,e,n,r)}},iX=(t,e,n,r)=>{if(typeof t=="string"){aX(t,e,n);return}if(typeof t=="function"){oX(t,e,n,r);return}sX(t,e,n,r)},aX=(t,e,n)=>{const r=t===""?e:J3(e,t);r.classGroupId=n},oX=(t,e,n,r)=>{if(lX(t)){iA(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(ZQ(n,t))},sX=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let l=0;l<o;l++){const[u,f]=i[l];iA(f,J3(e,u),n,r)}},J3=(t,e)=>{let n=t;const r=e.split(Vv),i=r.length;for(let o=0;o<i;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=X3(),n.nextPart.set(l,u)),n=u}return n},lX=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,uX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},L1="!",T2=":",cX=[],A2=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),fX=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let l=0,u=0,f=0,d;const m=i.length;for(let A=0;A<m;A++){const O=i[A];if(l===0&&u===0){if(O===T2){o.push(i.slice(f,A)),f=A+1;continue}if(O==="/"){d=A;continue}}O==="["?l++:O==="]"?l--:O==="("?u++:O===")"&&u--}const p=o.length===0?i:i.slice(f);let b=p,x=!1;p.endsWith(L1)?(b=p.slice(0,-1),x=!0):p.startsWith(L1)&&(b=p.slice(1),x=!0);const T=d&&d>f?d-f:void 0;return A2(o,x,b,T)};if(e){const i=e+T2,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):A2(cX,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},dX=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",f=e.has(l);u||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},hX=t=>({cache:uX(t.cacheSize),parseClassName:fX(t),sortModifiers:dX(t),...eX(t)}),mX=/\s+/,pX=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=t.trim().split(mX);let f="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:p,modifiers:b,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:A}=n(m);if(p){f=m+(f.length>0?" "+f:f);continue}let O=!!A,D=r(O?T.substring(0,A):T);if(!D){if(!O){f=m+(f.length>0?" "+f:f);continue}if(D=r(T),!D){f=m+(f.length>0?" "+f:f);continue}O=!1}const B=b.length===0?"":b.length===1?b[0]:o(b).join(":"),M=x?B+L1:B,Y=M+D;if(l.indexOf(Y)>-1)continue;l.push(Y);const W=i(D,O);for(let X=0;X<W.length;++X){const j=W[X];l.push(M+j)}f=m+(f.length>0?" "+f:f)}return f},gX=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=e6(n))&&(i&&(i+=" "),i+=r);return i},e6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=e6(t[r]))&&(n&&(n+=" "),n+=e);return n},yX=(t,...e)=>{let n,r,i,o;const l=f=>{const d=e.reduce((m,p)=>p(m),t());return n=hX(d),r=n.cache.get,i=n.cache.set,o=u,u(f)},u=f=>{const d=r(f);if(d)return d;const m=pX(f,n);return i(f,m),m};return o=l,(...f)=>o(gX(...f))},vX=[],Tr=t=>{const e=n=>n[t]||vX;return e.isThemeGetter=!0,e},t6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bX=/^\d+\/\d+$/,_X=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,EX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jf=t=>bX.test(t),Pt=t=>!!t&&!Number.isNaN(Number(t)),gu=t=>!!t&&Number.isInteger(Number(t)),dx=t=>t.endsWith("%")&&Pt(t.slice(0,-1)),Ws=t=>_X.test(t),TX=()=>!0,AX=t=>wX.test(t)&&!xX.test(t),r6=()=>!1,IX=t=>EX.test(t),OX=t=>SX.test(t),PX=t=>!rt(t)&&!it(t),CX=t=>uh(t,o6,r6),rt=t=>t6.test(t),wc=t=>uh(t,s6,AX),hx=t=>uh(t,MX,Pt),I2=t=>uh(t,i6,r6),RX=t=>uh(t,a6,OX),xy=t=>uh(t,l6,IX),it=t=>n6.test(t),fm=t=>ch(t,s6),kX=t=>ch(t,jX),O2=t=>ch(t,i6),NX=t=>ch(t,o6),DX=t=>ch(t,a6),Ey=t=>ch(t,l6,!0),uh=(t,e,n)=>{const r=t6.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ch=(t,e,n=!1)=>{const r=n6.exec(t);return r?r[1]?e(r[1]):n:!1},i6=t=>t==="position"||t==="percentage",a6=t=>t==="image"||t==="url",o6=t=>t==="length"||t==="size"||t==="bg-size",s6=t=>t==="length",MX=t=>t==="number",jX=t=>t==="family-name",l6=t=>t==="shadow",LX=()=>{const t=Tr("color"),e=Tr("font"),n=Tr("text"),r=Tr("font-weight"),i=Tr("tracking"),o=Tr("leading"),l=Tr("breakpoint"),u=Tr("container"),f=Tr("spacing"),d=Tr("radius"),m=Tr("shadow"),p=Tr("inset-shadow"),b=Tr("text-shadow"),x=Tr("drop-shadow"),T=Tr("blur"),A=Tr("perspective"),O=Tr("aspect"),D=Tr("ease"),B=Tr("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...Y(),it,rt],X=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],L=()=>[it,rt,f],z=()=>[Jf,"full","auto",...L()],G=()=>[gu,"none","subgrid",it,rt],q=()=>["auto",{span:["full",gu,it,rt]},gu,it,rt],H=()=>[gu,"auto",it,rt],$=()=>["auto","min","max","fr",it,rt],qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Xe=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...L()],Pe=()=>[Jf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],xe=()=>[t,it,rt],Te=()=>[...Y(),O2,I2,{position:[it,rt]}],tt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",NX,CX,{size:[it,rt]}],Se=()=>[dx,fm,wc],De=()=>["","none","full",d,it,rt],je=()=>["",Pt,fm,wc],nt=()=>["solid","dashed","dotted","double"],ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ye=()=>[Pt,dx,O2,I2],un=()=>["","none",T,it,rt],ue=()=>["none",Pt,it,rt],mt=()=>["none",Pt,it,rt],yt=()=>[Pt,it,rt],Ae=()=>[Jf,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ws],breakpoint:[Ws],color:[TX],container:[Ws],"drop-shadow":[Ws],ease:["in","out","in-out"],font:[PX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ws],shadow:[Ws],spacing:["px",Pt],text:[Ws],"text-shadow":[Ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jf,rt,it,O]}],container:["container"],columns:[{columns:[Pt,rt,it,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[gu,"auto",it,rt]}],basis:[{basis:[Jf,"full","auto",u,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Jf,"auto","initial","none",rt]}],grow:[{grow:["",Pt,it,rt]}],shrink:[{shrink:["",Pt,it,rt]}],order:[{order:[gu,"first","last","none",it,rt]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...qe(),"normal"]}],"justify-items":[{"justify-items":[...Xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Xe()]}],"align-content":[{content:["normal",...qe()]}],"align-items":[{items:[...Xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":qe()}],"place-items":[{"place-items":[...Xe(),"baseline"]}],"place-self":[{"place-self":["auto",...Xe()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:Pe()}],w:[{w:[u,"screen",...Pe()]}],"min-w":[{"min-w":[u,"screen","none",...Pe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Pe()]}],h:[{h:["screen","lh",...Pe()]}],"min-h":[{"min-h":["screen","lh","none",...Pe()]}],"max-h":[{"max-h":["screen","lh",...Pe()]}],"font-size":[{text:["base",n,fm,wc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,it,hx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dx,rt]}],"font-family":[{font:[kX,rt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,it,rt]}],"line-clamp":[{"line-clamp":[Pt,"none",it,hx]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",it,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",it,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:xe()}],"text-color":[{text:xe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...nt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",it,wc]}],"text-decoration-color":[{decoration:xe()}],"underline-offset":[{"underline-offset":[Pt,"auto",it,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Te()}],"bg-repeat":[{bg:tt()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gu,it,rt],radial:["",it,rt],conic:[gu,it,rt]},DX,RX]}],"bg-color":[{bg:xe()}],"gradient-from-pos":[{from:Se()}],"gradient-via-pos":[{via:Se()}],"gradient-to-pos":[{to:Se()}],"gradient-from":[{from:xe()}],"gradient-via":[{via:xe()}],"gradient-to":[{to:xe()}],rounded:[{rounded:De()}],"rounded-s":[{"rounded-s":De()}],"rounded-e":[{"rounded-e":De()}],"rounded-t":[{"rounded-t":De()}],"rounded-r":[{"rounded-r":De()}],"rounded-b":[{"rounded-b":De()}],"rounded-l":[{"rounded-l":De()}],"rounded-ss":[{"rounded-ss":De()}],"rounded-se":[{"rounded-se":De()}],"rounded-ee":[{"rounded-ee":De()}],"rounded-es":[{"rounded-es":De()}],"rounded-tl":[{"rounded-tl":De()}],"rounded-tr":[{"rounded-tr":De()}],"rounded-br":[{"rounded-br":De()}],"rounded-bl":[{"rounded-bl":De()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...nt(),"hidden","none"]}],"divide-style":[{divide:[...nt(),"hidden","none"]}],"border-color":[{border:xe()}],"border-color-x":[{"border-x":xe()}],"border-color-y":[{"border-y":xe()}],"border-color-s":[{"border-s":xe()}],"border-color-e":[{"border-e":xe()}],"border-color-t":[{"border-t":xe()}],"border-color-r":[{"border-r":xe()}],"border-color-b":[{"border-b":xe()}],"border-color-l":[{"border-l":xe()}],"divide-color":[{divide:xe()}],"outline-style":[{outline:[...nt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,it,rt]}],"outline-w":[{outline:["",Pt,fm,wc]}],"outline-color":[{outline:xe()}],shadow:[{shadow:["","none",m,Ey,xy]}],"shadow-color":[{shadow:xe()}],"inset-shadow":[{"inset-shadow":["none",p,Ey,xy]}],"inset-shadow-color":[{"inset-shadow":xe()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:xe()}],"ring-offset-w":[{"ring-offset":[Pt,wc]}],"ring-offset-color":[{"ring-offset":xe()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":xe()}],"text-shadow":[{"text-shadow":["none",b,Ey,xy]}],"text-shadow-color":[{"text-shadow":xe()}],opacity:[{opacity:[Pt,it,rt]}],"mix-blend":[{"mix-blend":[...ut(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ut()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ye()}],"mask-image-linear-from-color":[{"mask-linear-from":xe()}],"mask-image-linear-to-color":[{"mask-linear-to":xe()}],"mask-image-t-from-pos":[{"mask-t-from":Ye()}],"mask-image-t-to-pos":[{"mask-t-to":Ye()}],"mask-image-t-from-color":[{"mask-t-from":xe()}],"mask-image-t-to-color":[{"mask-t-to":xe()}],"mask-image-r-from-pos":[{"mask-r-from":Ye()}],"mask-image-r-to-pos":[{"mask-r-to":Ye()}],"mask-image-r-from-color":[{"mask-r-from":xe()}],"mask-image-r-to-color":[{"mask-r-to":xe()}],"mask-image-b-from-pos":[{"mask-b-from":Ye()}],"mask-image-b-to-pos":[{"mask-b-to":Ye()}],"mask-image-b-from-color":[{"mask-b-from":xe()}],"mask-image-b-to-color":[{"mask-b-to":xe()}],"mask-image-l-from-pos":[{"mask-l-from":Ye()}],"mask-image-l-to-pos":[{"mask-l-to":Ye()}],"mask-image-l-from-color":[{"mask-l-from":xe()}],"mask-image-l-to-color":[{"mask-l-to":xe()}],"mask-image-x-from-pos":[{"mask-x-from":Ye()}],"mask-image-x-to-pos":[{"mask-x-to":Ye()}],"mask-image-x-from-color":[{"mask-x-from":xe()}],"mask-image-x-to-color":[{"mask-x-to":xe()}],"mask-image-y-from-pos":[{"mask-y-from":Ye()}],"mask-image-y-to-pos":[{"mask-y-to":Ye()}],"mask-image-y-from-color":[{"mask-y-from":xe()}],"mask-image-y-to-color":[{"mask-y-to":xe()}],"mask-image-radial":[{"mask-radial":[it,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ye()}],"mask-image-radial-from-color":[{"mask-radial-from":xe()}],"mask-image-radial-to-color":[{"mask-radial-to":xe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ye()}],"mask-image-conic-from-color":[{"mask-conic-from":xe()}],"mask-image-conic-to-color":[{"mask-conic-to":xe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Te()}],"mask-repeat":[{mask:tt()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",it,rt]}],filter:[{filter:["","none",it,rt]}],blur:[{blur:un()}],brightness:[{brightness:[Pt,it,rt]}],contrast:[{contrast:[Pt,it,rt]}],"drop-shadow":[{"drop-shadow":["","none",x,Ey,xy]}],"drop-shadow-color":[{"drop-shadow":xe()}],grayscale:[{grayscale:["",Pt,it,rt]}],"hue-rotate":[{"hue-rotate":[Pt,it,rt]}],invert:[{invert:["",Pt,it,rt]}],saturate:[{saturate:[Pt,it,rt]}],sepia:[{sepia:["",Pt,it,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",it,rt]}],"backdrop-blur":[{"backdrop-blur":un()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,it,rt]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,it,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,it,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,it,rt]}],"backdrop-invert":[{"backdrop-invert":["",Pt,it,rt]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,it,rt]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,it,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,it,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",it,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",it,rt]}],ease:[{ease:["linear","initial",D,it,rt]}],delay:[{delay:[Pt,it,rt]}],animate:[{animate:["none",B,it,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,it,rt]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:mt()}],"scale-x":[{"scale-x":mt()}],"scale-y":[{"scale-y":mt()}],"scale-z":[{"scale-z":mt()}],"scale-3d":["scale-3d"],skew:[{skew:yt()}],"skew-x":[{"skew-x":yt()}],"skew-y":[{"skew-y":yt()}],transform:[{transform:[it,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:xe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:xe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it,rt]}],fill:[{fill:["none",...xe()]}],"stroke-w":[{stroke:[Pt,fm,wc,hx]}],stroke:[{stroke:["none",...xe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VX=yX(LX);function qp(...t){return VX(Ht(t))}const uo=({className:t,variant:e="primary",size:n="md",isLoading:r,children:i,disabled:o,...l})=>{const u={primary:"bg-primary-blue text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 dark:shadow-blue-900/20",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 dark:bg-slate-700 dark:text-gray-200 dark:border-slate-600 dark:hover:bg-slate-600",danger:"bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/30 dark:shadow-red-900/20",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-slate-800"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return C.jsxs("button",{className:qp("inline-flex items-center justify-center rounded-xl font-medium transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:pointer-events-none",u[e],f[n],t),disabled:o||r,...l,children:[r?C.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,i]})},Ti=({className:t,children:e,...n})=>C.jsx("div",{className:qp("bg-white dark:bg-card-dark rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-border-subtle dark:border-border-dark overflow-hidden",t),...n,children:e}),nf=({className:t,children:e,...n})=>C.jsx("div",{className:qp("p-6 border-b border-border-subtle dark:border-border-dark",t),...n,children:e}),rf=({className:t,children:e,...n})=>C.jsx("h3",{className:qp("text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",t),...n,children:e}),Ai=({className:t,children:e,...n})=>C.jsx("div",{className:qp("p-6",t),...n,children:e});var zX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aA(t){if(typeof t!="string")return!1;var e=zX;return e.includes(t)}var UX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BX=new Set(UX);function u6(t){return typeof t!="string"?!1:BX.has(t)}function c6(t){return typeof t=="string"&&t.startsWith("data-")}function co(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u6(n)||c6(n))&&(e[n]=t[n]);return e}function Ud(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return co(e)}return typeof t=="object"&&!Array.isArray(t)?co(t):null}function Ci(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u6(n)||c6(n)||aA(n))&&(e[n]=t[n]);return e}function qX(t){return t==null?null:E.isValidElement(t)?Ci(t.props):typeof t=="object"&&!Array.isArray(t)?Ci(t):null}var FX=["children","width","height","viewBox","className","style","title","desc"];function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(null,arguments)}function $X(t,e){if(t==null)return{};var n,r,i=KX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oA=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=t,m=$X(t,FX),p=o||{width:r,height:i,x:0,y:0},b=Ht("recharts-surface",l);return E.createElement("svg",V1({},Ci(m),{className:b,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),E.createElement("title",null,f),E.createElement("desc",null,d),n)}),HX=["children","className"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function GX(t,e){if(t==null)return{};var n,r,i=WX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ra=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=GX(t,HX),o=Ht("recharts-layer",r);return E.createElement("g",z1({className:o},Ci(i),{ref:e}),n)}),f6=E.createContext(null),YX=()=>E.useContext(f6);function bn(t){return function(){return t}}const d6=Math.cos,zv=Math.sin,Vo=Math.sqrt,Uv=Math.PI,fb=2*Uv,U1=Math.PI,B1=2*U1,Tc=1e-6,QX=B1-Tc;function h6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return h6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?h6:XX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,m=l-e,p=u-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Tc)if(!(Math.abs(p*f-d*m)>Tc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,T=i-u,A=f*f+d*d,O=x*x+T*T,D=Math.sqrt(A),B=Math.sqrt(b),M=o*Math.tan((U1-Math.acos((A+b-O)/(2*D*B)))/2),Y=M/B,W=M/D;Math.abs(Y-1)>Tc&&this._append`L${e+Y*m},${n+Y*p}`,this._append`A${o},${o},0,0,${+(p*x>m*T)},${this._x1=e+W*f},${this._y1=n+W*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,m=n+f,p=1^l,b=l?i-o:o-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>Tc||Math.abs(this._y1-m)>Tc)&&this._append`L${d},${m}`,r&&(b<0&&(b=b%B1+B1),b>QX?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:b>Tc&&this._append`A${r},${r},0,${+(b>=U1)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZX(e)}function lA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function db(t){return new m6(t)}function p6(t){return t[0]}function g6(t){return t[1]}function y6(t,e){var n=bn(!0),r=null,i=db,o=null,l=sA(u);t=typeof t=="function"?t:t===void 0?p6:bn(t),e=typeof e=="function"?e:e===void 0?g6:bn(e);function u(f){var d,m=(f=lA(f)).length,p,b=!1,x;for(r==null&&(o=i(x=l())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+t(p,d,f),+e(p,d,f));if(x)return o=null,x+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bn(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bn(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:bn(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Sy(t,e,n){var r=null,i=bn(!0),o=null,l=db,u=null,f=sA(d);t=typeof t=="function"?t:t===void 0?p6:bn(+t),e=typeof e=="function"?e:bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?g6:bn(+n);function d(p){var b,x,T,A=(p=lA(p)).length,O,D=!1,B,M=new Array(A),Y=new Array(A);for(o==null&&(u=l(B=f())),b=0;b<=A;++b){if(!(b<A&&i(O=p[b],b,p))===D)if(D=!D)x=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=b-1;T>=x;--T)u.point(M[T],Y[T]);u.lineEnd(),u.areaEnd()}D&&(M[b]=+t(O,b,p),Y[b]=+e(O,b,p),u.point(r?+r(O,b,p):M[b],n?+n(O,b,p):Y[b]))}if(B)return u=null,B+""||null}function m(){return y6().defined(i).curve(l).context(o)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:bn(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:bn(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:bn(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:bn(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:bn(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:bn(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:bn(!!p),d):i},d.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),d):l},d.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),d):o},d}class v6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function JX(t){return new v6(t,!0)}function eZ(t){return new v6(t,!1)}const uA={draw(t,e){const n=Vo(e/Uv);t.moveTo(n,0),t.arc(0,0,n,0,fb)}},tZ={draw(t,e){const n=Vo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},b6=Vo(1/3),nZ=b6*2,rZ={draw(t,e){const n=Vo(e/nZ),r=n*b6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iZ={draw(t,e){const n=Vo(e),r=-n/2;t.rect(r,r,n,n)}},aZ=.8908130915292852,_6=zv(Uv/10)/zv(7*Uv/10),oZ=zv(fb/10)*_6,sZ=-d6(fb/10)*_6,lZ={draw(t,e){const n=Vo(e*aZ),r=oZ*n,i=sZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=fb*o/5,u=d6(l),f=zv(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},mx=Vo(3),uZ={draw(t,e){const n=-Vo(e/(mx*3));t.moveTo(0,n*2),t.lineTo(-mx*n,-n),t.lineTo(mx*n,-n),t.closePath()}},ro=-.5,io=Vo(3)/2,q1=1/Vo(12),cZ=(q1/2+1)*3,fZ={draw(t,e){const n=Vo(e/cZ),r=n/2,i=n*q1,o=r,l=n*q1+n,u=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(u,f),t.lineTo(ro*r-io*i,io*r+ro*i),t.lineTo(ro*o-io*l,io*o+ro*l),t.lineTo(ro*u-io*f,io*u+ro*f),t.lineTo(ro*r+io*i,ro*i-io*r),t.lineTo(ro*o+io*l,ro*l-io*o),t.lineTo(ro*u+io*f,ro*f-io*u),t.closePath()}};function dZ(t,e){let n=null,r=sA(i);t=typeof t=="function"?t:bn(t||uA),e=typeof e=="function"?e:bn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Bv(){}function qv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function w6(t){this._context=t}w6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hZ(t){return new w6(t)}function x6(t){this._context=t}x6.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mZ(t){return new x6(t)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pZ(t){return new E6(t)}function S6(t){this._context=t}S6.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gZ(t){return new S6(t)}function P2(t){return t<0?-1:1}function C2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(P2(o)+P2(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function R2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function px(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function Fv(t){this._context=t}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:px(this,this._t0,R2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,px(this,R2(this,n=C2(this,t,e)),n);break;default:px(this,this._t0,n=C2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function T6(t){this._context=new A6(t)}(T6.prototype=Object.create(Fv.prototype)).point=function(t,e){Fv.prototype.point.call(this,e,t)};function A6(t){this._context=t}A6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function yZ(t){return new Fv(t)}function vZ(t){return new T6(t)}function I6(t){this._context=t}I6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=k2(t),i=k2(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function k2(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function bZ(t){return new I6(t)}function hb(t,e){this._context=t,this._t=e}hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _Z(t){return new hb(t,.5)}function wZ(t){return new hb(t,0)}function xZ(t){return new hb(t,1)}function Bd(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function F1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function EZ(t,e){return t[e]}function SZ(t){const e=[];return e.key=t,e}function TZ(){var t=bn([]),e=F1,n=Bd,r=EZ;function i(o){var l=Array.from(t.apply(this,arguments),SZ),u,f=l.length,d=-1,m;for(const p of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(p,l[u].key,d,o)]).data=p;for(u=0,m=lA(e(l));u<f;++u)l[m[u]].index=u;return n(l,m),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?F1:typeof o=="function"?o:bn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Bd,i):n},i}function AZ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Bd(t,e)}}function IZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Bd(t,e)}}function OZ(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var m=t[e[u]],p=m[r][1]||0,b=m[r-1][1]||0,x=(p-b)/2,T=0;T<u;++T){var A=t[e[T]],O=A[r][1]||0,D=A[r-1][1]||0;x+=O-D}f+=p,d+=x*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Bd(t,e)}}var gx={},yx={},N2;function PZ(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(yx)),yx}var vx={},D2;function O6(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vx)),vx}var bx={},M2;function cA(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(bx)),bx}var _x={},wx={},j2;function CZ(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(wx)),wx}var L2;function fA(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ(),n=cA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",m=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const p=i[u];d?p==="\\"&&u+1<l?(u++,f+=i[u]):p===d?d="":f+=p:m?p==='"'||p==="'"?d=p:p==="]"?(m=!1,o.push(f),f=""):f+=p:p==="["?(m=!0,f&&(o.push(f),f="")):p==="."?f&&(o.push(f),f=""):f+=p,u++}return f&&o.push(f),o}t.toPath=r})(_x)),_x}var V2;function dA(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PZ(),n=O6(),r=cA(),i=fA();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?d:m}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?d:m}}}function l(u,f,d){if(f.length===0)return d;let m=u;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return d;m=m[f[p]]}return m===void 0?d:m}t.get=o})(gx)),gx}var xx,z2;function RZ(){return z2||(z2=1,xx=dA().get),xx}var kZ=RZ();const af=bs(kZ);var gi=t=>t===0?0:t>0?1:-1,ps=t=>typeof t=="number"&&t!=+t,fl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ct=t=>(typeof t=="number"||t instanceof Number)&&!ps(t),gs=t=>ct(t)||typeof t=="string",NZ=0,lp=t=>{var e=++NZ;return"".concat(t||"").concat(e)},Na=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ct(e)&&typeof e!="string")return r;var o;if(fl(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return ps(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},P6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function pi(t,e,n){return ct(t)&&ct(e)?t+n*(e-t):e}function C6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):af(r,e))===n)}var Ir=t=>t===null||typeof t>"u",Fp=t=>Ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function DZ(t){return t!=null}function $p(){}var MZ=["type","size","sizeType"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=LZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=VZ(t,"string");return typeof e=="symbol"?e:e+""}function VZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zZ(t,e){if(t==null)return{};var n,r,i=UZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R6={symbolCircle:uA,symbolCross:tZ,symbolDiamond:rZ,symbolSquare:iZ,symbolStar:lZ,symbolTriangle:uZ,symbolWye:fZ},BZ=Math.PI/180,qZ=t=>{var e="symbol".concat(Fp(t));return R6[e]||uA},FZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*BZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$Z=(t,e)=>{R6["symbol".concat(Fp(t))]=e},hA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zZ(t,MZ),o=B2(B2({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=qZ(l),x=dZ().type(b).size(FZ(n,r,l)),T=x();if(T!==null)return T},{className:f,cx:d,cy:m}=o,p=Ci(o);return ct(d)&&ct(m)&&ct(n)?E.createElement("path",$1({},p,{className:Ht("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:u()})):null};hA.registerSymbol=$Z;var k6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,mA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{aA(i)&&(r[i]=(o=>n[i](n,o)))}),r},KZ=(t,e,n)=>r=>(t(e,n,r),null),pA=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];aA(i)&&typeof o=="function"&&(r||(r={}),r[i]=KZ(o,e,n))}),r};function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){GZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=YZ(t,"string");return typeof e=="symbol"?e:e+""}function YZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cr(t,e){var n=HZ({},t),r=e,i=Object.keys(e),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){XZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XZ(t,e,n){return(e=ZZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=JZ(t,"string");return typeof e=="symbol"?e:e+""}function JZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oo=32,eJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function tJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=oo/2,o=oo/6,l=oo/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var d;return E.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:oo,y2:i,className:"recharts-legend-icon"})}if(f==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(oo,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return E.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(oo/8,"h").concat(oo,"v").concat(oo*3/4,"h").concat(-oo,"z"),className:"recharts-legend-icon"});if(E.isValidElement(e.legendIcon)){var m=QZ({},e);return delete m.legendIcon,E.cloneElement(e.legendIcon,m)}return E.createElement(hA,{fill:u,cx:i,cy:i,size:oo,sizeType:"diameter",type:f})}function nJ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=t,u={x:0,y:0,width:oo,height:oo},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var b=m.formatter||i,x=Ht({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var T=m.inactive?o:m.color,A=b?b(m.value,m,p):m.value;return E.createElement("li",$v({className:x,style:f,key:"legend-item-".concat(p)},pA(t,m,p)),E.createElement(oA,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(A," legend icon")},E.createElement(tJ,{data:m,iconType:l,inactiveColor:o})),E.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},A))})}var rJ=t=>{var e=Cr(t,eJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:o},E.createElement(nJ,$v({},e,{payload:n})))},Ex={},Sx={},$2;function iJ(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Sx)),Sx}var Tx={},K2;function N6(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Tx)),Tx}var Ax={},Ix={},Ox={},H2;function aJ(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ox)),Ox}var G2;function gA(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Ix)),Ix}var Px={},W2;function oJ(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Px)),Px}var Y2;function sJ(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gA(),n=oJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Ax)),Ax}var Cx={},Rx={},Q2;function lJ(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Rx)),Rx}var kx={},Nx={},Dx={},Mx={},X2;function D6(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Mx)),Mx}var jx={},Z2;function M6(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jx)),jx}var Lx={},J2;function j6(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lx)),Lx}var eN;function uJ(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D6(),n=M6(),r=j6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):o(m,p,function x(T,A,O,D,B,M){const Y=b(T,A,O,D,B,M);return Y!==void 0?!!Y:o(T,A,x,M)},new Map)}function o(m,p,b,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,x);case"function":return Object.keys(p).length>0?o(m,{...p},b,x):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,x){if(p==null)return!0;if(Array.isArray(p))return f(m,p,b,x);if(p instanceof Map)return u(m,p,b,x);if(p instanceof Set)return d(m,p,b,x);const T=Object.keys(p);if(m==null||n.isPrimitive(m))return T.length===0;if(T.length===0)return!0;if(x?.has(p))return x.get(p)===m;x?.set(p,m);try{for(let A=0;A<T.length;A++){const O=T[A];if(!n.isPrimitive(m)&&!(O in m)||p[O]===void 0&&m[O]!==void 0||p[O]===null&&m[O]!==null||!b(m[O],p[O],O,m,p,x))return!1}return!0}finally{x?.delete(p)}}function u(m,p,b,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[T,A]of p.entries()){const O=m.get(T);if(b(O,A,T,m,p,x)===!1)return!1}return!0}function f(m,p,b,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const T=new Set;for(let A=0;A<p.length;A++){const O=p[A];let D=!1;for(let B=0;B<m.length;B++){if(T.has(B))continue;const M=m[B];let Y=!1;if(b(M,O,A,m,p,x)&&(Y=!0),Y){T.add(B),D=!0;break}}if(!D)return!1}return!0}function d(m,p,b,x){return p.size===0?!0:m instanceof Set?f([...m],[...p],b,x):!1}t.isMatchWith=i,t.isSetMatch=d})(Dx)),Dx}var tN;function L6(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Nx)),Nx}var Vx={},zx={},Ux={},nN;function cJ(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ux)),Ux}var Bx={},rN;function V6(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Bx)),Bx}var qx={},iN;function z6(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",T="[object Error]",A="[object DataView]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",B="[object Uint16Array]",M="[object Uint32Array]",Y="[object BigUint64Array]",W="[object Int8Array]",X="[object Int16Array]",j="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=Y,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=z,t.float64ArrayTag=G,t.functionTag=p,t.int16ArrayTag=X,t.int32ArrayTag=j,t.int8ArrayTag=W,t.mapTag=f,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=B,t.uint32ArrayTag=M,t.uint8ArrayTag=O,t.uint8ClampedArrayTag=D})(qx)),qx}var Fx={},aN;function fJ(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Fx)),Fx}var oN;function U6(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ(),n=V6(),r=z6(),i=M6(),o=fJ();function l(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,b,x=new Map,T=void 0){const A=T?.(m,p,b,x);if(A!==void 0)return A;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const O=new Array(m.length);x.set(m,O);for(let D=0;D<m.length;D++)O[D]=u(m[D],D,b,x,T);return Object.hasOwn(m,"index")&&(O.index=m.index),Object.hasOwn(m,"input")&&(O.input=m.input),O}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const O=new RegExp(m.source,m.flags);return O.lastIndex=m.lastIndex,O}if(m instanceof Map){const O=new Map;x.set(m,O);for(const[D,B]of m)O.set(D,u(B,D,b,x,T));return O}if(m instanceof Set){const O=new Set;x.set(m,O);for(const D of m)O.add(u(D,void 0,b,x,T));return O}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const O=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,O);for(let D=0;D<m.length;D++)O[D]=u(m[D],D,b,x,T);return O}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const O=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,O),f(O,m,b,x,T),O}if(typeof File<"u"&&m instanceof File){const O=new File([m],m.name,{type:m.type});return x.set(m,O),f(O,m,b,x,T),O}if(typeof Blob<"u"&&m instanceof Blob){const O=new Blob([m],{type:m.type});return x.set(m,O),f(O,m,b,x,T),O}if(m instanceof Error){const O=new m.constructor;return x.set(m,O),O.message=m.message,O.name=m.name,O.stack=m.stack,O.cause=m.cause,f(O,m,b,x,T),O}if(m instanceof Boolean){const O=new Boolean(m.valueOf());return x.set(m,O),f(O,m,b,x,T),O}if(m instanceof Number){const O=new Number(m.valueOf());return x.set(m,O),f(O,m,b,x,T),O}if(m instanceof String){const O=new String(m.valueOf());return x.set(m,O),f(O,m,b,x,T),O}if(typeof m=="object"&&d(m)){const O=Object.create(Object.getPrototypeOf(m));return x.set(m,O),f(O,m,b,x,T),O}return m}function f(m,p,b=m,x,T){const A=[...Object.keys(p),...e.getSymbols(p)];for(let O=0;O<A.length;O++){const D=A[O],B=Object.getOwnPropertyDescriptor(m,D);(B==null||B.writable)&&(m[D]=u(p[D],D,b,x,T))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(zx)),zx}var sN;function dJ(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Vx)),Vx}var lN;function hJ(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6(),n=dJ();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(kx)),kx}var $x={},Kx={},Hx={},uN;function mJ(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6(),n=z6();function r(i,o){return e.cloneDeepWith(i,(l,u,f,d)=>{const m=o?.(l,u,f,d);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Hx)),Hx}var cN;function pJ(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Kx)),Kx}var Gx={},Wx={},fN;function B6(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Wx)),Wx}var Yx={},dN;function gJ(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Yx)),Yx}var hN;function yJ(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=B6(),r=gJ(),i=fA();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let m=0;m<f.length;m++){const p=f[m];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=o})(Gx)),Gx}var mN;function vJ(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6(),n=cA(),r=pJ(),i=dA(),o=yJ();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,u);return m===void 0?o.has(d,u):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=l})($x)),$x}var pN;function bJ(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=lJ(),r=hJ(),i=vJ();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Cx)),Cx}var gN;function _J(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iJ(),n=N6(),r=sJ(),i=bJ();function o(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=o})(Ex)),Ex}var Qx,yN;function wJ(){return yN||(yN=1,Qx=_J().uniqBy),Qx}var xJ=wJ();const vN=bs(xJ);function q6(t,e,n){return e===!0?vN(t,n):typeof e=="function"?vN(t,e):t}var Xx={exports:{}},Zx={},Jx={exports:{}},eE={};var bN;function EJ(){if(bN)return eE;bN=1;var t=Qd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(p,b){var x=b(),T=r({inst:{value:x,getSnapshot:b}}),A=T[0].inst,O=T[1];return o(function(){A.value=x,A.getSnapshot=b,f(A)&&O({inst:A})},[p,x,b]),i(function(){return f(A)&&O({inst:A}),p(function(){f(A)&&O({inst:A})})},[p]),l(x),x}function f(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function d(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return eE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,eE}var _N;function SJ(){return _N||(_N=1,Jx.exports=EJ()),Jx.exports}var wN;function TJ(){if(wN)return Zx;wN=1;var t=Qd(),e=SJ();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(d,m,p,b,x){var T=o(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=u(function(){function D(X){if(!B){if(B=!0,M=X,X=b(X),x!==void 0&&A.hasValue){var j=A.value;if(x(j,X))return Y=j}return Y=X}if(j=Y,r(M,X))return j;var L=b(X);return x!==void 0&&x(j,L)?(M=X,j):(M=X,Y=L)}var B=!1,M,Y,W=p===void 0?null:p;return[function(){return D(m())},W===null?void 0:function(){return D(W())}]},[m,p,b,x]);var O=i(d,T[0],T[1]);return l(function(){A.hasValue=!0,A.value=O},[O]),f(O),O},Zx}var xN;function AJ(){return xN||(xN=1,Xx.exports=TJ()),Xx.exports}var IJ=AJ(),yA=E.createContext(null),OJ=t=>t,wn=()=>{var t=E.useContext(yA);return t?t.store.dispatch:OJ},iv=()=>{},PJ=()=>iv,CJ=(t,e)=>t===e;function at(t){var e=E.useContext(yA);return IJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:PJ,e?e.store.getState:iv,e?e.store.getState:iv,e?t:iv,CJ)}function RJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function kJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function NJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var EN=t=>Array.isArray(t)?t:[t];function DJ(t){const e=Array.isArray(t[0])?t[0]:t;return NJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function MJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jJ=class{constructor(t){this.value=t}deref(){return this.value}},LJ=typeof WeakRef<"u"?WeakRef:jJ,VJ=0,SN=1;function Ty(){return{s:VJ,v:void 0,o:null,p:null}}function F6(t,e={}){let n=Ty();const{resultEqualityCheck:r}=e;let i,o=0;function l(){let u=n;const{length:f}=arguments;for(let p=0,b=f;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const A=T.get(x);A===void 0?(u=Ty(),T.set(x,u)):u=A}else{let T=u.p;T===null&&(u.p=T=new Map);const A=T.get(x);A===void 0?(u=Ty(),T.set(x,u)):u=A}}const d=u;let m;if(u.s===SN)m=u.v;else if(m=t.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,o!==0&&o--),i=typeof m=="object"&&m!==null||typeof m=="function"?new LJ(m):m}return d.s=SN,d.v=m,m}return l.clearCache=()=>{n=Ty(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function zJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),RJ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:p,memoizeOptions:b=[],argsMemoize:x=F6,argsMemoizeOptions:T=[]}=m,A=EN(b),O=EN(T),D=DJ(i),B=p(function(){return o++,d.apply(null,arguments)},...A),M=x(function(){l++;const W=MJ(D,arguments);return u=B.apply(null,W),u},...O);return Object.assign(M,{resultFunc:d,memoizedResultFunc:B,dependencies:D,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var _e=zJ(F6),UJ=Object.assign((t,e=_e)=>{kJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>UJ}),tE={},nE={},rE={},TN;function BJ(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(rE)),rE}var iE={},aE={},AN;function $6(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(aE)),aE}var IN;function qJ(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(iE)),iE}var ON;function FJ(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ(),n=qJ(),r=fA();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const d=(x,T)=>{let A=x;for(let O=0;O<T.length&&A!=null;++O)A=A[T[O]];return A},m=(x,T)=>T==null||x==null?T:typeof x=="object"&&"key"in x?Object.hasOwn(T,x.key)?T[x.key]:d(T,x.path):typeof x=="function"?x(T):Array.isArray(x)?d(T,x):typeof T=="object"?T[x]:T,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:p.map(T=>m(T,x))})).slice().sort((x,T)=>{for(let A=0;A<p.length;A++){const O=e.compareValues(x.criteria[A],T.criteria[A],u[A]);if(O!==0)return O}return 0}).map(x=>x.original)}t.orderBy=i})(nE)),nE}var oE={},PN;function $J(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const m=u[d];Array.isArray(m)&&f<o?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(oE)),oE}var sE={},CN;function K6(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B6(),n=gA(),r=D6(),i=j6();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=o})(sE)),sE}var RN;function KJ(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FJ(),n=$J(),r=K6();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(tE)),tE}var lE,kN;function HJ(){return kN||(kN=1,lE=KJ().sortBy),lE}var GJ=HJ();const mb=bs(GJ);var H6=t=>t.legend.settings,WJ=t=>t.legend.size,YJ=t=>t.legend.payload,QJ=_e([YJ,H6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?mb(r,n):r});function XJ(){return at(QJ)}var Ay=1;function G6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Ay||Math.abs(l.left-e.left)>Ay||Math.abs(l.top-e.top)>Ay||Math.abs(l.width-e.width)>Ay)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ei(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",NN=ZJ,uE=()=>Math.random().toString(36).substring(7).split("").join("."),JJ={INIT:`@@redux/INIT${uE()}`,REPLACE:`@@redux/REPLACE${uE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uE()}`},Kv=JJ;function vA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W6(t,e,n){if(typeof t!="function")throw new Error(ei(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ei(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ei(1));return n(W6)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((O,D)=>{l.set(D,O)}))}function m(){if(f)throw new Error(ei(3));return i}function p(O){if(typeof O!="function")throw new Error(ei(4));if(f)throw new Error(ei(5));let D=!0;d();const B=u++;return l.set(B,O),function(){if(D){if(f)throw new Error(ei(6));D=!1,d(),l.delete(B),o=null}}}function b(O){if(!vA(O))throw new Error(ei(7));if(typeof O.type>"u")throw new Error(ei(8));if(typeof O.type!="string")throw new Error(ei(17));if(f)throw new Error(ei(9));try{f=!0,i=r(i,O)}finally{f=!1}return(o=l).forEach(B=>{B()}),O}function x(O){if(typeof O!="function")throw new Error(ei(10));r=O,b({type:Kv.REPLACE})}function T(){const O=p;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(ei(11));function B(){const Y=D;Y.next&&Y.next(m())}return B(),{unsubscribe:O(B)}},[NN](){return this}}}return b({type:Kv.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:x,[NN]:T}}function eee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Kv.INIT})>"u")throw new Error(ei(12));if(typeof n(void 0,{type:Kv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ei(13))})}function Y6(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{eee(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],x=l[p],T=b(x,u);if(typeof T>"u")throw u&&u.type,new Error(ei(14));d[p]=T,f=f||T!==x}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Hv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tee(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(ei(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=t.map(f=>f(l));return o=Hv(...u)(i.dispatch),{...i,dispatch:o}}}function Q6(t){return vA(t)&&"type"in t&&typeof t.type=="string"}var X6=Symbol.for("immer-nothing"),DN=Symbol.for("immer-draftable"),Ri=Symbol.for("immer-state");function Co(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ra=Object,qd=Ra.getPrototypeOf,Gv="constructor",pb="prototype",K1="configurable",Wv="enumerable",av="writable",up="value",dl=t=>!!t&&!!t[Ri];function jo(t){return t?Z6(t)||gb(t)||!!t[DN]||!!t[Gv]?.[DN]||yb(t)||vb(t):!1}var nee=Ra[pb][Gv].toString(),MN=new WeakMap;function Z6(t){if(!t||!bA(t))return!1;const e=qd(t);if(e===null||e===Ra[pb])return!0;const n=Ra.hasOwnProperty.call(e,Gv)&&e[Gv];if(n===Object)return!0;if(!ud(n))return!1;let r=MN.get(n);return r===void 0&&(r=Function.toString.call(n),MN.set(n,r)),r===nee}function Kp(t,e,n=!0){Hp(t)===0?(n?Reflect.ownKeys(t):Ra.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Hp(t){const e=t[Ri];return e?e.type_:gb(t)?1:yb(t)?2:vb(t)?3:0}var jN=(t,e,n=Hp(t))=>n===2?t.has(e):Ra[pb].hasOwnProperty.call(t,e),H1=(t,e,n=Hp(t))=>n===2?t.get(e):t[e],Yv=(t,e,n,r=Hp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ree(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var gb=Array.isArray,yb=t=>t instanceof Map,vb=t=>t instanceof Set,bA=t=>typeof t=="object",ud=t=>typeof t=="function",cE=t=>typeof t=="boolean",Ys=t=>t.copy_||t.base_,_A=t=>t.modified_?t.copy_:t.base_;function G1(t,e){if(yb(t))return new Map(t);if(vb(t))return new Set(t);if(gb(t))return Array[pb].slice.call(t);const n=Z6(t);if(e===!0||e==="class_only"&&!n){const r=Ra.getOwnPropertyDescriptors(t);delete r[Ri];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[av]===!1&&(u[av]=!0,u[K1]=!0),(u.get||u.set)&&(r[l]={[K1]:!0,[av]:!0,[Wv]:u[Wv],[up]:t[l]})}return Ra.create(qd(t),r)}else{const r=qd(t);if(r!==null&&n)return{...t};const i=Ra.create(r);return Ra.assign(i,t)}}function wA(t,e=!1){return bb(t)||dl(t)||!jo(t)||(Hp(t)>1&&Ra.defineProperties(t,{set:Iy,add:Iy,clear:Iy,delete:Iy}),Ra.freeze(t),e&&Kp(t,(n,r)=>{wA(r,!0)},!1)),t}function iee(){Co(2)}var Iy={[up]:iee};function bb(t){return t===null||!bA(t)?!0:Ra.isFrozen(t)}var Qv="MapSet",W1="Patches",J6={};function Fd(t){const e=J6[t];return e||Co(0,t),e}var aee=t=>!!J6[t],cp,ez=()=>cp,oee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aee(Qv)?Fd(Qv):void 0});function LN(t,e){e&&(t.patchPlugin_=Fd(W1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Y1(t){Q1(t),t.drafts_.forEach(see),t.drafts_=null}function Q1(t){t===cp&&(cp=t.parent_)}var VN=t=>cp=oee(cp,t);function see(t){const e=t[Ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ri].modified_&&(Y1(e),Co(4)),jo(t)&&(t=UN(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ri].base_,t,e)}else t=UN(e,n);return lee(e,t,!0),Y1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X6?t:void 0}function UN(t,e){if(bb(e))return e;const n=e[Ri];if(!n)return xA(e,t.handledSet_,t);if(!_b(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);rz(n,t)}return n.copy_}function lee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wA(e,n)}function tz(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var _b=(t,e)=>t.scope_===e,uee=[];function nz(t,e,n,r){const i=Ys(t),o=t.type_;if(r!==void 0&&H1(i,r,o)===e){Yv(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Kp(i,(f,d)=>{if(dl(d)){const m=u.get(d)||[];m.push(f),u.set(d,m)}})}const l=t.draftLocations_.get(e)??uee;for(const u of l)Yv(i,u,n,o)}function cee(t,e,n){t.callbacks_.push(function(i){const o=e;if(!o||!_b(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const l=_A(o);nz(t,o.draft_??o,l,n),rz(o,i)})}function rz(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}tz(t)}}function fee(t,e,n){const{scope_:r}=t;if(dl(n)){const i=n[Ri];_b(i,r)&&i.callbacks_.push(function(){ov(t);const l=_A(i);nz(t,n,l,e)})}else jo(n)&&t.callbacks_.push(function(){const o=Ys(t);H1(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&xA(H1(t.copy_,e,t.type_),r.handledSet_,r)})}function xA(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||dl(t)||e.has(t)||!jo(t)||bb(t)||(e.add(t),Kp(t,(r,i)=>{if(dl(i)){const o=i[Ri];if(_b(o,n)){const l=_A(o);Yv(t,r,l,t.type_),tz(o)}}else jo(i)&&xA(i,e,n)})),t}function dee(t,e){const n=gb(t),r={type_:n?1:0,scope_:e?e.scope_:ez(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=EA;n&&(i=[r],o=fp);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var EA={get(t,e){if(e===Ri)return t;const n=Ys(t);if(!jN(n,e,t.type_))return hee(t,n,e);const r=n[e];if(t.finalized_||!jo(r))return r;if(r===fE(t.base_,e)){ov(t);const i=t.type_===1?+e:e,o=Z1(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in Ys(t)},ownKeys(t){return Reflect.ownKeys(Ys(t))},set(t,e,n){const r=iz(Ys(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=fE(Ys(t),e),o=i?.[Ri];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ree(n,i)&&(n!==void 0||jN(t.base_,e,t.type_)))return!0;ov(t),X1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),fee(t,e,n)),!0},deleteProperty(t,e){return ov(t),fE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),X1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[av]:!0,[K1]:t.type_!==1||e!=="length",[Wv]:r[Wv],[up]:n[e]}},defineProperty(){Co(11)},getPrototypeOf(t){return qd(t.base_)},setPrototypeOf(){Co(12)}},fp={};Kp(EA,(t,e)=>{fp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});fp.deleteProperty=function(t,e){return fp.set.call(this,t,e,void 0)};fp.set=function(t,e,n){return EA.set.call(this,t[0],e,n,t[0])};function fE(t,e){const n=t[Ri];return(n?Ys(n):t)[e]}function hee(t,e,n){const r=iz(e,n);return r?up in r?r[up]:r.get?.call(t.draft_):void 0}function iz(t,e){if(!(e in t))return;let n=qd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qd(n)}}function X1(t){t.modified_||(t.modified_=!0,t.parent_&&X1(t.parent_))}function ov(t){t.copy_||(t.assigned_=new Map,t.copy_=G1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ud(n)&&!ud(r)){const l=r;r=n;const u=this;return function(d=l,...m){return u.produce(d,p=>r.call(this,p,...m))}}ud(r)||Co(6),i!==void 0&&!ud(i)&&Co(7);let o;if(jo(n)){const l=VN(this),u=Z1(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?Y1(l):Q1(l)}return LN(l,i),zN(o,l)}else if(!n||!bA(n)){if(o=r(n),o===void 0&&(o=n),o===X6&&(o=void 0),this.autoFreeze_&&wA(o,!0),i){const l=[],u=[];Fd(W1).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Co(1,n)},this.produceWithPatches=(n,r)=>{if(ud(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},cE(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),cE(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),cE(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){jo(e)||Co(8),dl(e)&&(e=Do(e));const n=VN(this),r=Z1(n,e,void 0);return r[Ri].isManual_=!0,Q1(n),r}finishDraft(e,n){const r=e&&e[Ri];(!r||!r.isManual_)&&Co(9);const{scope_:i}=r;return LN(i,n),zN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Fd(W1).applyPatches_;return dl(e)?i(e,n):this.produce(e,o=>i(o,n))}};function Z1(t,e,n,r){const[i,o]=yb(e)?Fd(Qv).proxyMap_(e,n):vb(e)?Fd(Qv).proxySet_(e,n):dee(e,n);return(n?.scope_??ez()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?cee(n,o,r):o.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Do(t){return dl(t)||Co(10,t),az(t)}function az(t){if(!jo(t)||bb(t))return t;const e=t[Ri];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=G1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=G1(t,!0);return Kp(n,(i,o)=>{Yv(n,i,az(o))},r),e&&(e.finalized_=!1),n}var pee=new mee,oz=pee.produce;function sz(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var gee=sz(),yee=sz,vee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hv:Hv.apply(null,arguments)};function fo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Da(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Q6(r)&&r.type===t,n}var lz=class Om extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Om.prototype)}static get[Symbol.species](){return Om}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Om(...e[0].concat(this)):new Om(...e.concat(this))}};function BN(t){return jo(t)?oz(t,()=>{}):t}function Oy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function bee(t){return typeof t=="boolean"}var _ee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new lz;return n&&(bee(n)?l.push(gee):l.push(yee(n.extraArgument))),l},uz="RTK_autoBatch",Cn=()=>t=>({payload:t,meta:{[uz]:!0}}),qN=t=>e=>{setTimeout(e,t)},cz=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qN(10):t.type==="callback"?t.queueNotification:qN(t.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return u.add(m),()=>{b(),u.delete(m)}},dispatch(m){try{return i=!m?.meta?.[uz],o=!i,o&&(l||(l=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},wee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new lz(t);return r&&i.push(cz(typeof r=="object"?r:void 0)),i};function xee(t){const e=_ee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(vA(n))u=Y6(n);else throw new Error(Da(1));let f;typeof r=="function"?f=r(e):f=e();let d=Hv;i&&(d=vee({trace:!1,...typeof i=="object"&&i}));const m=tee(...f),p=wee(m);let b=typeof l=="function"?l(p):p();const x=d(...b);return W6(u,o,x)}function fz(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Da(28));if(u in e)throw new Error(Da(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Eee(t){return typeof t=="function"}function See(t,e){let[n,r,i]=fz(e),o;if(Eee(t))o=()=>BN(t());else{const u=BN(t);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,p)=>{if(p)if(dl(m)){const x=p(m,f);return x===void 0?m:x}else{if(jo(m))return oz(m,b=>p(b,f));{const b=p(m,f);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},u)}return l.getInitialState=o,l}var Tee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Aee=(t=21)=>{let e="",n=t;for(;n--;)e+=Tee[Math.random()*64|0];return e},Iee=Symbol.for("rtk-slice-createasyncthunk");function Oee(t,e){return`${t}/${e}`}function Pee({creators:t}={}){const e=t?.asyncThunk?.[Iee];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Da(11));const l=(typeof r.reducers=="function"?r.reducers(Ree()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(M,Y){const W=typeof M=="string"?M:M.type;if(!W)throw new Error(Da(12));if(W in f.sliceCaseReducersByType)throw new Error(Da(13));return f.sliceCaseReducersByType[W]=Y,d},addMatcher(M,Y){return f.sliceMatchers.push({matcher:M,reducer:Y}),d},exposeAction(M,Y){return f.actionCreators[M]=Y,d},exposeCaseReducer(M,Y){return f.sliceCaseReducersByName[M]=Y,d}};u.forEach(M=>{const Y=l[M],W={reducerName:M,type:Oee(i,M),createNotation:typeof r.reducers=="function"};Nee(Y)?Mee(W,Y,d,e):kee(W,Y,d)});function m(){const[M={},Y=[],W=void 0]=typeof r.extraReducers=="function"?fz(r.extraReducers):[r.extraReducers],X={...M,...f.sliceCaseReducersByType};return See(r.initialState,j=>{for(let L in X)j.addCase(L,X[L]);for(let L of f.sliceMatchers)j.addMatcher(L.matcher,L.reducer);for(let L of Y)j.addMatcher(L.matcher,L.reducer);W&&j.addDefaultCase(W)})}const p=M=>M,b=new Map,x=new WeakMap;let T;function A(M,Y){return T||(T=m()),T(M,Y)}function O(){return T||(T=m()),T.getInitialState()}function D(M,Y=!1){function W(j){let L=j[M];return typeof L>"u"&&Y&&(L=Oy(x,W,O)),L}function X(j=p){const L=Oy(b,Y,()=>new WeakMap);return Oy(L,j,()=>{const z={};for(const[G,q]of Object.entries(r.selectors??{}))z[G]=Cee(q,j,()=>Oy(x,j,O),Y);return z})}return{reducerPath:M,getSelectors:X,get selectors(){return X(W)},selectSlice:W}}const B={name:i,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:O,...D(o),injectInto(M,{reducerPath:Y,...W}={}){const X=Y??o;return M.inject({reducerPath:X,reducer:A},W),{...B,...D(X,!0)}}};return B}}function Cee(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ia=Pee();function Ree(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kee({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!Dee(r))throw new Error(Da(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?fo(t,l):fo(t))}function Nee(t){return t._reducerDefinitionType==="asyncThunk"}function Dee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Mee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Da(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:m}=n,p=i(t,o,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Py,pending:u||Py,rejected:f||Py,settled:d||Py})}function Py(){}var jee="task",dz="listener",hz="completed",SA="cancelled",Lee=`task-${SA}`,Vee=`task-${hz}`,J1=`${dz}-${SA}`,zee=`${dz}-${hz}`,wb=class{constructor(t){this.code=t,this.message=`${jee} ${SA} (reason: ${t})`}name="TaskAbortError";message},TA=(t,e)=>{if(typeof t!="function")throw new TypeError(Da(32))},Xv=()=>{},mz=(t,e=Xv)=>(t.catch(e),t),pz=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),qc=t=>{if(t.aborted)throw new wb(t.reason)};function gz(t,e){let n=Xv;return new Promise((r,i)=>{const o=()=>i(new wb(t.reason));if(t.aborted){o();return}n=pz(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Xv})}var Uee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof wb?"cancelled":"rejected",error:n}}finally{e?.()}},Zv=t=>e=>mz(gz(t,e).then(n=>(qc(t),n))),yz=t=>{const e=Zv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:vd}=Object,FN={},xb="listenerMiddleware",Bee=(t,e)=>{const n=r=>pz(t,()=>r.abort(t.reason));return(r,i)=>{TA(r);const o=new AbortController;n(o);const l=Uee(async()=>{qc(t),qc(o.signal);const u=await r({pause:Zv(o.signal),delay:yz(o.signal),signal:o.signal});return qc(o.signal),u},()=>o.abort(Vee));return i?.autoJoin&&e.push(l.catch(Xv)),{result:Zv(t)(l),cancel(){o.abort(Lee)}}}},qee=(t,e)=>{const n=async(r,i)=>{qc(e);let o=()=>{};const u=[new Promise((f,d)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),f([p,b.getState(),b.getOriginalState()])}});o=()=>{m(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await gz(e,Promise.race(u));return qc(e),f}finally{o()}};return(r,i)=>mz(n(r,i))},vz=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=fo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Da(21));return TA(o),{predicate:i,type:e,effect:o}},bz=vd(t=>{const{type:e,predicate:n,effect:r}=vz(t);return{id:Aee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Da(22))}}},{withTypes:()=>bz}),$N=(t,e)=>{const{type:n,effect:r,predicate:i}=vz(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},eS=t=>{t.pending.forEach(e=>{e.abort(J1)})},Fee=(t,e)=>()=>{for(const n of e.keys())eS(n);t.clear()},KN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_z=vd(fo(`${xb}/add`),{withTypes:()=>_z}),$ee=fo(`${xb}/removeAll`),wz=vd(fo(`${xb}/remove`),{withTypes:()=>wz}),Kee=(...t)=>{console.error(`${xb}/error`,...t)},Gp=(t={})=>{const e=new Map,n=new Map,r=x=>{const T=n.get(x)??0;n.set(x,T+1)},i=x=>{const T=n.get(x)??1;T===1?n.delete(x):n.set(x,T-1)},{extra:o,onError:l=Kee}=t;TA(l);const u=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),T=>{x.unsubscribe(),T?.cancelActive&&eS(x)}),f=x=>{const T=$N(e,x)??bz(x);return u(T)};vd(f,{withTypes:()=>f});const d=x=>{const T=$N(e,x);return T&&(T.unsubscribe(),x.cancelActive&&eS(T)),!!T};vd(d,{withTypes:()=>d});const m=async(x,T,A,O)=>{const D=new AbortController,B=qee(f,D.signal),M=[];try{x.pending.add(D),r(x),await Promise.resolve(x.effect(T,vd({},A,{getOriginalState:O,condition:(Y,W)=>B(Y,W).then(Boolean),take:B,delay:yz(D.signal),pause:Zv(D.signal),extra:o,signal:D.signal,fork:Bee(D.signal,M),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((Y,W,X)=>{Y!==D&&(Y.abort(J1),X.delete(Y))})},cancel:()=>{D.abort(J1),x.pending.delete(D)},throwIfCancelled:()=>{qc(D.signal)}})))}catch(Y){Y instanceof wb||KN(l,Y,{raisedBy:"effect"})}finally{await Promise.all(M),D.abort(zee),i(x),x.pending.delete(D)}},p=Fee(e,n);return{middleware:x=>T=>A=>{if(!Q6(A))return T(A);if(_z.match(A))return f(A.payload);if($ee.match(A)){p();return}if(wz.match(A))return d(A.payload);let O=x.getState();const D=()=>{if(O===FN)throw new Error(Da(23));return O};let B;try{if(B=T(A),e.size>0){const M=x.getState(),Y=Array.from(e.values());for(const W of Y){let X=!1;try{X=W.predicate(A,M,O)}catch(j){X=!1,KN(l,j,{raisedBy:"predicate"})}X&&m(W,A,x,D)}}}finally{O=FN}return B},startListening:f,stopListening:d,clearListeners:p}};function Da(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Hee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xz=ia({name:"chartLayout",initialState:Hee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Gee,setLayout:Wee,setChartSize:Yee,setScale:Qee}=xz.actions,Xee=xz.reducer;function Ez(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,n){return Ir(t)||Ir(e)?n:gs(e)?af(t,e,n):typeof e=="function"?e(t):n}var tte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&ct(t[o]))return fd(fd({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&ct(t[l]))return fd(fd({},t),{},{[l]:t[l]+(i||0)})}return t},Wu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Sz=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(e),o||l.push(n),l},Tz=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:m,ticks:p,niceTicks:b,axisType:x}=t;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(A=x==="angleAxis"&&o&&o.length>=2?gi(o[0]-o[1])*2*A:A,p||b){var O=(p||b||[]).map((D,B)=>{var M=r?r.indexOf(D):D;return{coordinate:l(M)+A,value:D,offset:A,index:B}});return O.filter(D=>!ps(D.coordinate))}return f&&d?d.map((D,B)=>({coordinate:l(D)+A,value:D,index:B,offset:A})):l.ticks&&m!=null?l.ticks(m).map((D,B)=>({coordinate:l(D)+A,value:D,offset:A,index:B})):l.domain().map((D,B)=>({coordinate:l(D)+A,value:r?r[D]:D,index:B,offset:A}))},GN=1e-4,nte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-GN,o=Math.max(r[0],r[1])+GN,l=t(e[0]),u=t(e[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},rte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var u=ps(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},ite=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=ps(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},ate={sign:rte,expand:AZ,none:Bd,silhouette:IZ,wiggle:OZ,positive:ite},ote=(t,e,n)=>{var r=ate[n],i=TZ().keys(e).value((o,l)=>Number(kn(o,l,0))).order(F1).offset(r);return i(t)};function WN(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ir(i[e.dataKey])){var u=C6(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=kn(i,Ir(l)?e.dataKey:l);return Ir(f)?null:e.scale(f)}var ste=t=>{var e=t.flat(2).filter(ct);return[Math.min(...e),Math.max(...e)]},lte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ute=(t,e,n)=>{if(t!=null)return lte(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,u=l.reduce((f,d)=>{var m=Ez(d,e,n),p=ste(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},YN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jv=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=mb(e,m=>m.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function XN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return fd(fd({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Eb(t,e){if(t)return String(t);if(typeof e=="string")return e}var cte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},fte=(t,e)=>e==="centric"?t.angle:t.radius,wl=t=>t.layout.width,xl=t=>t.layout.height,dte=t=>t.layout.scale,Az=t=>t.layout.margin,Sb=_e(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Tb=_e(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Iz="data-recharts-item-index",Oz="data-recharts-item-data-key",Wp=60;function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gte=t=>t.brush.height;function yte(t){var e=Tb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wp;return n+i}return n},0)}function vte(t){var e=Tb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Wp;return n+i}return n},0)}function bte(t){var e=Sb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function _te(t){var e=Sb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hr=_e([wl,xl,Az,gte,yte,vte,bte,_te,H6,WJ],(t,e,n,r,i,o,l,u,f,d)=>{var m={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Cy(Cy({},p),m),x=b.bottom;b.bottom+=r,b=tte(b,f,d);var T=t-b.left-b.right,A=e-b.top-b.bottom;return Cy(Cy({brushBottom:x},b),{},{width:Math.max(T,0),height:Math.max(A,0)})}),wte=_e(Hr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Pz=_e(wl,xl,(t,e)=>({x:0,y:0,width:t,height:e})),xte=E.createContext(null),aa=()=>E.useContext(xte)!=null,Ab=t=>t.brush,Ib=_e([Ab,Hr,Az],(t,e,n)=>({height:t.height,x:ct(t.x)?t.x:e.left,y:ct(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ct(t.width)?t.width:e.width})),dE={},hE={},mE={},JN;function Ete(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),m=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{d&&m(),A()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},T=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{T(),l=void 0,u=null},O=()=>{m()},D=function(...B){if(i?.aborted)return;l=this,u=B;const M=b==null;x(),f&&M&&m()};return D.schedule=x,D.cancel=A,D.flush=O,i?.addEventListener("abort",A,{once:!0}),D}t.debounce=e})(mE)),mE}var eD;function Ste(){return eD||(eD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ete();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let m,p=null;const b=e.debounce(function(...A){m=r.apply(this,A),p=null},i,{edges:d}),x=function(...A){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,A),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,A),m)},T=()=>(b.flush(),m);return x.cancel=b.cancel,x.flush=T,x}t.debounce=n})(hE)),hE}var tD;function Tte(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ste();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(dE)),dE}var pE,nD;function Ate(){return nD||(nD=1,pE=Tte().throttle),pE}var Ite=Ate();const Ote=bs(Ite);var e0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Cz=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=fl(r)?t:Number(r),f=fl(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},Pte={width:0,height:0,overflow:"visible"},Cte={width:0,overflowX:"visible"},Rte={height:0,overflowY:"visible"},kte={},Nte=t=>{var{width:e,height:n}=t,r=fl(e),i=fl(n);return r&&i?Pte:r?Cte:i?Rte:kte};function Dte(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Kr(t){return Number.isFinite(t)}function ys(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rz=E.createContext({width:-1,height:-1});function Vte(t){return ys(t.width)&&ys(t.height)}function kz(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return Vte(i)?E.createElement(Rz.Provider,{value:i},e):null}var AA=()=>E.useContext(Rz),zte=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:m=0,id:p,className:b,onResize:x,style:T={}}=t,A=E.useRef(null),O=E.useRef();O.current=x,E.useImperativeHandle(e,()=>A.current);var[D,B]=E.useState({containerWidth:r.width,containerHeight:r.height}),M=E.useCallback((L,z)=>{B(G=>{var q=Math.round(L),H=Math.round(z);return G.containerWidth===q&&G.containerHeight===H?G:{containerWidth:q,containerHeight:H}})},[]);E.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return $p;var L=H=>{var $,{width:qe,height:Xe}=H[0].contentRect;M(qe,Xe),($=O.current)===null||$===void 0||$.call(O,qe,Xe)};m>0&&(L=Ote(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:G,height:q}=A.current.getBoundingClientRect();return M(G,q),z.observe(A.current),()=>{z.disconnect()}},[M,m]);var{containerWidth:Y,containerHeight:W}=D;e0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:X,calculatedHeight:j}=Cz(Y,W,{width:i,height:o,aspect:n,maxHeight:f});return e0(X!=null&&X>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,j,i,o,l,u,n),E.createElement("div",{id:p?"".concat(p):void 0,className:Ht("recharts-responsive-container",b),style:iD(iD({},T),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:A},E.createElement("div",{style:Nte({width:i,height:o})},E.createElement(kz,{width:X,height:j},d)))}),aD=E.forwardRef((t,e)=>{var n=AA();if(ys(n.width)&&ys(n.height))return t.children;var{width:r,height:i}=Dte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=Cz(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ct(o)&&ct(l)?E.createElement(kz,{width:o,height:l},t.children):E.createElement(zte,tS({},t,{width:r,height:i,ref:e}))});function Nz(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ob=()=>{var t,e=aa(),n=at(wte),r=at(Ib),i=(t=at(Ab))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ute={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Dz=()=>{var t;return(t=at(Hr))!==null&&t!==void 0?t:Ute},IA=()=>at(wl),OA=()=>at(xl),Bte=()=>at(t=>t.layout.margin),mn=t=>t.layout.layoutType,Pb=()=>at(mn),qte=()=>{var t=Pb();return t!==void 0},Cb=t=>{var e=wn(),n=aa(),{width:r,height:i}=t,o=AA(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),E.useEffect(()=>{!n&&ys(l)&&ys(u)&&e(Yee({width:l,height:u}))},[e,n,l,u]),null},Mz=Symbol.for("immer-nothing"),oD=Symbol.for("immer-draftable"),La=Symbol.for("immer-state");function Ro(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var dp=Object.getPrototypeOf;function $d(t){return!!t&&!!t[La]}function of(t){return t?jz(t)||Array.isArray(t)||!!t[oD]||!!t.constructor?.[oD]||Yp(t)||kb(t):!1}var Fte=Object.prototype.constructor.toString(),sD=new WeakMap;function jz(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=sD.get(n);return r===void 0&&(r=Function.toString.call(n),sD.set(n,r)),r===Fte}function t0(t,e,n=!0){Rb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Rb(t){const e=t[La];return e?e.type_:Array.isArray(t)?1:Yp(t)?2:kb(t)?3:0}function nS(t,e){return Rb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Lz(t,e,n){const r=Rb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $te(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yp(t){return t instanceof Map}function kb(t){return t instanceof Set}function Ac(t){return t.copy_||t.base_}function rS(t,e){if(Yp(t))return new Map(t);if(kb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=jz(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[La];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(dp(t),r)}else{const r=dp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function PA(t,e=!1){return Nb(t)||$d(t)||!of(t)||(Rb(t)>1&&Object.defineProperties(t,{set:Ry,add:Ry,clear:Ry,delete:Ry}),Object.freeze(t),e&&Object.values(t).forEach(n=>PA(n,!0))),t}function Kte(){Ro(2)}var Ry={value:Kte};function Nb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Hte={};function sf(t){const e=Hte[t];return e||Ro(0,t),e}var hp;function Vz(){return hp}function Gte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lD(t,e){e&&(sf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iS(t){aS(t),t.drafts_.forEach(Wte),t.drafts_=null}function aS(t){t===hp&&(hp=t.parent_)}function uD(t){return hp=Gte(hp,t)}function Wte(t){const e=t[La];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[La].modified_&&(iS(e),Ro(4)),of(t)&&(t=n0(e,t),e.parent_||r0(e,t)),e.patches_&&sf("Patches").generateReplacementPatches_(n[La].base_,t,e.patches_,e.inversePatches_)):t=n0(e,n,[]),iS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Mz?t:void 0}function n0(t,e,n){if(Nb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[La];if(!i)return t0(e,(o,l)=>fD(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return r0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),t0(l,(f,d)=>fD(t,i,o,f,d,n,u),r),r0(t,o,!1),n&&t.patches_&&sf("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function fD(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Nb(i);if(!(u&&!l)){if($d(i)){const f=o&&e&&e.type_!==3&&!nS(e.assigned_,r)?o.concat(r):void 0,d=n0(t,i,f);if(Lz(n,r,d),$d(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(of(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;n0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Yp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&r0(t,i)}}}function r0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&PA(e,n)}function Yte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Vz(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=CA;n&&(i=[r],o=mp);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var CA={get(t,e){if(e===La)return t;const n=Ac(t);if(!nS(n,e))return Qte(t,n,e);const r=n[e];return t.finalized_||!of(r)?r:r===gE(t.base_,e)?(yE(t),t.copy_[e]=sS(r,t)):r},has(t,e){return e in Ac(t)},ownKeys(t){return Reflect.ownKeys(Ac(t))},set(t,e,n){const r=zz(Ac(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=gE(Ac(t),e),o=i?.[La];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($te(n,i)&&(n!==void 0||nS(t.base_,e)))return!0;yE(t),oS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,yE(t),oS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ac(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ro(11)},getPrototypeOf(t){return dp(t.base_)},setPrototypeOf(){Ro(12)}},mp={};t0(CA,(t,e)=>{mp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mp.deleteProperty=function(t,e){return mp.set.call(this,t,e,void 0)};mp.set=function(t,e,n){return CA.set.call(this,t[0],e,n,t[0])};function gE(t,e){const n=t[La];return(n?Ac(n):t)[e]}function Qte(t,e,n){const r=zz(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function zz(t,e){if(!(e in t))return;let n=dp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dp(n)}}function oS(t){t.modified_||(t.modified_=!0,t.parent_&&oS(t.parent_))}function yE(t){t.copy_||(t.copy_=rS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&Ro(6),r!==void 0&&typeof r!="function"&&Ro(7);let i;if(of(e)){const o=uD(this),l=sS(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?iS(o):aS(o)}return lD(o,r),cD(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Mz&&(i=void 0),this.autoFreeze_&&PA(i,!0),r){const o=[],l=[];sf("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else Ro(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){of(t)||Ro(8),$d(t)&&(t=Zte(t));const e=uD(this),n=sS(t,void 0);return n[La].isManual_=!0,aS(e),n}finishDraft(t,e){const n=t&&t[La];(!n||!n.isManual_)&&Ro(9);const{scope_:r}=n;return lD(r,e),cD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=sf("Patches").applyPatches_;return $d(t)?r(t,e):this.produce(t,i=>r(i,e))}};function sS(t,e){const n=Yp(t)?sf("MapSet").proxyMap_(t,e):kb(t)?sf("MapSet").proxySet_(t,e):Yte(t,e);return(e?e.scope_:Vz()).drafts_.push(n),n}function Zte(t){return $d(t)||Ro(10,t),Uz(t)}function Uz(t){if(!of(t)||Nb(t))return t;const e=t[La];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=rS(t,!0);return t0(n,(i,o)=>{Lz(n,i,Uz(o))},r),e&&(e.finalized_=!1),n}var Jte=new Xte;Jte.produce;var ene={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Bz=ia({name:"legend",initialState:ene,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Cn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Do(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Cn()},removeLegendPayload:{reducer(t,e){var n=Do(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Cn()}}}),{setLegendSize:dD,setLegendSettings:tne,addLegendPayload:qz,replaceLegendPayload:Fz,removeLegendPayload:$z}=Bz.actions,nne=Bz.reducer,rne=["contextPayload"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return(e=ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t,e){if(t==null)return{};var n,r,i=lne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function une(t){return t.value}function cne(t){var{contextPayload:e}=t,n=sne(t,rne),r=q6(e,t.payloadUniqBy,une),i=Kd(Kd({},n),{},{payload:r});return E.isValidElement(t.content)?E.cloneElement(t.content,i):typeof t.content=="function"?E.createElement(t.content,i):E.createElement(rJ,i)}function fne(t,e,n,r,i,o){var{layout:l,align:u,verticalAlign:f}=e,d,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-o.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?m={top:((i||0)-o.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Kd(Kd({},d),m)}function dne(t){var e=wn();return E.useEffect(()=>{e(tne(t))},[e,t]),null}function hne(t){var e=wn();return E.useEffect(()=>(e(dD(t)),()=>{e(dD({width:0,height:0}))}),[e,t]),null}function mne(t,e,n,r){return t==="vertical"&&ct(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var pne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Kz(t){var e=Cr(t,pne),n=XJ(),r=YX(),i=Bte(),{width:o,height:l,wrapperStyle:u,portal:f}=e,[d,m]=G6([n]),p=IA(),b=OA();if(p==null||b==null)return null;var x=p-(i?.left||0)-(i?.right||0),T=mne(e.layout,l,o,x),A=f?u:Kd(Kd({position:"absolute",width:T?.width||o||"auto",height:T?.height||l||"auto"},fne(u,e,i,p,b,d)),u),O=f??r;if(O==null||n==null)return null;var D=E.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:m},E.createElement(dne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&E.createElement(hne,{width:d.width,height:d.height}),E.createElement(cne,lS({},e,T,{margin:i,chartWidth:p,chartHeight:b,contextPayload:n})));return GS.createPortal(D,O)}Kz.displayName="Legend";function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bne(t){return Array.isArray(t)&&gs(t[0])&&gs(t[1])?t.join(" ~ "):t}var _ne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,x=()=>{if(o&&o.length){var W={padding:0,margin:0},X=(u?mb(o,u):o).map((j,L)=>{if(j.type==="none")return null;var z=j.formatter||l||bne,{value:G,name:q}=j,H=G,$=q;if(z){var qe=z(G,q,j,L,o);if(Array.isArray(qe))[H,$]=qe;else if(qe!=null)H=qe;else return null}var Xe=vE({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:Xe},gs($)?E.createElement("span",{className:"recharts-tooltip-item-name"},$):null,gs($)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},H),E.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:W},X)}return null},T=vE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=vE({margin:0},i),O=!Ir(m),D=O?m:"",B=Ht("recharts-default-tooltip",f),M=Ht("recharts-tooltip-label",d);O&&p&&o!==void 0&&o!==null&&(D=p(m,o));var Y=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",uS({className:B,style:T},Y),E.createElement("p",{className:M,style:A},E.isValidElement(D)?D:"".concat(D)),x())},dm="recharts-tooltip-wrapper",wne={visibility:"hidden"};function xne(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ht(dm,{["".concat(dm,"-right")]:ct(n)&&e&&ct(e.x)&&n>=e.x,["".concat(dm,"-left")]:ct(n)&&e&&ct(e.x)&&n<e.x,["".concat(dm,"-bottom")]:ct(r)&&e&&ct(e.y)&&r>=e.y,["".concat(dm,"-top")]:ct(r)&&e&&ct(e.y)&&r<e.y})}function pD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(o&&ct(o[r]))return o[r];var m=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=f[r];if(b==null)return 0;if(l[r]){var x=m,T=b;return x<T?Math.max(p,b):Math.max(m,b)}if(d==null)return 0;var A=p+u,O=b+d;return A>O?Math.max(m,b):Math.max(p,b)}function Ene(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Sne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,d,m,p;return l.height>0&&l.width>0&&n?(m=pD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=pD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=Ene({translateX:m,translateY:p,useTranslate3d:u})):d=wne,{cssProperties:d,cssClasses:xne({translateX:m,translateY:p,coordinate:n})}}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){cS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cS(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ine extends E.PureComponent{constructor(){super(...arguments),cS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:m,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:T,lastBoundingBox:A,innerRef:O,hasPortalFromProps:D}=this.props,{cssClasses:B,cssProperties:M}=Sne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:x}),Y=D?{}:ky(ky({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),W=ky(ky({},Y),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:W,ref:O},o)}}var Hz=()=>{var t;return(t=at(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bD={curveBasisClosed:mZ,curveBasisOpen:pZ,curveBasis:hZ,curveBumpX:JX,curveBumpY:eZ,curveLinearClosed:gZ,curveLinear:db,curveMonotoneX:yZ,curveMonotoneY:vZ,curveNatural:bZ,curveStep:_Z,curveStepAfter:xZ,curveStepBefore:wZ},i0=t=>Kr(t.x)&&Kr(t.y),_D=t=>t.base!=null&&i0(t.base)&&i0(t),hm=t=>t.x,mm=t=>t.y,Rne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Fp(t));return(n==="curveMonotone"||n==="curveBump")&&e?bD["".concat(n).concat(e==="vertical"?"Y":"X")]:bD[n]||db},kne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=Rne(e,i),u=o?n.filter(i0):n,f;if(Array.isArray(r)){var d=n.map((x,T)=>vD(vD({},x),{},{base:r[T]}));i==="vertical"?f=Sy().y(mm).x1(hm).x0(x=>x.base.x):f=Sy().x(hm).y1(mm).y0(x=>x.base.y);var m=f.defined(_D).curve(l),p=o?d.filter(_D):d;return m(p)}i==="vertical"&&ct(r)?f=Sy().y(mm).x1(hm).x0(r):ct(r)?f=Sy().x(hm).y1(mm).y0(r):f=y6().x(hm).y(mm);var b=f.defined(i0).curve(l);return b(u)},RA=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?kne(t):r;return E.createElement("path",fS({},co(t),mA(t),{className:Ht("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Nne=["x","y","top","left","width","height","className"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vne(t,e){if(t==null)return{};var n,r,i=zne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Une=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Bne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=t,f=Vne(t,Nne),d=Dne({x:e,y:n,top:r,left:i,width:o,height:l},f);return!ct(e)||!ct(n)||!ct(o)||!ct(l)||!ct(r)||!ct(i)?null:E.createElement("path",dS({},Ci(d),{className:Ht("recharts-cross",u),d:Une(e,n,o,l,r,i)}))};function qne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Gz=(t,e,n)=>t.map(r=>"".concat(Hne(r)," ").concat(e,"ms ").concat(n)).join(","),Gne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),pp=(t,e)=>Object.keys(e).reduce((n,r)=>ED(ED({},n),{},{[r]:t(r,e[r])}),{});function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a0=(t,e,n)=>t+(e-t)*n,hS=t=>{var{from:e,to:n}=t;return e!==n},Wz=(t,e,n)=>{var r=pp((i,o)=>{if(hS(o)){var[l,u]=t(o.from,o.to,o.velocity);return Ar(Ar({},o),{},{from:l,velocity:u})}return o},e);return n<1?pp((i,o)=>hS(o)?Ar(Ar({},o),{},{velocity:a0(o.velocity,r[i].velocity,n),from:a0(o.from,r[i].from,n)}):o,e):Wz(t,r,n-1)};function Xne(t,e,n,r,i,o){var l,u=r.reduce((b,x)=>Ar(Ar({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),f=()=>pp((b,x)=>x.from,u),d=()=>!Object.values(u).filter(hS).length,m=null,p=b=>{l||(l=b);var x=b-l,T=x/n.dt;u=Wz(n,u,T),i(Ar(Ar(Ar({},t),e),f())),l=b,d()||(m=o.setTimeout(p))};return()=>(m=o.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function Zne(t,e,n,r,i,o,l){var u=null,f=i.reduce((p,b)=>Ar(Ar({},p),{},{[b]:[t[b],e[b]]}),{}),d,m=p=>{d||(d=p);var b=(p-d)/r,x=pp((A,O)=>a0(...O,n(b)),f);if(o(Ar(Ar(Ar({},t),e),x)),b<1)u=l.setTimeout(m);else{var T=pp((A,O)=>a0(...O,n(1)),f);o(Ar(Ar(Ar({},t),e),T))}};return()=>(u=l.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}const Jne=(t,e,n,r,i,o)=>{var l=Gne(t,e);return n==null?()=>(i(Ar(Ar({},t),e)),()=>{}):n.isStepper===!0?Xne(t,e,n,l,i,o):Zne(t,e,n,r,l,i,o)};var o0=1e-4,Yz=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Qz=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),TD=(t,e)=>n=>{var r=Yz(t,e);return Qz(r,n)},ere=(t,e)=>n=>{var r=Yz(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return Qz(i,n)},tre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},nre=(t,e,n,r)=>{var i=TD(t,n),o=TD(e,r),l=ere(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var m=d>1?1:d,p=m,b=0;b<8;++b){var x=i(p)-m,T=l(p);if(Math.abs(x-m)<o0||T<o0)return o(p);p=u(p-x/T)}return o(p)};return f.isStepper=!1,f},AD=function(){return nre(...tre(...arguments))},rre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,u,f)=>{var d=-(l-u)*n,m=f*r,p=f+(d-m)*i/1e3,b=f*i/1e3+l;return Math.abs(b-u)<o0&&Math.abs(p)<o0?[u,0]:[b,p]};return o.isStepper=!0,o.dt=i,o},ire=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AD(t);case"spring":return rre();default:if(t.split("(")[0]==="cubic-bezier")return AD(t)}return typeof t=="function"?t:null};function are(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class ore{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function sre(){return are(new ore)}var lre=E.createContext(sre);function ure(t,e){var n=E.useContext(lre);return E.useMemo(()=>e??n(t),[t,e,n])}var cre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qp={devToolsEnabled:!1,isSsr:cre()},fre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ID={t:0},bE={t:1};function Db(t){var e=Cr(t,fre),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,m=n==="auto"?!Qp.isSsr:n,p=ure(e.animationId,e.animationManager),[b,x]=E.useState(m?ID:bE),T=E.useRef(null);return E.useEffect(()=>{m||x(bE)},[m]),E.useEffect(()=>{if(!m||!r)return $p;var A=Jne(ID,bE,ire(o),i,x,p.getTimeoutController()),O=()=>{T.current=A()};return p.start([f,l,O,i,u]),()=>{p.stop(),T.current&&T.current(),u()}},[m,r,i,o,l,f,u,p]),d(b.t)}function Mb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(lp(e)),r=E.useRef(t);return r.current!==t&&(n.current=lp(e),r.current=t),n.current}var dre=["radius"],hre=["radius"];function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(null,arguments)}function CD(t,e){if(t==null)return{};var n,r,i=yre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RD=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,b=4;p<b;p++)m[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(e)),d+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*m[1])),d+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),d+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*m[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(e+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+u*x,",").concat(e,`
            L `).concat(t+n-u*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*x,`
            L `).concat(t+n,",").concat(e+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t+n-u*x,",").concat(e+r,`
            L `).concat(t+u*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*x," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},kD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xz=t=>{var e=Cr(t,kD),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Pe=n.current.getTotalLength();Pe&&i(Pe)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:T,isUpdateAnimationActive:A}=e,O=E.useRef(u),D=E.useRef(f),B=E.useRef(o),M=E.useRef(l),Y=E.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),W=Mb(Y,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var X=Ht("recharts-rectangle",m);if(!A){var j=Ci(e),{radius:L}=j,z=CD(j,dre);return E.createElement("path",s0({},z,{radius:typeof d=="number"?d:void 0,className:X,d:RD(o,l,u,f,d)}))}var G=O.current,q=D.current,H=B.current,$=M.current,qe="0px ".concat(r===-1?1:r,"px"),Xe="".concat(r,"px 0px"),de=Gz(["strokeDasharray"],b,typeof p=="string"?p:kD.animationEasing);return E.createElement(Db,{animationId:W,key:W,canBegin:r>0,duration:b,easing:p,isActive:A,begin:x},Pe=>{var xe=pi(G,u,Pe),Te=pi(q,f,Pe),tt=pi(H,o,Pe),ee=pi($,l,Pe);n.current&&(O.current=xe,D.current=Te,B.current=tt,M.current=ee);var Se;T?Pe>0?Se={transition:de,strokeDasharray:Xe}:Se={strokeDasharray:qe}:Se={strokeDasharray:Xe};var De=Ci(e),{radius:je}=De,nt=CD(De,hre);return E.createElement("path",s0({},nt,{radius:typeof d=="number"?d:void 0,className:X,d:RD(tt,ee,xe,Te,d),ref:n,style:PD(PD({},Se),e.style)}))})};function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l0=Math.PI/180,wre=t=>t*180/Math.PI,_r=(t,e,n,r)=>({x:t+Math.cos(-l0*r)*n,y:e+Math.sin(-l0*r)*n}),Zz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Ere=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=xre({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:wre(f),angleInRadian:f}},Sre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Tre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},Are=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Ere({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=Sre(e),m=o,p;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}return p?DD(DD({},e),{},{radius:i,angle:Tre(m,e)}):null};function Jz(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=_r(e,n,r,i),u=_r(e,n,r,o);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}var Ire=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ny=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,m=Math.asin(u/d)/l0,p=f?i:i+o*m,b=_r(e,n,d,p),x=_r(e,n,r,p),T=f?i-o*m:i,A=_r(e,n,d*Math.cos(m*l0),T);return{center:b,circleTangency:x,lineTangency:A,theta:m}},e5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,u=Ire(o,l),f=o+u,d=_r(e,n,i,o),m=_r(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=_r(e,n,r,o),x=_r(e,n,r,f);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Ore=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,m=gi(d-f),{circleTangency:p,lineTangency:b,theta:x}=Ny({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),{circleTangency:T,lineTangency:A,theta:O}=Ny({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:o,cornerIsExternal:u}),D=u?Math.abs(f-d):Math.abs(f-d)-x-O;if(D<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):e5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var B="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:Y,theta:W}=Ny({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:X,lineTangency:j,theta:L}=Ny({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),z=u?Math.abs(f-d):Math.abs(f-d)-W-L;if(z<0&&o===0)return"".concat(B,"L").concat(e,",").concat(n,"Z");B+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(X.x,",").concat(X.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(Y.x,",").concat(Y.y,"Z")}else B+="L".concat(e,",").concat(n,"Z");return B},Pre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},t5=t=>{var e=Cr(t,Pre),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m,className:p}=e;if(o<i||d===m)return null;var b=Ht("recharts-sector",p),x=o-i,T=Na(l,x,0,!0),A;return T>0&&Math.abs(d-m)<360?A=Ore({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(T,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m}):A=e5({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:m}),E.createElement("path",mS({},Ci(e),{className:b,d:A}))};function Cre(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(k6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=e,f=_r(r,i,o,u),d=_r(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return Jz(e)}}var _E={},wE={},xE={},MD;function Rre(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(xE)),xE}var jD;function kre(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(wE)),wE}var LD;function Nre(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6(),n=kre();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(_E)),_E}var EE,VD;function Dre(){return VD||(VD=1,EE=Nre().range),EE}var Mre=Dre();const n5=bs(Mre);function Mu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kA(t){let e,n,r;t.length!==2?(e=Mu,n=(u,f)=>Mu(t(u),f),r=(u,f)=>t(u)-f):(e=t===Mu||t===jre?t:Lre,n=t,r=t);function i(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<0?d=p+1:m=p}while(d<m)}return d}function o(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function l(u,f,d=0,m=u.length){const p=i(u,f,d,m-1);return p>d&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:l,right:o}}function Lre(){return 0}function r5(t){return t===null?NaN:+t}function*Vre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zre=kA(Mu),Xp=zre.right;kA(r5).center;class zD extends Map{constructor(e,n=qre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(UD(this,e))}has(e){return super.has(UD(this,e))}set(e,n){return super.set(Ure(this,e),n)}delete(e){return super.delete(Bre(this,e))}}function UD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ure({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fre(t=Mu){if(t===Mu)return i5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function i5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $re=Math.sqrt(50),Kre=Math.sqrt(10),Hre=Math.sqrt(2);function u0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=$re?10:o>=Kre?5:o>=Hre?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?u0(t,e,n*2):[u,f,d]}function pS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?u0(e,t,n):u0(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function gS(t,e,n){return e=+e,t=+t,n=+n,u0(t,e,n)[2]}function yS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gS(e,t,n):gS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function a5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?i5:Fre(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(f-p)/f)*(d-f/2<0?-1:1),x=Math.max(n,Math.floor(e-d*p/f+b)),T=Math.min(r,Math.floor(e+(f-d)*p/f+b));a5(t,e,x,T,i)}const o=t[e];let l=n,u=r;for(pm(t,n,e),i(t[r],o)>0&&pm(t,n,r);l<u;){for(pm(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?pm(t,n,u):(++u,pm(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function pm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gre(t,e,n){if(t=Float64Array.from(Vre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qD(t);if(e>=1)return BD(t);var r,i=(r-1)*e,o=Math.floor(i),l=BD(a5(t,o).subarray(0,o+1)),u=qD(t.subarray(o+1));return l+(u-l)*(i-o)}}function Wre(t,e,n=r5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function Yre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function po(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function El(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vS=Symbol("implicit");function NA(){var t=new zD,e=[],n=[],r=vS;function i(o){let l=t.get(o);if(l===void 0){if(r!==vS)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zD;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return NA(e,n).unknown(r)},po.apply(i,arguments),i}function DA(){var t=NA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,f=0,d=0,m=.5;delete t.unknown;function p(){var b=e().length,x=i<r,T=x?i:r,A=x?r:i;o=(A-T)/Math.max(1,b-f+d*2),u&&(o=Math.floor(o)),T+=(A-T-o*(b-f))*m,l=o*(1-f),u&&(T=Math.round(T),l=Math.round(l));var O=Yre(b).map(function(D){return T+o*D});return n(x?O.reverse():O)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(b){return arguments.length?(u=!!b,p()):u},t.padding=function(b){return arguments.length?(f=Math.min(1,d=+b),p()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),p()):f},t.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return DA(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(m)},po.apply(p(),arguments)}function o5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o5(e())},t}function Qre(){return o5(DA.apply(null,arguments).paddingInner(1))}function MA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function s5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zp(){}var gp=.7,c0=1/gp,bd="\\s*([+-]?\\d+)\\s*",yp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xre=/^#([0-9a-f]{3,8})$/,Zre=new RegExp(`^rgb\\(${bd},${bd},${bd}\\)$`),Jre=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),eie=new RegExp(`^rgba\\(${bd},${bd},${bd},${yp}\\)$`),tie=new RegExp(`^rgba\\(${hs},${hs},${hs},${yp}\\)$`),nie=new RegExp(`^hsl\\(${yp},${hs},${hs}\\)$`),rie=new RegExp(`^hsla\\(${yp},${hs},${hs},${yp}\\)$`),FD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MA(Zp,vp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$D,formatHex:$D,formatHex8:iie,formatHsl:aie,formatRgb:KD,toString:KD});function $D(){return this.rgb().formatHex()}function iie(){return this.rgb().formatHex8()}function aie(){return l5(this).formatHsl()}function KD(){return this.rgb().formatRgb()}function vp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?HD(e):n===3?new na(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zre.exec(t))?new na(e[1],e[2],e[3],1):(e=Jre.exec(t))?new na(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eie.exec(t))?Dy(e[1],e[2],e[3],e[4]):(e=tie.exec(t))?Dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nie.exec(t))?YD(e[1],e[2]/100,e[3]/100,1):(e=rie.exec(t))?YD(e[1],e[2]/100,e[3]/100,e[4]):FD.hasOwnProperty(t)?HD(FD[t]):t==="transparent"?new na(NaN,NaN,NaN,0):null}function HD(t){return new na(t>>16&255,t>>8&255,t&255,1)}function Dy(t,e,n,r){return r<=0&&(t=e=n=NaN),new na(t,e,n,r)}function oie(t){return t instanceof Zp||(t=vp(t)),t?(t=t.rgb(),new na(t.r,t.g,t.b,t.opacity)):new na}function bS(t,e,n,r){return arguments.length===1?oie(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}MA(na,bS,s5(Zp,{brighter(t){return t=t==null?c0:Math.pow(c0,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gp:Math.pow(gp,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new na(Fc(this.r),Fc(this.g),Fc(this.b),f0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GD,formatHex:GD,formatHex8:sie,formatRgb:WD,toString:WD}));function GD(){return`#${Dc(this.r)}${Dc(this.g)}${Dc(this.b)}`}function sie(){return`#${Dc(this.r)}${Dc(this.g)}${Dc(this.b)}${Dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function WD(){const t=f0(this.opacity);return`${t===1?"rgb(":"rgba("}${Fc(this.r)}, ${Fc(this.g)}, ${Fc(this.b)}${t===1?")":`, ${t})`}`}function f0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dc(t){return t=Fc(t),(t<16?"0":"")+t.toString(16)}function YD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ko(t,e,n,r)}function l5(t){if(t instanceof ko)return new ko(t.h,t.s,t.l,t.opacity);if(t instanceof Zp||(t=vp(t)),!t)return new ko;if(t instanceof ko)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new ko(l,u,f,t.opacity)}function lie(t,e,n,r){return arguments.length===1?l5(t):new ko(t,e,n,r??1)}function ko(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}MA(ko,lie,s5(Zp,{brighter(t){return t=t==null?c0:Math.pow(c0,t),new ko(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gp:Math.pow(gp,t),new ko(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new na(SE(t>=240?t-240:t+120,i,r),SE(t,i,r),SE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ko(QD(this.h),My(this.s),My(this.l),f0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=f0(this.opacity);return`${t===1?"hsl(":"hsla("}${QD(this.h)}, ${My(this.s)*100}%, ${My(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QD(t){return t=(t||0)%360,t<0?t+360:t}function My(t){return Math.max(0,Math.min(1,t||0))}function SE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jA=t=>()=>t;function uie(t,e){return function(n){return t+n*e}}function cie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fie(t){return(t=+t)==1?u5:function(e,n){return n-e?cie(e,n,t):jA(isNaN(e)?n:e)}}function u5(t,e){var n=e-t;return n?uie(t,n):jA(isNaN(t)?e:t)}const XD=(function t(e){var n=fie(e);function r(i,o){var l=n((i=bS(i)).r,(o=bS(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=u5(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function die(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=fh(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function pie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function d0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fh(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var _S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TE=new RegExp(_S.source,"g");function yie(t){return function(){return t}}function vie(t){return function(e){return t(e)+""}}function bie(t,e){var n=_S.lastIndex=TE.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=_S.exec(t))&&(i=TE.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:d0(r,i)})),n=TE.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?vie(f[0].x):yie(e):(e=f.length,function(d){for(var m=0,p;m<e;++m)u[(p=f[m]).i]=p.x(d);return u.join("")})}function fh(t,e){var n=typeof e,r;return e==null||n==="boolean"?jA(e):(n==="number"?d0:n==="string"?(r=vp(e))?(e=r,XD):bie:e instanceof vp?XD:e instanceof Date?pie:hie(e)?die:Array.isArray(e)?mie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gie:d0)(t,e)}function LA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _ie(t,e){e===void 0&&(e=t,t=fh);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function wie(t){return function(){return t}}function h0(t){return+t}var ZD=[0,1];function Oi(t){return t}function wS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wie(isNaN(e)?NaN:.5)}function xie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Eie(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=wS(i,r),o=n(l,o)):(r=wS(r,i),o=n(o,l)),function(u){return o(r(u))}}function Sie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=wS(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var f=Xp(t,u,1,r)-1;return o[f](i[f](u))}}function Jp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jb(){var t=ZD,e=ZD,n=fh,r,i,o,l=Oi,u,f,d;function m(){var b=Math.min(t.length,e.length);return l!==Oi&&(l=xie(t[0],t[b-1])),u=b>2?Sie:Eie,f=d=null,p}function p(b){return b==null||isNaN(b=+b)?o:(f||(f=u(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((d||(d=u(e,t.map(r),d0)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,h0),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=LA,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Oi,m()):l!==Oi},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(o=b,p):o},function(b,x){return r=b,i=x,m()}}function VA(){return jb()(Oi,Oi)}function Tie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function m0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hd(t){return t=m0(Math.abs(t)),t?t[1]:NaN}function Aie(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function Iie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Oie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(t){if(!(e=Oie.exec(t)))throw new Error("invalid format: "+t);var e;return new zA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bp.prototype=zA.prototype;function zA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var c5;function Cie(t,e){var n=m0(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(c5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+m0(t,Math.max(0,e+o-1))[0]}function JD(t,e){var n=m0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const eM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JD(t*100,e),r:JD,s:Cie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tM(t){return t}var nM=Array.prototype.map,rM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rie(t){var e=t.grouping===void 0||t.thousands===void 0?tM:Aie(nM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?tM:Iie(nM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=bp(p);var b=p.fill,x=p.align,T=p.sign,A=p.symbol,O=p.zero,D=p.width,B=p.comma,M=p.precision,Y=p.trim,W=p.type;W==="n"?(B=!0,W="g"):eM[W]||(M===void 0&&(M=12),Y=!0,W="g"),(O||b==="0"&&x==="=")&&(O=!0,b="0",x="=");var X=A==="$"?n:A==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",j=A==="$"?r:/[%p]/.test(W)?l:"",L=eM[W],z=/[defgprs%]/.test(W);M=M===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function G(q){var H=X,$=j,qe,Xe,de;if(W==="c")$=L(q)+$,q="";else{q=+q;var Pe=q<0||1/q<0;if(q=isNaN(q)?f:L(Math.abs(q),M),Y&&(q=Pie(q)),Pe&&+q==0&&T!=="+"&&(Pe=!1),H=(Pe?T==="("?T:u:T==="-"||T==="("?"":T)+H,$=(W==="s"?rM[8+c5/3]:"")+$+(Pe&&T==="("?")":""),z){for(qe=-1,Xe=q.length;++qe<Xe;)if(de=q.charCodeAt(qe),48>de||de>57){$=(de===46?i+q.slice(qe+1):q.slice(qe))+$,q=q.slice(0,qe);break}}}B&&!O&&(q=e(q,1/0));var xe=H.length+q.length+$.length,Te=xe<D?new Array(D-xe+1).join(b):"";switch(B&&O&&(q=e(Te+q,Te.length?D-$.length:1/0),Te=""),x){case"<":q=H+q+$+Te;break;case"=":q=H+Te+q+$;break;case"^":q=Te.slice(0,xe=Te.length>>1)+H+q+$+Te.slice(xe);break;default:q=Te+H+q+$;break}return o(q)}return G.toString=function(){return p+""},G}function m(p,b){var x=d((p=bp(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(Hd(b)/3)))*3,A=Math.pow(10,-T),O=rM[8+T/3];return function(D){return x(A*D)+O}}return{format:d,formatPrefix:m}}var jy,UA,f5;kie({thousands:",",grouping:[3],currency:["$",""]});function kie(t){return jy=Rie(t),UA=jy.format,f5=jy.formatPrefix,jy}function Nie(t){return Math.max(0,-Hd(Math.abs(t)))}function Die(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(e)/3)))*3-Hd(Math.abs(t)))}function Mie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hd(e)-Hd(t))+1}function d5(t,e,n,r){var i=yS(t,e,n),o;switch(r=bp(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Die(i,l))&&(r.precision=o),f5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Mie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nie(i))&&(r.precision=o-(r.type==="%")*2);break}}return UA(r)}function Yu(t){var e=t.domain;return t.ticks=function(n){var r=e();return pS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return d5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,m=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);m-- >0;){if(d=gS(l,u,n),d===f)return r[i]=l,r[o]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function h5(){var t=VA();return t.copy=function(){return Jp(t,h5())},po.apply(t,arguments),Yu(t)}function m5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,h0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return m5(t).unknown(e)},t=arguments.length?Array.from(t,h0):[0,1],Yu(n)}function p5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function iM(t){return Math.log(t)}function aM(t){return Math.exp(t)}function jie(t){return-Math.log(-t)}function Lie(t){return-Math.exp(-t)}function Vie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zie(t){return t===10?Vie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Uie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oM(t){return(e,n)=>-t(-e,n)}function BA(t){const e=t(iM,aM),n=e.domain;let r=10,i,o;function l(){return i=Uie(r),o=zie(r),n()[0]<0?(i=oM(i),o=oM(o),t(jie,Lie)):t(iM,aM),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],m=f[f.length-1];const p=m<d;p&&([d,m]=[m,d]);let b=i(d),x=i(m),T,A;const O=u==null?10:+u;let D=[];if(!(r%1)&&x-b<O){if(b=Math.floor(b),x=Math.ceil(x),d>0){for(;b<=x;++b)for(T=1;T<r;++T)if(A=b<0?T/o(-b):T*o(b),!(A<d)){if(A>m)break;D.push(A)}}else for(;b<=x;++b)for(T=r-1;T>=1;--T)if(A=b>0?T/o(-b):T*o(b),!(A<d)){if(A>m)break;D.push(A)}D.length*2<O&&(D=pS(d,m,O))}else D=pS(b,x,Math.min(x-b,O)).map(o);return p?D.reverse():D},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=bp(f)).precision==null&&(f.trim=!0),f=UA(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return m=>{let p=m/o(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=d?f(m):""}},e.nice=()=>n(p5(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function g5(){const t=BA(jb()).domain([1,10]);return t.copy=()=>Jp(t,g5()).base(t.base()),po.apply(t,arguments),t}function sM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qA(t){var e=1,n=t(sM(e),lM(e));return n.constant=function(r){return arguments.length?t(sM(e=+r),lM(e)):e},Yu(n)}function y5(){var t=qA(jb());return t.copy=function(){return Jp(t,y5()).constant(t.constant())},po.apply(t,arguments)}function uM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qie(t){return t<0?-t*t:t*t}function FA(t){var e=t(Oi,Oi),n=1;function r(){return n===1?t(Oi,Oi):n===.5?t(Bie,qie):t(uM(n),uM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yu(e)}function $A(){var t=FA(jb());return t.copy=function(){return Jp(t,$A()).exponent(t.exponent())},po.apply(t,arguments),t}function Fie(){return $A.apply(null,arguments).exponent(.5)}function cM(t){return Math.sign(t)*t*t}function $ie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function v5(){var t=VA(),e=[0,1],n=!1,r;function i(o){var l=$ie(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(cM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,h0)).map(cM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return v5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},po.apply(i,arguments),Yu(i)}function b5(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=Wre(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Xp(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Mu),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return b5().domain(t).range(e).unknown(r)},po.apply(o,arguments)}function _5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Xp(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return _5().domain([t,e]).range(i).unknown(o)},po.apply(Yu(l),arguments)}function w5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Xp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return w5().domain(t).range(e).unknown(n)},po.apply(i,arguments)}const AE=new Date,IE=new Date;function Rr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<l);return f},i.filter=o=>Rr(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(AE.setTime(+o),IE.setTime(+l),t(AE),t(IE),Math.floor(n(AE,IE))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const p0=Rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);p0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):p0);p0.range;const tl=1e3,lo=tl*60,nl=lo*60,hl=nl*24,KA=hl*7,fM=hl*30,OE=hl*365,Mc=Rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*tl)},(t,e)=>(e-t)/tl,t=>t.getUTCSeconds());Mc.range;const HA=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tl)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getMinutes());HA.range;const GA=Rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCMinutes());GA.range;const WA=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tl-t.getMinutes()*lo)},(t,e)=>{t.setTime(+t+e*nl)},(t,e)=>(e-t)/nl,t=>t.getHours());WA.range;const YA=Rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*nl)},(t,e)=>(e-t)/nl,t=>t.getUTCHours());YA.range;const eg=Rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lo)/hl,t=>t.getDate()-1);eg.range;const Lb=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hl,t=>t.getUTCDate()-1);Lb.range;const x5=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hl,t=>Math.floor(t/hl));x5.range;function mf(t){return Rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*lo)/KA)}const Vb=mf(0),g0=mf(1),Kie=mf(2),Hie=mf(3),Gd=mf(4),Gie=mf(5),Wie=mf(6);Vb.range;g0.range;Kie.range;Hie.range;Gd.range;Gie.range;Wie.range;function pf(t){return Rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/KA)}const zb=pf(0),y0=pf(1),Yie=pf(2),Qie=pf(3),Wd=pf(4),Xie=pf(5),Zie=pf(6);zb.range;y0.range;Yie.range;Qie.range;Wd.range;Xie.range;Zie.range;const QA=Rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QA.range;const XA=Rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XA.range;const ml=Rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ml.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ml.range;const pl=Rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pl.range;function E5(t,e,n,r,i,o){const l=[[Mc,1,tl],[Mc,5,5*tl],[Mc,15,15*tl],[Mc,30,30*tl],[o,1,lo],[o,5,5*lo],[o,15,15*lo],[o,30,30*lo],[i,1,nl],[i,3,3*nl],[i,6,6*nl],[i,12,12*nl],[r,1,hl],[r,2,2*hl],[n,1,KA],[e,1,fM],[e,3,3*fM],[t,1,OE]];function u(d,m,p){const b=m<d;b&&([d,m]=[m,d]);const x=p&&typeof p.range=="function"?p:f(d,m,p),T=x?x.range(d,+m+1):[];return b?T.reverse():T}function f(d,m,p){const b=Math.abs(m-d)/p,x=kA(([,,O])=>O).right(l,b);if(x===l.length)return t.every(yS(d/OE,m/OE,p));if(x===0)return p0.every(Math.max(yS(d,m,p),1));const[T,A]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return T.every(A)}return[u,f]}const[Jie,eae]=E5(pl,XA,zb,x5,YA,GA),[tae,nae]=E5(ml,QA,Vb,eg,WA,HA);function PE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=ym(i),m=vm(i),p=ym(o),b=vm(o),x=ym(l),T=vm(l),A=ym(u),O=vm(u),D=ym(f),B=vm(f),M={a:Pe,A:xe,b:Te,B:tt,c:null,d:yM,e:yM,f:Aae,g:jae,G:Vae,H:Eae,I:Sae,j:Tae,L:S5,m:Iae,M:Oae,p:ee,q:Se,Q:_M,s:wM,S:Pae,u:Cae,U:Rae,V:kae,w:Nae,W:Dae,x:null,X:null,y:Mae,Y:Lae,Z:zae,"%":bM},Y={a:De,A:je,b:nt,B:ut,c:null,d:vM,e:vM,f:Fae,g:Jae,G:toe,H:Uae,I:Bae,j:qae,L:A5,m:$ae,M:Kae,p:Ye,q:un,Q:_M,s:wM,S:Hae,u:Gae,U:Wae,V:Yae,w:Qae,W:Xae,x:null,X:null,y:Zae,Y:eoe,Z:noe,"%":bM},W={a:G,A:q,b:H,B:$,c:qe,d:pM,e:pM,f:bae,g:mM,G:hM,H:gM,I:gM,j:pae,L:vae,m:mae,M:gae,p:z,q:hae,Q:wae,s:xae,S:yae,u:lae,U:uae,V:cae,w:sae,W:fae,x:Xe,X:de,y:mM,Y:hM,Z:dae,"%":_ae};M.x=X(n,M),M.X=X(r,M),M.c=X(e,M),Y.x=X(n,Y),Y.X=X(r,Y),Y.c=X(e,Y);function X(ue,mt){return function(yt){var Ae=[],pn=-1,It=0,gn=ue.length,jn,vi,Uo;for(yt instanceof Date||(yt=new Date(+yt));++pn<gn;)ue.charCodeAt(pn)===37&&(Ae.push(ue.slice(It,pn)),(vi=dM[jn=ue.charAt(++pn)])!=null?jn=ue.charAt(++pn):vi=jn==="e"?" ":"0",(Uo=mt[jn])&&(jn=Uo(yt,vi)),Ae.push(jn),It=pn+1);return Ae.push(ue.slice(It,pn)),Ae.join("")}}function j(ue,mt){return function(yt){var Ae=gm(1900,void 0,1),pn=L(Ae,ue,yt+="",0),It,gn;if(pn!=yt.length)return null;if("Q"in Ae)return new Date(Ae.Q);if("s"in Ae)return new Date(Ae.s*1e3+("L"in Ae?Ae.L:0));if(mt&&!("Z"in Ae)&&(Ae.Z=0),"p"in Ae&&(Ae.H=Ae.H%12+Ae.p*12),Ae.m===void 0&&(Ae.m="q"in Ae?Ae.q:0),"V"in Ae){if(Ae.V<1||Ae.V>53)return null;"w"in Ae||(Ae.w=1),"Z"in Ae?(It=CE(gm(Ae.y,0,1)),gn=It.getUTCDay(),It=gn>4||gn===0?y0.ceil(It):y0(It),It=Lb.offset(It,(Ae.V-1)*7),Ae.y=It.getUTCFullYear(),Ae.m=It.getUTCMonth(),Ae.d=It.getUTCDate()+(Ae.w+6)%7):(It=PE(gm(Ae.y,0,1)),gn=It.getDay(),It=gn>4||gn===0?g0.ceil(It):g0(It),It=eg.offset(It,(Ae.V-1)*7),Ae.y=It.getFullYear(),Ae.m=It.getMonth(),Ae.d=It.getDate()+(Ae.w+6)%7)}else("W"in Ae||"U"in Ae)&&("w"in Ae||(Ae.w="u"in Ae?Ae.u%7:"W"in Ae?1:0),gn="Z"in Ae?CE(gm(Ae.y,0,1)).getUTCDay():PE(gm(Ae.y,0,1)).getDay(),Ae.m=0,Ae.d="W"in Ae?(Ae.w+6)%7+Ae.W*7-(gn+5)%7:Ae.w+Ae.U*7-(gn+6)%7);return"Z"in Ae?(Ae.H+=Ae.Z/100|0,Ae.M+=Ae.Z%100,CE(Ae)):PE(Ae)}}function L(ue,mt,yt,Ae){for(var pn=0,It=mt.length,gn=yt.length,jn,vi;pn<It;){if(Ae>=gn)return-1;if(jn=mt.charCodeAt(pn++),jn===37){if(jn=mt.charAt(pn++),vi=W[jn in dM?mt.charAt(pn++):jn],!vi||(Ae=vi(ue,yt,Ae))<0)return-1}else if(jn!=yt.charCodeAt(Ae++))return-1}return Ae}function z(ue,mt,yt){var Ae=d.exec(mt.slice(yt));return Ae?(ue.p=m.get(Ae[0].toLowerCase()),yt+Ae[0].length):-1}function G(ue,mt,yt){var Ae=x.exec(mt.slice(yt));return Ae?(ue.w=T.get(Ae[0].toLowerCase()),yt+Ae[0].length):-1}function q(ue,mt,yt){var Ae=p.exec(mt.slice(yt));return Ae?(ue.w=b.get(Ae[0].toLowerCase()),yt+Ae[0].length):-1}function H(ue,mt,yt){var Ae=D.exec(mt.slice(yt));return Ae?(ue.m=B.get(Ae[0].toLowerCase()),yt+Ae[0].length):-1}function $(ue,mt,yt){var Ae=A.exec(mt.slice(yt));return Ae?(ue.m=O.get(Ae[0].toLowerCase()),yt+Ae[0].length):-1}function qe(ue,mt,yt){return L(ue,e,mt,yt)}function Xe(ue,mt,yt){return L(ue,n,mt,yt)}function de(ue,mt,yt){return L(ue,r,mt,yt)}function Pe(ue){return l[ue.getDay()]}function xe(ue){return o[ue.getDay()]}function Te(ue){return f[ue.getMonth()]}function tt(ue){return u[ue.getMonth()]}function ee(ue){return i[+(ue.getHours()>=12)]}function Se(ue){return 1+~~(ue.getMonth()/3)}function De(ue){return l[ue.getUTCDay()]}function je(ue){return o[ue.getUTCDay()]}function nt(ue){return f[ue.getUTCMonth()]}function ut(ue){return u[ue.getUTCMonth()]}function Ye(ue){return i[+(ue.getUTCHours()>=12)]}function un(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var mt=X(ue+="",M);return mt.toString=function(){return ue},mt},parse:function(ue){var mt=j(ue+="",!1);return mt.toString=function(){return ue},mt},utcFormat:function(ue){var mt=X(ue+="",Y);return mt.toString=function(){return ue},mt},utcParse:function(ue){var mt=j(ue+="",!0);return mt.toString=function(){return ue},mt}}}var dM={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,iae=/^%/,aae=/[\\^$*+?|[\]().{}]/g;function Gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oae(t){return t.replace(aae,"\\$&")}function ym(t){return new RegExp("^(?:"+t.map(oae).join("|")+")","i")}function vm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sae(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lae(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hM(t,e,n){var r=Gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mM(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hae(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pM(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pae(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gM(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yae(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vae(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bae(t,e,n){var r=Gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _ae(t,e,n){var r=iae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wae(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xae(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function yM(t,e){return Gt(t.getDate(),e,2)}function Eae(t,e){return Gt(t.getHours(),e,2)}function Sae(t,e){return Gt(t.getHours()%12||12,e,2)}function Tae(t,e){return Gt(1+eg.count(ml(t),t),e,3)}function S5(t,e){return Gt(t.getMilliseconds(),e,3)}function Aae(t,e){return S5(t,e)+"000"}function Iae(t,e){return Gt(t.getMonth()+1,e,2)}function Oae(t,e){return Gt(t.getMinutes(),e,2)}function Pae(t,e){return Gt(t.getSeconds(),e,2)}function Cae(t){var e=t.getDay();return e===0?7:e}function Rae(t,e){return Gt(Vb.count(ml(t)-1,t),e,2)}function T5(t){var e=t.getDay();return e>=4||e===0?Gd(t):Gd.ceil(t)}function kae(t,e){return t=T5(t),Gt(Gd.count(ml(t),t)+(ml(t).getDay()===4),e,2)}function Nae(t){return t.getDay()}function Dae(t,e){return Gt(g0.count(ml(t)-1,t),e,2)}function Mae(t,e){return Gt(t.getFullYear()%100,e,2)}function jae(t,e){return t=T5(t),Gt(t.getFullYear()%100,e,2)}function Lae(t,e){return Gt(t.getFullYear()%1e4,e,4)}function Vae(t,e){var n=t.getDay();return t=n>=4||n===0?Gd(t):Gd.ceil(t),Gt(t.getFullYear()%1e4,e,4)}function zae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gt(e/60|0,"0",2)+Gt(e%60,"0",2)}function vM(t,e){return Gt(t.getUTCDate(),e,2)}function Uae(t,e){return Gt(t.getUTCHours(),e,2)}function Bae(t,e){return Gt(t.getUTCHours()%12||12,e,2)}function qae(t,e){return Gt(1+Lb.count(pl(t),t),e,3)}function A5(t,e){return Gt(t.getUTCMilliseconds(),e,3)}function Fae(t,e){return A5(t,e)+"000"}function $ae(t,e){return Gt(t.getUTCMonth()+1,e,2)}function Kae(t,e){return Gt(t.getUTCMinutes(),e,2)}function Hae(t,e){return Gt(t.getUTCSeconds(),e,2)}function Gae(t){var e=t.getUTCDay();return e===0?7:e}function Wae(t,e){return Gt(zb.count(pl(t)-1,t),e,2)}function I5(t){var e=t.getUTCDay();return e>=4||e===0?Wd(t):Wd.ceil(t)}function Yae(t,e){return t=I5(t),Gt(Wd.count(pl(t),t)+(pl(t).getUTCDay()===4),e,2)}function Qae(t){return t.getUTCDay()}function Xae(t,e){return Gt(y0.count(pl(t)-1,t),e,2)}function Zae(t,e){return Gt(t.getUTCFullYear()%100,e,2)}function Jae(t,e){return t=I5(t),Gt(t.getUTCFullYear()%100,e,2)}function eoe(t,e){return Gt(t.getUTCFullYear()%1e4,e,4)}function toe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wd(t):Wd.ceil(t),Gt(t.getUTCFullYear()%1e4,e,4)}function noe(){return"+0000"}function bM(){return"%"}function _M(t){return+t}function wM(t){return Math.floor(+t/1e3)}var ed,O5,P5;roe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function roe(t){return ed=rae(t),O5=ed.format,ed.parse,P5=ed.utcFormat,ed.utcParse,ed}function ioe(t){return new Date(t)}function aoe(t){return t instanceof Date?+t:+new Date(+t)}function ZA(t,e,n,r,i,o,l,u,f,d){var m=VA(),p=m.invert,b=m.domain,x=d(".%L"),T=d(":%S"),A=d("%I:%M"),O=d("%I %p"),D=d("%a %d"),B=d("%b %d"),M=d("%B"),Y=d("%Y");function W(X){return(f(X)<X?x:u(X)<X?T:l(X)<X?A:o(X)<X?O:r(X)<X?i(X)<X?D:B:n(X)<X?M:Y)(X)}return m.invert=function(X){return new Date(p(X))},m.domain=function(X){return arguments.length?b(Array.from(X,aoe)):b().map(ioe)},m.ticks=function(X){var j=b();return t(j[0],j[j.length-1],X??10)},m.tickFormat=function(X,j){return j==null?W:d(j)},m.nice=function(X){var j=b();return(!X||typeof X.range!="function")&&(X=e(j[0],j[j.length-1],X??10)),X?b(p5(j,X)):m},m.copy=function(){return Jp(m,ZA(t,e,n,r,i,o,l,u,f,d))},m}function ooe(){return po.apply(ZA(tae,nae,ml,QA,Vb,eg,WA,HA,Mc,O5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function soe(){return po.apply(ZA(Jie,eae,pl,XA,zb,Lb,YA,GA,Mc,P5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ub(){var t=0,e=1,n,r,i,o,l=Oi,u=!1,f;function d(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(l=p,d):l};function m(p){return function(b){var x,T;return arguments.length?([x,T]=b,l=p(x,T),d):[l(0),l(1)]}}return d.range=m(fh),d.rangeRound=m(LA),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Qu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function C5(){var t=Yu(Ub()(Oi));return t.copy=function(){return Qu(t,C5())},El.apply(t,arguments)}function R5(){var t=BA(Ub()).domain([1,10]);return t.copy=function(){return Qu(t,R5()).base(t.base())},El.apply(t,arguments)}function k5(){var t=qA(Ub());return t.copy=function(){return Qu(t,k5()).constant(t.constant())},El.apply(t,arguments)}function JA(){var t=FA(Ub());return t.copy=function(){return Qu(t,JA()).exponent(t.exponent())},El.apply(t,arguments)}function loe(){return JA.apply(null,arguments).exponent(.5)}function N5(){var t=[],e=Oi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Gre(t,o/r))},n.copy=function(){return N5(e).domain(t)},El.apply(n,arguments)}function Bb(){var t=0,e=.5,n=1,r=1,i,o,l,u,f,d=Oi,m,p=!1,b;function x(A){return isNaN(A=+A)?b:(A=.5+((A=+m(A))-o)*(r*A<r*o?u:f),d(p?Math.max(0,Math.min(1,A)):A))}x.domain=function(A){return arguments.length?([t,e,n]=A,i=m(t=+t),o=m(e=+e),l=m(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,x):[t,e,n]},x.clamp=function(A){return arguments.length?(p=!!A,x):p},x.interpolator=function(A){return arguments.length?(d=A,x):d};function T(A){return function(O){var D,B,M;return arguments.length?([D,B,M]=O,d=_ie(A,[D,B,M]),x):[d(0),d(.5),d(1)]}}return x.range=T(fh),x.rangeRound=T(LA),x.unknown=function(A){return arguments.length?(b=A,x):b},function(A){return m=A,i=A(t),o=A(e),l=A(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function D5(){var t=Yu(Bb()(Oi));return t.copy=function(){return Qu(t,D5())},El.apply(t,arguments)}function M5(){var t=BA(Bb()).domain([.1,1,10]);return t.copy=function(){return Qu(t,M5()).base(t.base())},El.apply(t,arguments)}function j5(){var t=qA(Bb());return t.copy=function(){return Qu(t,j5()).constant(t.constant())},El.apply(t,arguments)}function eI(){var t=FA(Bb());return t.copy=function(){return Qu(t,eI()).exponent(t.exponent())},El.apply(t,arguments)}function uoe(){return eI.apply(null,arguments).exponent(.5)}const Pm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:DA,scaleDiverging:D5,scaleDivergingLog:M5,scaleDivergingPow:eI,scaleDivergingSqrt:uoe,scaleDivergingSymlog:j5,scaleIdentity:m5,scaleImplicit:vS,scaleLinear:h5,scaleLog:g5,scaleOrdinal:NA,scalePoint:Qre,scalePow:$A,scaleQuantile:b5,scaleQuantize:_5,scaleRadial:v5,scaleSequential:C5,scaleSequentialLog:R5,scaleSequentialPow:JA,scaleSequentialQuantile:N5,scaleSequentialSqrt:loe,scaleSequentialSymlog:k5,scaleSqrt:Fie,scaleSymlog:y5,scaleThreshold:w5,scaleTime:ooe,scaleUtc:soe,tickFormat:d5},Symbol.toStringTag,{value:"Module"}));var Xu=t=>t.chartData,tI=_e([Xu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nI=(t,e,n,r)=>r?tI(t):Xu(t);function Uu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Kr(e)&&Kr(n))return!0}return!1}function xM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function L5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Kr(n))i=n;else if(typeof n=="function")return;if(Kr(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Uu(l))return l}}function coe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Uu(r))return xM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(ct(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&YN.test(i)){var f=YN.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e?.[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(ct(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e?.[1]))}catch{}else if(typeof o=="string"&&QN.test(o)){var m=QN.exec(o);if(m==null||e==null)u=void 0;else{var p=+m[1];u=e[1]+p}}else u=e?.[1];var b=[l,u];if(Uu(b))return e==null?b:xM(b,e,n)}}}var dh=1e9,foe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iI,Nn=!0,ho="[DecimalError] ",$c=ho+"Invalid argument: ",rI=ho+"Exponent out of range: ",hh=Math.floor,Ic=Math.pow,doe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pa,Fr=1e7,An=7,V5=9007199254740991,v0=hh(V5/An),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*An;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Je.dividedBy=Je.div=function(t){return il(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,n=e.constructor;return vn(il(e,new n(t),0,1),n.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return wr(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pa))throw Error(ho+"NaN");if(n.s<1)throw Error(ho+(n.s?"NaN":"-Infinity"));return n.eq(Pa)?new r(0):(Nn=!1,e=il(_p(n,o),_p(t,o),o),Nn=!0,vn(e,i))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B5(e,t):z5(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ho+"NaN");return n.s?(Nn=!1,e=il(n,t,0,1).times(t),Nn=!0,n.minus(e)):vn(new r(n),i)};Je.naturalExponential=Je.exp=function(){return U5(this)};Je.naturalLogarithm=Je.ln=function(){return _p(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z5(e,t):B5(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($c+t);if(e=wr(i)+1,r=i.d.length-1,n=r*An+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Je.squareRoot=Je.sqrt=function(){var t,e,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ho+"NaN")}for(t=wr(u),Nn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ss(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(il(u,o,l+2)).times(.5),ss(o.d).slice(0,l)===(e=ss(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(vn(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return Nn=!0,vn(r,n)};Je.times=Je.mul=function(t){var e,n,r,i,o,l,u,f,d,m=this,p=m.constructor,b=m.d,x=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=b.length,d=x.length,f<d&&(o=b,b=x,x=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+x[r]*b[i-r-1]+e,o[i--]=u%Fr|0,e=u/Fr|0;o[i]=(o[i]+e)%Fr|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Nn?vn(t,p.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vs(t,0,dh),e===void 0?e=r.rounding:vs(e,0,8),vn(n,t+wr(n)+1,e))};Je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=lf(r,!0):(vs(t,0,dh),e===void 0?e=i.rounding:vs(e,0,8),r=vn(new i(r),t+1,e),n=lf(r,!0,t+1)),n};Je.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?lf(i):(vs(t,0,dh),e===void 0?e=o.rounding:vs(e,0,8),r=vn(new o(i),t+wr(i)+1,e),n=lf(r.abs(),!1,t+wr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return vn(new e(t),wr(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,n,r,i,o,l,u=this,f=u.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Pa);if(u=new f(u),!u.s){if(t.s<1)throw Error(ho+"Infinity");return u}if(u.eq(Pa))return u;if(r=f.precision,t.eq(Pa))return vn(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=m<0?-m:m)<=V5){for(i=new f(Pa),e=Math.ceil(r/An+4),Nn=!1;n%2&&(i=i.times(u),SM(i.d,e)),n=hh(n/2),n!==0;)u=u.times(u),SM(u.d,e);return Nn=!0,t.s<0?new f(Pa).div(i):vn(i,r)}}else if(o<0)throw Error(ho+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Nn=!1,i=t.times(_p(u,r+d)),Nn=!0,i=U5(i),i.s=o,i};Je.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wr(i),r=lf(i,n<=o.toExpNeg||n>=o.toExpPos)):(vs(t,1,dh),e===void 0?e=o.rounding:vs(e,0,8),i=vn(new o(i),t,e),n=wr(i),r=lf(i,t<=n||n<=o.toExpNeg,t)),r};Je.toSignificantDigits=Je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vs(t,1,dh),e===void 0?e=r.rounding:vs(e,0,8)),vn(new r(n),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wr(t),n=t.constructor;return lf(t,e<=n.toExpNeg||e>=n.toExpPos)};function z5(t,e){var n,r,i,o,l,u,f,d,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Nn?vn(e,p):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(p/An),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Fr|0,f[o]%=Fr;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Nn?vn(e,p):e}function vs(t,e,n){if(t!==~~t||t<e||t>n)throw Error($c+t)}function ss(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=An-r.length,n&&(o+=vu(n)),o+=r;l=t[e],r=l+"",n=An-r.length,n&&(o+=vu(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var il=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Fr|0,l=o/Fr|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Fr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,m,p,b,x,T,A,O,D,B,M,Y,W,X,j,L,z=r.constructor,G=r.s==i.s?1:-1,q=r.d,H=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(ho+"Division by zero");for(f=r.e-i.e,j=H.length,W=q.length,x=new z(G),T=x.d=[],d=0;H[d]==(q[d]||0);)++d;if(H[d]>(q[d]||0)&&--f,o==null?B=o=z.precision:l?B=o+(wr(r)-wr(i))+1:B=o,B<0)return new z(0);if(B=B/An+2|0,d=0,j==1)for(m=0,H=H[0],B++;(d<W||m)&&B--;d++)M=m*Fr+(q[d]||0),T[d]=M/H|0,m=M%H|0;else{for(m=Fr/(H[0]+1)|0,m>1&&(H=t(H,m),q=t(q,m),j=H.length,W=q.length),Y=j,A=q.slice(0,j),O=A.length;O<j;)A[O++]=0;L=H.slice(),L.unshift(0),X=H[0],H[1]>=Fr/2&&++X;do m=0,u=e(H,A,j,O),u<0?(D=A[0],j!=O&&(D=D*Fr+(A[1]||0)),m=D/X|0,m>1?(m>=Fr&&(m=Fr-1),p=t(H,m),b=p.length,O=A.length,u=e(p,A,b,O),u==1&&(m--,n(p,j<b?L:H,b))):(m==0&&(u=m=1),p=H.slice()),b=p.length,b<O&&p.unshift(0),n(A,p,O),u==-1&&(O=A.length,u=e(H,A,j,O),u<1&&(m++,n(A,j<O?L:H,O))),O=A.length):u===0&&(m++,A=[0]),T[d++]=m,u&&A[0]?A[O++]=q[Y]||0:(A=[q[Y]],O=1);while((Y++<W||A[0]!==void 0)&&B--)}return T[0]||T.shift(),x.e=f,vn(x,l?o+wr(x)+1:o)}})();function U5(t,e){var n,r,i,o,l,u,f=0,d=0,m=t.constructor,p=m.precision;if(wr(t)>16)throw Error(rI+wr(t));if(!t.s)return new m(Pa);for(Nn=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Ic(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new m(Pa),m.precision=u;;){if(i=vn(i.times(t),u),n=n.times(++f),l=o.plus(il(i,n,u)),ss(l.d).slice(0,u)===ss(o.d).slice(0,u)){for(;d--;)o=vn(o.times(o),u);return m.precision=p,e==null?(Nn=!0,vn(o,p)):o}o=l}}function wr(t){for(var e=t.e*An,n=t.d[0];n>=10;n/=10)e++;return e}function RE(t,e,n){if(e>t.LN10.sd())throw Nn=!0,n&&(t.precision=n),Error(ho+"LN10 precision limit exceeded");return vn(new t(t.LN10),e)}function vu(t){for(var e="";t--;)e+="0";return e}function _p(t,e){var n,r,i,o,l,u,f,d,m,p=1,b=10,x=t,T=x.d,A=x.constructor,O=A.precision;if(x.s<1)throw Error(ho+(x.s?"NaN":"-Infinity"));if(x.eq(Pa))return new A(0);if(e==null?(Nn=!1,d=O):d=e,x.eq(10))return e==null&&(Nn=!0),RE(A,d);if(d+=b,A.precision=d,n=ss(T),r=n.charAt(0),o=wr(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=ss(x.d),r=n.charAt(0),p++;o=wr(x),r>1?(x=new A("0."+n),o++):x=new A(r+"."+n.slice(1))}else return f=RE(A,d+2,O).times(o+""),x=_p(new A(r+"."+n.slice(1)),d-b).plus(f),A.precision=O,e==null?(Nn=!0,vn(x,O)):x;for(u=l=x=il(x.minus(Pa),x.plus(Pa),d),m=vn(x.times(x),d),i=3;;){if(l=vn(l.times(m),d),f=u.plus(il(l,new A(i),d)),ss(f.d).slice(0,d)===ss(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(RE(A,d+2,O).times(o+""))),u=il(u,new A(p),d),A.precision=O,e==null?(Nn=!0,vn(u,O)):u;u=f,i+=2}}function EM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hh(n/An),t.d=[],r=(n+1)%An,n<0&&(r+=An),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=An;r<i;)t.d.push(+e.slice(r,r+=An));e=e.slice(r),r=An-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nn&&(t.e>v0||t.e<-v0))throw Error(rI+n)}else t.s=0,t.e=0,t.d=[0];return t}function vn(t,e,n){var r,i,o,l,u,f,d,m,p=t.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=An,i=e,d=p[m=0];else{if(m=Math.ceil((r+1)/An),o=p.length,m>=o)return t;for(d=o=p[m],l=1;o>=10;o/=10)l++;r%=An,i=r-An+l}if(n!==void 0&&(o=Ic(10,l-i-1),u=d/o%10|0,f=e<0||p[m+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Ic(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(o=wr(t),p.length=1,e=e-o-1,p[0]=Ic(10,(An-e%An)%An),t.e=hh(-e/An)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,o=1,m--):(p.length=m+1,o=Ic(10,An-r),p[m]=i>0?(d/Ic(10,l-i)%Ic(10,i)|0)*o:0),f)for(;;)if(m==0){(p[0]+=o)==Fr&&(p[0]=1,++t.e);break}else{if(p[m]+=o,p[m]!=Fr)break;p[m--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Nn&&(t.e>v0||t.e<-v0))throw Error(rI+wr(t));return t}function B5(t,e){var n,r,i,o,l,u,f,d,m,p,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Nn?vn(e,x):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(m=l<0,m?(n=f,l=-l,u=p.length):(n=p,r=d,u=f.length),i=Math.max(Math.ceil(x/An),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(o=i;o&&f[--o]===0;)f[o]=Fr-1;--f[o],f[i]+=Fr}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Nn?vn(e,x):e):new b(0)}function lf(t,e,n){var r,i=wr(t),o=ss(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+vu(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+vu(-i-1)+o,n&&(r=n-l)>0&&(o+=vu(r))):i>=l?(o+=vu(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+vu(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=vu(r))),t.s<0?"-"+o:o}function SM(t,e){if(t.length>e)return t.length=e,!0}function q5(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($c+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return EM(l,o.toString())}else if(typeof o!="string")throw Error($c+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,doe.test(o))EM(l,o);else throw Error($c+o)}if(i.prototype=Je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=q5,i.config=i.set=hoe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hoe(t){if(!t||typeof t!="object")throw Error(ho+"Object expected");var e,n,r,i=["precision",1,dh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($c+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($c+n+": "+r);return this}var iI=q5(foe);Pa=new iI(1);const an=iI;var moe=t=>t,F5={},$5=t=>t===F5,TM=t=>function e(){return arguments.length===0||arguments.length===1&&$5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},K5=(t,e)=>t===1?e:TM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==F5).length;return o>=t?e(...r):K5(t-o,TM(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(m=>$5(m)?u.shift():m);return e(...d,...u)}))}),poe=t=>K5(t.length,t),xS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},goe=poe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),yoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return moe;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}},ES=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function H5(t){var e;return t===0?e=1:e=Math.floor(new an(t).abs().log(10).toNumber())+1,e}function G5(t,e,n){for(var r=new an(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var W5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Y5=(t,e,n)=>{if(t.lte(0))return new an(0);var r=H5(t.toNumber()),i=new an(10).pow(r),o=t.div(i),l=r!==1?.05:.1,u=new an(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new an(f.toNumber()):new an(Math.ceil(f.toNumber()))},voe=(t,e,n)=>{var r=new an(1),i=new an(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new an(10).pow(H5(t)-1),i=new an(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new an(Math.floor(t)))}else t===0?i=new an(Math.floor((e-1)/2)):n||(i=new an(Math.floor(t)));var l=Math.floor((e-1)/2),u=yoe(goe(f=>i.add(new an(f-l).mul(r)).toNumber()),xS);return u(0,e)},Q5=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new an(0),tickMin:new an(0),tickMax:new an(0)};var l=Y5(new an(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new an(0):(u=new an(e).add(n).div(2),u=u.sub(new an(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new an(n).sub(u).div(l).toNumber()),m=f+d+1;return m>r?Q5(e,n,r,i,o+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:l,tickMin:u.sub(new an(f).mul(l)),tickMax:u.add(new an(d).mul(l))})},boe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=W5([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...xS(0,i-1).map(()=>1/0)]:[...xS(0,i-1).map(()=>-1/0),f];return n>r?ES(d):d}if(u===f)return voe(u,i,o);var{step:m,tickMin:p,tickMax:b}=Q5(u,f,l,o,0),x=G5(p,b.add(new an(.1).mul(m)),m);return n>r?ES(x):x},_oe=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=W5([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=Y5(new an(u).sub(l).div(f-1),o,0),m=[...G5(new an(l),new an(u),d),u];return o===!1&&(m=m.map(p=>Math.round(p))),r>i?ES(m):m},woe=t=>t.rootProps.barCategoryGap,tg=t=>t.rootProps.stackOffset,X5=t=>t.rootProps.reverseStackOrder,aI=t=>t.options.chartName,oI=t=>t.rootProps.syncId,Z5=t=>t.rootProps.syncMethod,sI=t=>t.options.eventEmitter,ni={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},xoe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:Qs.reversed,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:Qs.type,unit:void 0},Eoe={allowDataOverflow:Oa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oa.scale,tick:Oa.tick,tickCount:Oa.tickCount,ticks:void 0,type:Oa.type,unit:void 0},Soe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Toe={allowDataOverflow:Oa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oa.scale,tick:Oa.tick,tickCount:Oa.tickCount,ticks:void 0,type:"category",unit:void 0},lI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Soe:xoe,uI=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Toe:Eoe,Fb=t=>t.polarOptions,cI=_e([wl,xl,Hr],Zz),J5=_e([Fb,cI],(t,e)=>{if(t!=null)return Na(t.innerRadius,e,0)}),eU=_e([Fb,cI],(t,e)=>{if(t!=null)return Na(t.outerRadius,e,e*.8)}),Aoe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},tU=_e([Fb],Aoe);_e([lI,tU],qb);var nU=_e([cI,J5,eU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});_e([uI,nU],qb);var rU=_e([mn,Fb,J5,eU,wl,xl],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:Na(l,i,i/2),cy:Na(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Mn=(t,e)=>e,ng=(t,e,n)=>n;function iU(t){return t?.id}function aU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var m=iU(u);d.forEach((p,b)=>{var x=o==null||i?b:String(kn(p,o,null)),T=kn(p,u.dataKey,0),A;l.has(x)?A=l.get(x):A={},Object.assign(A,{[m]:T}),l.set(x,A)})}}),Array.from(l.values())}function fI(t){return t.stackId!=null&&t.dataKey!=null}var $b=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Kb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Ioe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var kr=t=>{var e=mn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},mh=t=>t.tooltip.settings.axisId;function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SS=[0,"auto"],Ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oU=(t,e)=>t.cartesianAxis.xAxis[e],Sl=(t,e)=>{var n=oU(t,e);return n??Ur},Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:SS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wp},sU=(t,e)=>t.cartesianAxis.yAxis[e],Tl=(t,e)=>{var n=sU(t,e);return n??Br},Roe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Roe},Kn=(t,e,n)=>{switch(e){case"xAxis":return Sl(t,n);case"yAxis":return Tl(t,n);case"zAxis":return dI(t,n);case"angleAxis":return lI(t,n);case"radiusAxis":return uI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},koe=(t,e,n)=>{switch(e){case"xAxis":return Sl(t,n);case"yAxis":return Tl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rg=(t,e,n)=>{switch(e){case"xAxis":return Sl(t,n);case"yAxis":return Tl(t,n);case"angleAxis":return lI(t,n);case"radiusAxis":return uI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hI(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var uU=t=>t.graphicalItems.cartesianItems,Noe=_e([Mn,ng],hI),mI=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ig=_e([uU,Kn,Noe],mI,{memoizeOptions:{resultEqualityCheck:Kb}}),cU=_e([ig],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(fI)),fU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Doe=_e([ig],fU),pI=t=>t.map(e=>e.data).filter(Boolean).flat(1),Moe=_e([ig],pI,{memoizeOptions:{resultEqualityCheck:Kb}}),gI=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},yI=_e([Moe,nI],gI),vI=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:kn(i,r)}))):t.map(r=>({value:r})),Hb=_e([yI,Kn,ig],vI);function dU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sv(t){if(gs(t)||t instanceof Date){var e=Number(t);if(Kr(e))return e}}function IM(t){if(Array.isArray(t)){var e=[sv(t[0]),sv(t[1])];return Uu(e)?e:void 0}var n=sv(t);if(n!=null)return[n,n]}function gl(t){return t.map(sv).filter(DZ)}function joe(t,e,n){return!n||typeof e!="number"||ps(e)?[]:n.length?gl(n.flatMap(r=>{var i=kn(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Kr(o)||!Kr(l)))return[e-o,e+l]})):[]}var Nr=t=>{var e=kr(t),n=mh(t);return rg(t,e,n)},ag=_e([Nr],t=>t?.dataKey),Loe=_e([cU,nI,Nr],aU),hU=(t,e,n,r)=>{var i={},o=e.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,m=d.map(iU);return[u,{stackedData:ote(t,m,n),graphicalItems:d}]}))},Voe=_e([Loe,cU,tg,X5],hU),mU=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=ute(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},zoe=_e([Kn],t=>t.allowDataOverflow),bI=t=>{var e;if(t==null||!("domain"in t))return SS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=gl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:SS},_I=_e([Kn],bI),wI=_e([_I,zoe],L5),Uoe=_e([Voe,Xu,Mn,wI],mU,{memoizeOptions:{resultEqualityCheck:$b}}),Gb=t=>t.errorBars,Boe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>dU(n,r)),_0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},xI=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,m,p=(d=r[f.id])===null||d===void 0?void 0:d.filter(D=>dU(i,D)),b=kn(u,(m=e.dataKey)!==null&&m!==void 0?m:f.dataKey),x=joe(u,b,p);if(x.length>=2){var T=Math.min(...x),A=Math.max(...x);(o==null||T<o)&&(o=T),(l==null||A>l)&&(l=A)}var O=IM(b);O!=null&&(o=o==null?O[0]:Math.min(o,O[0]),l=l==null?O[1]:Math.max(l,O[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=IM(kn(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Kr(o)&&Kr(l))return[o,l]},qoe=_e([yI,Kn,Doe,Gb,Mn],xI,{memoizeOptions:{resultEqualityCheck:$b}});function Foe(t){var{value:e}=t;if(gs(e)||e instanceof Date)return e}var $oe=(t,e,n)=>{var r=t.map(Foe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&P6(r))?n5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},pU=t=>t.referenceElements.dots,ph=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Koe=_e([pU,Mn,ng],ph),gU=t=>t.referenceElements.areas,Hoe=_e([gU,Mn,ng],ph),yU=t=>t.referenceElements.lines,Goe=_e([yU,Mn,ng],ph),vU=(t,e)=>{var n=gl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Woe=_e(Koe,Mn,vU),bU=(t,e)=>{var n=gl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yoe=_e([Hoe,Mn],bU);function Qoe(t){var e;if(t.x!=null)return gl([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:gl(n)}function Xoe(t){var e;if(t.y!=null)return gl([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:gl(n)}var _U=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Qoe(r):Xoe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zoe=_e([Goe,Mn],_U),Joe=_e(Woe,Zoe,Yoe,(t,e,n)=>_0(t,n,e)),EI=(t,e,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?_0(r,o,i):_0(o,i);return coe(e,d,t.allowDataOverflow)},ese=_e([Kn,_I,wI,Uoe,qoe,Joe,mn,Mn],EI,{memoizeOptions:{resultEqualityCheck:$b}}),tse=[0,1],SI=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=Wu(e,o);if(d&&u==null){var m;return n5(0,(m=n?.length)!==null&&m!==void 0?m:0)}return f==="category"?$oe(r,t,d):i==="expand"?tse:l}},TI=_e([Kn,mn,yI,Hb,tg,Mn,ese],SI),wU=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Fp(o));return u in Pm?u:"point"}}},gh=_e([Kn,mn,lU,aI,Mn],wU);function nse(t){if(t!=null){if(t in Pm)return Pm[t]();var e="scale".concat(Fp(t));if(e in Pm)return Pm[e]()}}function AI(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=nse(e);if(i!=null){var o=i.domain(n).range(r);return nte(o),o}}}var II=(t,e,n)=>{var r=bI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Uu(t))return boe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Uu(t))return _oe(t,e.tickCount,e.allowDecimals)}},OI=_e([TI,rg,gh],II),PI=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Uu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return e},rse=_e([Kn,TI,OI,Mn],PI),ise=_e(Hb,Kn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(gl(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),xU=_e(ise,mn,woe,Hr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Kr(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=Na(n,t*o),u=t*o/2;return u-l-(u-l)/o*l}return 0}),ase=(t,e)=>{var n=Sl(t,e);return n==null||typeof n.padding!="string"?0:xU(t,"xAxis",e,n.padding)},ose=(t,e)=>{var n=Tl(t,e);return n==null||typeof n.padding!="string"?0:xU(t,"yAxis",e,n.padding)},sse=_e(Sl,ase,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lse=_e(Tl,ose,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),use=_e([Hr,sse,Ib,Ab,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),cse=_e([Hr,mn,lse,Ib,Ab,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),og=(t,e,n,r)=>{var i;switch(e){case"xAxis":return use(t,n,r);case"yAxis":return cse(t,n,r);case"zAxis":return(i=dI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return tU(t);case"radiusAxis":return nU(t,n);default:return}},EU=_e([Kn,og],qb),yh=_e([Kn,gh,rse,EU],AI);_e([ig,Gb,Mn],Boe);function SU(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Wb=(t,e)=>e,Yb=(t,e,n)=>n,fse=_e(Sb,Wb,Yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(SU)),dse=_e(Tb,Wb,Yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(SU)),TU=(t,e)=>({width:t.width,height:e.height}),hse=(t,e)=>{var n=typeof e.width=="number"?e.width:Wp;return{width:n,height:t.height}},mse=_e(Hr,Sl,TU),pse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},yse=_e(xl,Hr,fse,Wb,Yb,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=TU(e,u);l==null&&(l=pse(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),vse=_e(wl,Hr,dse,Wb,Yb,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=hse(e,u);l==null&&(l=gse(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),bse=(t,e)=>{var n=Sl(t,e);if(n!=null)return yse(t,n.orientation,n.mirror)},_se=_e([Hr,Sl,bse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),wse=(t,e)=>{var n=Tl(t,e);if(n!=null)return vse(t,n.orientation,n.mirror)},xse=_e([Hr,Tl,wse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Ese=_e(Hr,Tl,(t,e)=>{var n=typeof e.width=="number"?e.width:Wp;return{width:n,height:t.height}}),AU=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Wu(t,r),f=e.map(d=>d.value);if(l&&u&&o==="category"&&i&&P6(f))return f}},CI=_e([mn,Hb,Kn,Mn],AU),IU=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Wu(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},RI=_e([mn,Hb,rg,Mn],IU),OM=_e([mn,koe,gh,yh,CI,RI,og,OI,Mn],(t,e,n,r,i,o,l,u,f)=>{if(e!=null){var d=Wu(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Sse=(t,e,n,r,i,o,l,u,f)=>{if(!(e==null||r==null)){var d=Wu(t,f),{type:m,ticks:p,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=m==="category"&&r.bandwidth?r.bandwidth()/x:0;T=f==="angleAxis"&&o!=null&&o.length>=2?gi(o[0]-o[1])*2*T:T;var A=p||i;if(A){var O=A.map((D,B)=>{var M=l?l.indexOf(D):D;return{index:B,coordinate:r(M)+T,value:D,offset:T}});return O.filter(D=>Kr(D.coordinate))}return d&&u?u.map((D,B)=>({coordinate:r(D)+T,value:D,index:B,offset:T})).filter(D=>Kr(D.coordinate)):r.ticks?r.ticks(b).map(D=>({coordinate:r(D)+T,value:D,offset:T})):r.domain().map((D,B)=>({coordinate:r(D)+T,value:l?l[D]:D,index:B,offset:T}))}},OU=_e([mn,rg,gh,yh,OI,og,CI,RI,Mn],Sse),Tse=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Wu(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&r?.length>=2?gi(r[0]-r[1])*2*d:d,u&&o?o.map((m,p)=>({coordinate:n(m)+d,value:m,index:p,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,p)=>({coordinate:n(m)+d,value:i?i[m]:m,index:p,offset:d}))}},PU=_e([mn,rg,yh,og,CI,RI,Mn],Tse),CU=_e(Kn,yh,(t,e)=>{if(!(t==null||e==null))return b0(b0({},t),{},{scale:e})}),Ase=_e([Kn,gh,TI,EU],AI);_e((t,e,n)=>dI(t,n),Ase,(t,e)=>{if(!(t==null||e==null))return b0(b0({},t),{},{scale:e})});var Ise=_e([mn,Sb,Tb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RU=t=>t.options.defaultTooltipEventType,kU=t=>t.options.validateTooltipEventTypes;function NU(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function kI(t,e){var n=RU(t),r=kU(t);return NU(e,n,r)}function Ose(t){return at(e=>kI(e,t))}var DU=(t,e)=>{var n,r=Number(e);if(!(ps(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Pse=t=>t.tooltip.settings,Tu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Cse={itemInteraction:{click:Tu,hover:Tu},axisInteraction:{click:Tu,hover:Tu},keyboardInteraction:Tu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MU=ia({name:"tooltip",initialState:Cse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Cn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Do(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Cn()},removeTooltipEntrySettings:{reducer(t,e){var n=Do(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Cn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Rse,replaceTooltipEntrySettings:kse,removeTooltipEntrySettings:Nse,setTooltipSettingsState:Dse,setActiveMouseOverItemIndex:jU,mouseLeaveItem:Mse,mouseLeaveChart:LU,setActiveClickItemIndex:jse,setMouseOverAxisIndex:VU,setMouseClickAxisIndex:Lse,setSyncInteraction:TS,setKeyboardInteraction:AS}=MU.actions,Vse=MU.reducer;function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e,n){return(e=Use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Fse(t){return t.index!=null}var zU=(t,e,n,r)=>{if(e==null)return Tu;var i=qse(t,e,n);if(i==null)return Tu;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Fse(i)){if(o)return Ly(Ly({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ly(Ly({},Tu),{},{coordinate:i.coordinate})};function $se(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Kse(t,e){var n=$se(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Hse(t,e,n){if(n==null||e==null)return!0;var r=kn(t,e);return r==null||!Uu(n)?!0:Kse(r,n)}var NI=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var o=Number(i);if(!Kr(o))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(o,u)),d=e[f];return d==null||Hse(d,n,r)?String(f):null},UU=(t,e,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var m=i?.[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},BU=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},sg=t=>t.options.tooltipPayloadSearcher,vh=t=>t.tooltip;function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t,e){return t??e}var qU=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,p=[];return t.reduce((b,x)=>{var T,{dataDefinedOnItem:A,settings:O}=x,D=Qse(A,u),B=Array.isArray(D)?Ez(D,d,m):D,M=(T=O?.dataKey)!==null&&T!==void 0?T:r,Y=O?.nameKey,W;if(r&&Array.isArray(B)&&!Array.isArray(B[0])&&l==="axis"?W=C6(B,r,i):W=o(B,e,f,Y),Array.isArray(W))W.forEach(j=>{var L=RM(RM({},O),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});b.push(XN({tooltipEntrySettings:L,dataKey:j.dataKey,payload:j.payload,value:kn(j.payload,j.dataKey),name:j.name}))});else{var X;b.push(XN({tooltipEntrySettings:O,dataKey:M,payload:W,value:kn(W,M),name:(X=kn(W,Y))!==null&&X!==void 0?X:O?.name}))}return b},p)}},DI=_e([Nr,mn,lU,aI,kr],wU),Xse=_e([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Zse=_e([kr,mh],hI),lg=_e([Xse,Nr,Zse],mI,{memoizeOptions:{resultEqualityCheck:Kb}}),Jse=_e([lg],t=>t.filter(fI)),ele=_e([lg],pI,{memoizeOptions:{resultEqualityCheck:Kb}}),bh=_e([ele,Xu],gI),tle=_e([Jse,Xu,Nr],aU),MI=_e([bh,Nr,lg],vI),FU=_e([Nr],bI),nle=_e([Nr],t=>t.allowDataOverflow),$U=_e([FU,nle],L5),rle=_e([lg],t=>t.filter(fI)),ile=_e([tle,rle,tg,X5],hU),ale=_e([ile,Xu,kr,$U],mU),ole=_e([lg],fU),sle=_e([bh,Nr,ole,Gb,kr],xI,{memoizeOptions:{resultEqualityCheck:$b}}),lle=_e([pU,kr,mh],ph),ule=_e([lle,kr],vU),cle=_e([gU,kr,mh],ph),fle=_e([cle,kr],bU),dle=_e([yU,kr,mh],ph),hle=_e([dle,kr],_U),mle=_e([ule,hle,fle],_0),ple=_e([Nr,FU,$U,ale,sle,mle,mn,kr],EI),ug=_e([Nr,mn,bh,MI,tg,kr,ple],SI),gle=_e([ug,Nr,DI],II),yle=_e([Nr,ug,gle,kr],PI),KU=t=>{var e=kr(t),n=mh(t),r=!1;return og(t,e,n,r)},HU=_e([Nr,KU],qb),GU=_e([Nr,DI,yle,HU],AI),vle=_e([mn,MI,Nr,kr],AU),ble=_e([mn,MI,Nr,kr],IU),_le=(t,e,n,r,i,o,l,u)=>{if(e){var{type:f}=e,d=Wu(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?gi(i[0]-i[1])*2*p:p,d&&l?l.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:o?o[b]:b,index:x,offset:p}))}}},Al=_e([mn,Nr,DI,GU,KU,vle,ble,kr],_le),jI=_e([RU,kU,Pse],(t,e,n)=>NU(n.shared,t,e)),WU=t=>t.tooltip.settings.trigger,LI=t=>t.tooltip.settings.defaultIndex,cg=_e([vh,jI,WU,LI],zU),Yd=_e([cg,bh,ag,ug],NI),YU=_e([Al,Yd],DU),QU=_e([cg],t=>{if(t)return t.dataKey}),wle=_e([cg],t=>{if(t)return t.graphicalItemId}),XU=_e([vh,jI,WU,LI],BU),xle=_e([wl,xl,mn,Hr,Al,LI,XU,sg],UU),Ele=_e([cg,xle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Sle=_e([cg],t=>t.active),Tle=_e([XU,Yd,Xu,ag,YU,sg,jI],qU),Ale=_e([Tle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cle=()=>at(Nr),Rle=()=>{var t=Cle(),e=at(Al),n=at(GU);return Jv(!t||!n?void 0:NM(NM({},t),{},{scale:n}),e)};function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mle=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},jle=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return td(td(td({},r),_r(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return td(td(td({},r),_r(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var ZU=(t,e,n,r,i)=>{var o,l=-1,u=(o=e?.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(gi(m-d)!==gi(p-m)){var x=[];if(gi(p-m)===gi(i[1]-i[0])){b=p;var T=m+i[1]-i[0];x[0]=Math.min(T,(T+d)/2),x[1]=Math.max(T,(T+d)/2)}else{b=d;var A=p+i[1]-i[0];x[0]=Math.min(m,(A+m)/2),x[1]=Math.max(m,(A+m)/2)}var O=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>O[0]&&t<=O[1]||t>=x[0]&&t<=x[1]){({index:l}=n[f]);break}}else{var D=Math.min(d,p),B=Math.max(d,p);if(t>(D+m)/2&&t<=(B+m)/2){({index:l}=n[f]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:l}=e[M]);break}}return l},Vle=()=>at(aI),VI=(t,e)=>e,JU=(t,e,n)=>n,zI=(t,e,n,r)=>r,zle=_e(Al,t=>mb(t,e=>e.coordinate)),UI=_e([vh,VI,JU,zI],zU),BI=_e([UI,bh,ag,ug],NI),Ule=(t,e,n)=>{if(e!=null){var r=vh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},eB=_e([vh,VI,JU,zI],BU),w0=_e([wl,xl,mn,Hr,Al,zI,eB,sg],UU),Ble=_e([UI,w0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),tB=_e([Al,BI],DU),qle=_e([eB,BI,Xu,ag,tB,sg,VI],qU),Fle=_e([UI,BI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),$le=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&Lle(t,l)){var u=cte(t,e),f=ZU(u,o,i,n,r),d=Mle(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Kle=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var u=Are(t,n);if(u){var f=fte(u,e),d=ZU(f,l,o,r,i),m=jle(e,o,d,u);return{activeIndex:String(d),activeCoordinate:m}}}},Hle=(t,e,n,r,i,o,l,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?$le(t,e,r,i,o,l,u):Kle(t,e,n,r,i,o,l)},Gle=_e(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Wle=_e(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(ni)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Ioe}});function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){Yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yle(t,e,n){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Xle(t,"string");return typeof e=="symbol"?e:e+""}function Xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zle={},Jle={zIndexMap:Object.values(ni).reduce((t,e)=>jM(jM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Zle)},eue=new Set(Object.values(ni));function tue(t){return eue.has(t)}var nB=ia({name:"zIndex",initialState:Jle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Cn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!tue(n)&&delete t.zIndexMap[n])},prepare:Cn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Cn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Cn()}}}),{registerZIndexPortal:nue,unregisterZIndexPortal:rue,registerZIndexPortalId:iue,unregisterZIndexPortalId:aue}=nB.actions,oue=nB.reducer;function zo(t){var{zIndex:e,children:n}=t,r=qte(),i=r&&e!==void 0&&e!==0,o=aa(),l=wn();E.useLayoutEffect(()=>i?(l(nue({zIndex:e})),()=>{l(rue({zIndex:e}))}):$p,[l,e,i]);var u=at(d=>Gle(d,e,o));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?GS.createPortal(n,f):null}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(null,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function fue(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:m}=t,p=n,b=r,x=i;if(!f||!p||m!=="ScatterChart"&&d!=="axis")return null;var T,A,O;if(m==="ScatterChart")T=p,A=Bne,O=ni.cursorLine;else if(m==="BarChart")T=qne(u,p,o,l),A=Xz,O=ni.cursorRectangle;else if(u==="radial"&&k6(p)){var{cx:D,cy:B,radius:M,startAngle:Y,endAngle:W}=Jz(p);T={cx:D,cy:B,startAngle:Y,endAngle:W,innerRadius:M,outerRadius:M},A=t5,O=ni.cursorLine}else T={points:Cre(u,p,o)},A=RA,O=ni.cursorLine;var X=typeof f=="object"&&"className"in f?f.className:void 0,j=Vy(Vy(Vy(Vy({stroke:"#ccc",pointerEvents:"none"},o),T),Ud(f)),{},{payload:b,payloadIndex:x,className:Ht("recharts-tooltip-cursor",X)});return E.createElement(zo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:O},E.createElement(cue,{cursor:f,cursorComp:A,cursorProps:j}))}function due(t){var e=Rle(),n=Dz(),r=Pb(),i=Vle();return e==null||n==null||r==null||i==null?null:E.createElement(fue,IS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var rB=E.createContext(null),hue=()=>E.useContext(rB),kE={exports:{}},VM;function mue(){return VM||(VM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function o(f,d,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||f,b),T=n?n+d:d;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],x]:f._events[T].push(x):(f._events[T]=x,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,T=new Array(x);b<x;b++)T[b]=p[b].fn;return T},u.prototype.listenerCount=function(d){var m=n?n+d:d,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,m,p,b,x,T){var A=n?n+d:d;if(!this._events[A])return!1;var O=this._events[A],D=arguments.length,B,M;if(O.fn){switch(O.once&&this.removeListener(d,O.fn,void 0,!0),D){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,m),!0;case 3:return O.fn.call(O.context,m,p),!0;case 4:return O.fn.call(O.context,m,p,b),!0;case 5:return O.fn.call(O.context,m,p,b,x),!0;case 6:return O.fn.call(O.context,m,p,b,x,T),!0}for(M=1,B=new Array(D-1);M<D;M++)B[M-1]=arguments[M];O.fn.apply(O.context,B)}else{var Y=O.length,W;for(M=0;M<Y;M++)switch(O[M].once&&this.removeListener(d,O[M].fn,void 0,!0),D){case 1:O[M].fn.call(O[M].context);break;case 2:O[M].fn.call(O[M].context,m);break;case 3:O[M].fn.call(O[M].context,m,p);break;case 4:O[M].fn.call(O[M].context,m,p,b);break;default:if(!B)for(W=1,B=new Array(D-1);W<D;W++)B[W-1]=arguments[W];O[M].fn.apply(O[M].context,B)}}return!0},u.prototype.on=function(d,m,p){return o(this,d,m,p,!1)},u.prototype.once=function(d,m,p){return o(this,d,m,p,!0)},u.prototype.removeListener=function(d,m,p,b){var x=n?n+d:d;if(!this._events[x])return this;if(!m)return l(this,x),this;var T=this._events[x];if(T.fn)T.fn===m&&(!b||T.once)&&(!p||T.context===p)&&l(this,x);else{for(var A=0,O=[],D=T.length;A<D;A++)(T[A].fn!==m||b&&!T[A].once||p&&T[A].context!==p)&&O.push(T[A]);O.length?this._events[x]=O.length===1?O[0]:O:l(this,x)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(kE)),kE.exports}var pue=mue();const gue=bs(pue);var wp=new gue,OS="recharts.syncEvent.tooltip",zM="recharts.syncEvent.brush";function iB(t,e){if(e){var n=Number.parseInt(e,10);if(!ps(n))return t?.[n]}}var yue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},aB=ia({name:"options",initialState:yue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vue=aB.reducer,{createEventEmitter:bue}=aB.actions;function _ue(t){return t.tooltip.syncInteraction}var wue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oB=ia({name:"chartData",initialState:wue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:UM,setDataStartEndIndexes:xue,setComputedData:Oye}=oB.actions,Eue=oB.reducer,Sue=["x","y"];function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oue(t,e){if(t==null)return{};var n,r,i=Pue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cue(){var t=at(oI),e=at(sI),n=wn(),r=at(Z5),i=at(Al),o=Pb(),l=Ob(),u=at(f=>f.rootProps.className);E.useEffect(()=>{if(t==null)return $p;var f=(d,m,p)=>{if(e!==p&&t===d){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:T,y:A}=x,O=Oue(x,Sue),{x:D,y:B,width:M,height:Y}=m.payload.sourceViewBox,W=nd(nd({},O),{},{x:l.x+(M?(T-D)/M:0)*l.width,y:l.y+(Y?(A-B)/Y:0)*l.height});n(nd(nd({},m),{},{payload:nd(nd({},m.payload),{},{coordinate:W})}))}else n(m);return}if(i!=null){var X;if(typeof r=="function"){var j={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=r(i,j);X=i[L]}else r==="value"&&(X=i.find(de=>String(de.value)===m.payload.label));var{coordinate:z}=m.payload;if(X==null||m.payload.active===!1||z==null||l==null){n(TS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:q}=z,H=Math.min(G,l.x+l.width),$=Math.min(q,l.y+l.height),qe={x:o==="horizontal"?X.coordinate:H,y:o==="horizontal"?$:X.coordinate},Xe=TS({active:m.payload.active,coordinate:qe,dataKey:m.payload.dataKey,index:String(X.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Xe)}}};return wp.on(OS,f),()=>{wp.off(OS,f)}},[u,n,e,t,r,i,o,l])}function Rue(){var t=at(oI),e=at(sI),n=wn();E.useEffect(()=>{if(t==null)return $p;var r=(i,o,l)=>{e!==l&&t===i&&n(xue(o))};return wp.on(zM,r),()=>{wp.off(zM,r)}},[n,e,t])}function kue(){var t=wn();E.useEffect(()=>{t(bue())},[t]),Cue(),Rue()}function Nue(t,e,n,r,i,o){var l=at(x=>Ule(x,t,e)),u=at(sI),f=at(oI),d=at(Z5),m=at(_ue),p=m?.active,b=Ob();E.useEffect(()=>{if(!p&&f!=null&&u!=null){var x=TS({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});wp.emit(OS,f,x,u)}},[p,n,l,i,r,u,f,d,o,b])}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lue(t){return t.dataKey}function Vue(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(_ne,e)}var $M=[],zue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function KM(t){var e,n,r=Cr(t,zue),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:m,offset:p,payloadUniqBy:b,position:x,reverseDirection:T,useTranslate3d:A,wrapperStyle:O,cursor:D,shared:B,trigger:M,defaultIndex:Y,portal:W,axisId:X}=r,j=wn(),L=typeof Y=="number"?String(Y):Y;E.useEffect(()=>{j(Dse({shared:B,trigger:M,axisId:X,active:i,defaultIndex:L}))},[j,B,M,X,i,L]);var z=Ob(),G=Hz(),q=Ose(B),{activeIndex:H,isActive:$}=(e=at(Ye=>Fle(Ye,q,M,L)))!==null&&e!==void 0?e:{},qe=at(Ye=>qle(Ye,q,M,L)),Xe=at(Ye=>tB(Ye,q,M,L)),de=at(Ye=>Ble(Ye,q,M,L)),Pe=qe,xe=hue(),Te=(n=i??$)!==null&&n!==void 0?n:!1,[tt,ee]=G6([Pe,Te]),Se=q==="axis"?Xe:void 0;Nue(q,M,de,Se,H,Te);var De=W??xe;if(De==null||z==null||q==null)return null;var je=Pe??$M;Te||(je=$M),d&&je.length&&(je=q6(je.filter(Ye=>Ye.value!=null&&(Ye.hide!==!0||r.includeHidden)),b,Lue));var nt=je.length>0,ut=E.createElement(Ine,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:m,active:Te,coordinate:de,hasPayload:nt,offset:p,position:x,reverseDirection:T,useTranslate3d:A,viewBox:z,wrapperStyle:O,lastBoundingBox:tt,innerRef:ee,hasPortalFromProps:!!W},Vue(f,FM(FM({},r),{},{payload:je,label:Se,active:Te,activeIndex:H,coordinate:de,accessibilityLayer:G})));return E.createElement(E.Fragment,null,GS.createPortal(ut,De),Te&&E.createElement(due,{cursor:D,tooltipEventType:q,coordinate:de,payload:je,index:H}))}var Qb=t=>null;Qb.displayName="Cell";function Uue(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=que(t,"string");return typeof e=="symbol"?e:e+""}function que(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fue{constructor(e){Uue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wue={cacheSize:2e3,enableCache:!0},sB=$ue({},Wue),GM=new Fue(sB.cacheSize),Yue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WM="recharts_measurement_span";function Que(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var YM=(t,e)=>{try{var n=document.getElementById(WM);n||(n=document.createElement("span"),n.setAttribute("id",WM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Yue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Bm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qp.isSsr)return{width:0,height:0};if(!sB.enableCache)return YM(e,n);var r=Que(e,n),i=GM.get(r);if(i)return i;var o=YM(e,n);return GM.set(r,o),o},QM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jue=Object.keys(lB),dd="NaN";function ece(t,e){return t*lB[e]}class Ji{static parse(e){var n,[,r,i]=(n=Zue.exec(e))!==null&&n!==void 0?n:[];return new Ji(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ps(e)&&(this.unit=""),n!==""&&!Xue.test(n)&&(this.num=NaN,this.unit=""),Jue.includes(n)&&(this.num=ece(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ji(NaN,""):new Ji(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ji(NaN,""):new Ji(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ji(NaN,""):new Ji(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ji(NaN,""):new Ji(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ps(this.num)}}function uB(t){if(t.includes(dd))return dd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=QM.exec(e))!==null&&n!==void 0?n:[],l=Ji.parse(r??""),u=Ji.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return dd;e=e.replace(QM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,p,b]=(d=XM.exec(e))!==null&&d!==void 0?d:[],x=Ji.parse(m??""),T=Ji.parse(b??""),A=p==="+"?x.add(T):x.subtract(T);if(A.isNaN())return dd;e=e.replace(XM,A.toString())}return e}var ZM=/\(([^()]*)\)/;function tce(t){for(var e=t,n;(n=ZM.exec(e))!=null;){var[,r]=n;e=e.replace(ZM,uB(r))}return e}function nce(t){var e=t.replace(/\s+/g,"");return e=tce(e),e=uB(e),e}function rce(t){try{return nce(t)}catch{return dd}}function NE(t){var e=rce(t.slice(5,-1));return e===dd?"":e}var ice=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ace=["dx","dy","angle","className","breakAll"];function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(null,arguments)}function JM(t,e){if(t==null)return{};var n,r,i=oce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cB=/[ \f\n\r\t\v\u2028\u2029]+/,fB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ir(e)||(n?i=e.toString().split(""):i=e.toString().split(cB));var o=i.map(u=>({word:u,width:Bm(u,r).width})),l=n?0:Bm("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function sce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var dB=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),hB=t=>t.reduce((e,n)=>e.width>n.width?e:n),lce="",ej=(t,e,n,r,i,o,l,u)=>{var f=t.slice(0,e),d=fB({breakAll:n,style:r,children:f+lce});if(!d)return[!1,[]];var m=dB(d.wordsWithComputedWidth,o,l,u),p=m.length>i||hB(m).width>Number(o);return[p,m]},uce=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=t,d=ct(o),m=String(l),p=dB(e,r,n,i);if(!d||i)return p;var b=p.length>o||hB(p).width>Number(r);if(!b)return p;for(var x=0,T=m.length-1,A=0,O;x<=T&&A<=m.length-1;){var D=Math.floor((x+T)/2),B=D-1,[M,Y]=ej(m,B,f,u,o,r,n,i),[W]=ej(m,D,f,u,o,r,n,i);if(!M&&!W&&(x=D+1),M&&W&&(T=D-1),!M&&W){O=Y;break}A++}return O||p},tj=t=>{var e=Ir(t)?[]:t.toString().split(cB);return[{words:e,width:void 0}]},cce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!Qp.isSsr){var u,f,d=fB({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:p}=d;u=m,f=p}else return tj(r);return uce({breakAll:o,children:r,maxLines:l,style:i},u,f,e,!!n)}return tj(r)},mB="#808080",fce={angle:0,breakAll:!1,capHeight:"0.71em",fill:mB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xb=E.forwardRef((t,e)=>{var n=Cr(t,fce),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:m}=n,p=JM(n,ice),b=E.useMemo(()=>cce({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),{dx:x,dy:T,angle:A,className:O,breakAll:D}=p,B=JM(p,ace);if(!gs(r)||!gs(i)||b.length===0)return null;var M=Number(r)+(ct(x)?x:0),Y=Number(i)+(ct(T)?T:0);if(!Kr(M)||!Kr(Y))return null;var W;switch(m){case"start":W=NE("calc(".concat(l,")"));break;case"middle":W=NE("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:W=NE("calc(".concat(b.length-1," * -").concat(o,")"));break}var X=[];if(f){var j=b[0].width,{width:L}=p;X.push("scale(".concat(ct(L)&&ct(j)?L/j:1,")"))}return A&&X.push("rotate(".concat(A,", ").concat(M,", ").concat(Y,")")),X.length&&(B.transform=X.join(" ")),E.createElement("text",PS({},Ci(B),{ref:e,x:M,y:Y,className:Ht("recharts-text",O),textAnchor:d,fill:u.includes("url")?mB:u}),b.map((z,G)=>{var q=z.words.join(D?"":" ");return E.createElement("tspan",{x:M,dy:G===0?W:o,key:"".concat(q,"-").concat(G)},q)}))});Xb.displayName="Text";var dce=["labelRef"];function hce(t,e){if(t==null)return{};var n,r,i=mce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(null,arguments)}var pB=E.createContext(null),vce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=t,f=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[e,n,r,i,o,l]);return E.createElement(pB.Provider,{value:f},u)},gB=()=>{var t=E.useContext(pB),e=Ob();return t||Nz(e)},bce=E.createContext(null),_ce=()=>{var t=E.useContext(bce),e=at(rU);return t||e},wce=t=>{var{value:e,formatter:n}=t,r=Ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},qI=t=>t!=null&&typeof t=="function",xce=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ece=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:m,startAngle:p,endAngle:b,clockWise:x}=i,T=(d+m)/2,A=xce(p,b),O=A>=0?1:-1,D,B;switch(e){case"insideStart":D=p+O*o,B=x;break;case"insideEnd":D=b-O*o,B=!x;break;case"end":D=b+O*o,B=x;break;default:throw new Error("Unsupported position ".concat(e))}B=A<=0?B:!B;var M=_r(u,f,T,D),Y=_r(u,f,T,D+(B?1:-1)*359),W="M".concat(M.x,",").concat(M.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(B?0:1,`,
    `).concat(Y.x,",").concat(Y.y),X=Ir(t.id)?lp("recharts-radial-line-"):t.id;return E.createElement("text",Xs({},r,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:X,d:W})),E.createElement("textPath",{xlinkHref:"#".concat(X)},n))},Sce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:m,y:p}=_r(r,i,l+e,d);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x,y:T}=_r(r,i,b,d);return{x,y:T,textAnchor:"middle",verticalAnchor:"middle"}},CS=t=>"cx"in t&&ct(t.cx),Tce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!CS(n)&&(o=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:m}=e,p=l,b=l+(f-d)/2,x=(p+b)/2,T=(f+d)/2,A=p+f/2,O=m>=0?1:-1,D=O*r,B=O>0?"end":"start",M=O>0?"start":"end",Y=f>=0?1:-1,W=Y*r,X=Y>0?"end":"start",j=Y>0?"start":"end";if(i==="top"){var L={x:p+f/2,y:u-D,textAnchor:"middle",verticalAnchor:B};return ar(ar({},L),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var z={x:b+d/2,y:u+m+D,textAnchor:"middle",verticalAnchor:M};return ar(ar({},z),o?{height:Math.max(o.y+o.height-(u+m),0),width:d}:{})}if(i==="left"){var G={x:x-W,y:u+m/2,textAnchor:X,verticalAnchor:"middle"};return ar(ar({},G),o?{width:Math.max(G.x-o.x,0),height:m}:{})}if(i==="right"){var q={x:x+T+W,y:u+m/2,textAnchor:j,verticalAnchor:"middle"};return ar(ar({},q),o?{width:Math.max(o.x+o.width-q.x,0),height:m}:{})}var H=o?{width:T,height:m}:{};return i==="insideLeft"?ar({x:x+W,y:u+m/2,textAnchor:j,verticalAnchor:"middle"},H):i==="insideRight"?ar({x:x+T-W,y:u+m/2,textAnchor:X,verticalAnchor:"middle"},H):i==="insideTop"?ar({x:p+f/2,y:u+D,textAnchor:"middle",verticalAnchor:M},H):i==="insideBottom"?ar({x:b+d/2,y:u+m-D,textAnchor:"middle",verticalAnchor:B},H):i==="insideTopLeft"?ar({x:p+W,y:u+D,textAnchor:j,verticalAnchor:M},H):i==="insideTopRight"?ar({x:p+f-W,y:u+D,textAnchor:X,verticalAnchor:M},H):i==="insideBottomLeft"?ar({x:b+W,y:u+m-D,textAnchor:j,verticalAnchor:B},H):i==="insideBottomRight"?ar({x:b+d-W,y:u+m-D,textAnchor:X,verticalAnchor:B},H):i&&typeof i=="object"&&(ct(i.x)||fl(i.x))&&(ct(i.y)||fl(i.y))?ar({x:l+Na(i.x,T),y:u+Na(i.y,m),textAnchor:"end",verticalAnchor:"end"},H):ar({x:A,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},H)},Ace={angle:0,offset:5,zIndex:ni.label,position:"middle",textBreakAll:!1};function bu(t){var e=Cr(t,Ace),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=e,m=_ce(),p=gB(),b=r==="center"?p:m??p,x,T,A;if(n==null?x=b:CS(n)?x=n:x=Nz(n),!x||Ir(i)&&Ir(o)&&!E.isValidElement(l)&&typeof l!="function")return null;var O=ar(ar({},e),{},{viewBox:x});if(E.isValidElement(l)){var{labelRef:D}=O,B=hce(O,dce);return E.cloneElement(l,B)}if(typeof l=="function"){if(T=E.createElement(l,O),E.isValidElement(T))return T}else T=wce(e);var M=Ci(e);if(CS(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ece(e,r,T,M,x);A=Sce(x,e.offset,e.position)}else A=Tce(e,x);return E.createElement(zo,{zIndex:e.zIndex},E.createElement(Xb,Xs({ref:d,className:Ht("recharts-label",u)},M,A,{textAnchor:sce(M.textAnchor)?M.textAnchor:A.textAnchor,breakAll:f}),T))}bu.displayName="Label";var Ice=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(bu,Xs({key:"label-implicit"},r)):gs(t)?E.createElement(bu,Xs({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===bu?E.cloneElement(t,ar({key:"label-implicit"},r)):E.createElement(bu,Xs({key:"label-implicit",content:t},r)):qI(t)?E.createElement(bu,Xs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(bu,Xs({},t,{key:"label-implicit"},r)):null};function Oce(t){var{label:e,labelRef:n}=t,r=gB();return Ice(e,r,n)||null}var DE={},ME={},rj;function Pce(){return rj||(rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ME)),ME}var jE={},ij;function Cce(){return ij||(ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(jE)),jE}var aj;function Rce(){return aj||(aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pce(),n=Cce(),r=gA();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(DE)),DE}var LE,oj;function kce(){return oj||(oj=1,LE=Rce().last),LE}var Nce=kce();const Dce=bs(Nce);var Mce=["valueAccessor"],jce=["dataKey","clockWise","id","textBreakAll","zIndex"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(null,arguments)}function sj(t,e){if(t==null)return{};var n,r,i=Lce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vce=t=>Array.isArray(t.value)?Dce(t.value):t.value,yB=E.createContext(void 0),zce=yB.Provider,vB=E.createContext(void 0),Uce=vB.Provider;function Bce(){return E.useContext(yB)}function qce(){return E.useContext(vB)}function lv(t){var{valueAccessor:e=Vce}=t,n=sj(t,Mce),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=sj(n,jce),d=Bce(),m=qce(),p=d||m;return!p||!p.length?null:E.createElement(zo,{zIndex:u??ni.label},E.createElement(ra,{className:"recharts-label-list"},p.map((b,x)=>{var T,A=Ir(r)?e(b,x):kn(b&&b.payload,r),O=Ir(o)?{}:{id:"".concat(o,"-").concat(x)};return E.createElement(bu,x0({key:"label-".concat(x)},Ci(b),f,O,{fill:(T=n.fill)!==null&&T!==void 0?T:b.fill,parentViewBox:b.parentViewBox,value:A,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}lv.displayName="LabelList";function bB(t){var{label:e}=t;return e?e===!0?E.createElement(lv,{key:"labelList-implicit"}):E.isValidElement(e)||qI(e)?E.createElement(lv,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(lv,x0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(null,arguments)}var _B=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ht("recharts-dot",i);return ct(e)&&ct(n)&&ct(r)?E.createElement("circle",RS({},co(t),mA(t),{className:o,cx:e,cy:n,r})):null},wB=t=>t.graphicalItems.polarItems,Fce=_e([Mn,ng],hI),Zb=_e([wB,Kn,Fce],mI),$ce=_e([Zb],pI),Jb=_e([$ce,tI],gI),Kce=_e([Jb,Kn,Zb],vI);_e([Jb,Kn,Zb],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,l=kn(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:kn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var lj=()=>{},Hce=_e([Jb,Kn,Zb,Gb,Mn],xI),Gce=_e([Kn,_I,wI,lj,Hce,lj,mn,Mn],EI),xB=_e([Kn,mn,Jb,Kce,tg,Mn,Gce],SI),Wce=_e([xB,Kn,gh],II);_e([Kn,xB,Wce,Mn],PI);var Yce={radiusAxis:{},angleAxis:{}},EB=ia({name:"polarAxis",initialState:Yce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Pye,removeRadiusAxis:Cye,addAngleAxis:Rye,removeAngleAxis:kye}=EB.actions,Qce=EB.reducer;function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return(e=Zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=Jce(t,"string");return typeof e=="symbol"?e:e+""}function Jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var efe=(t,e)=>e,FI=_e([wB,efe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),tfe=[],$I=(t,e,n)=>n?.length===0?tfe:n,SB=_e([tI,FI,$I],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>cj(cj({},e.presentationProps),o.props))),i!=null)return i}}),nfe=_e([SB,FI,$I],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,l=kn(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Eb(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),rfe=_e([SB,FI,$I,Hr],(t,e,n,r)=>{if(!(e==null||t==null))return ude({offset:r,pieSettings:e,displayedData:t,cells:n})}),VE={exports:{}},hn={};var fj;function ife(){if(fj)return hn;fj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function T(A){if(typeof A=="object"&&A!==null){var O=A.$$typeof;switch(O){case t:switch(A=A.type,A){case n:case i:case r:case f:case d:case b:return A;default:switch(A=A&&A.$$typeof,A){case l:case u:case p:case m:return A;case o:return A;default:return O}}case e:return O}}}return hn.ContextConsumer=o,hn.ContextProvider=l,hn.Element=t,hn.ForwardRef=u,hn.Fragment=n,hn.Lazy=p,hn.Memo=m,hn.Portal=e,hn.Profiler=i,hn.StrictMode=r,hn.Suspense=f,hn.SuspenseList=d,hn.isContextConsumer=function(A){return T(A)===o},hn.isContextProvider=function(A){return T(A)===l},hn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},hn.isForwardRef=function(A){return T(A)===u},hn.isFragment=function(A){return T(A)===n},hn.isLazy=function(A){return T(A)===p},hn.isMemo=function(A){return T(A)===m},hn.isPortal=function(A){return T(A)===e},hn.isProfiler=function(A){return T(A)===i},hn.isStrictMode=function(A){return T(A)===r},hn.isSuspense=function(A){return T(A)===f},hn.isSuspenseList=function(A){return T(A)===d},hn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===p||A.$$typeof===m||A.$$typeof===l||A.$$typeof===o||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},hn.typeOf=T,hn}var dj;function afe(){return dj||(dj=1,VE.exports=ife()),VE.exports}var ofe=afe(),hj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",mj=null,zE=null,TB=t=>{if(t===mj&&Array.isArray(zE))return zE;var e=[];return E.Children.forEach(t,n=>{Ir(n)||(ofe.isFragment(n)?e=e.concat(TB(n.props.children)):e.push(n))}),zE=e,mj=t,e};function AB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>hj(i)):r=[hj(e)],TB(t).forEach(i=>{var o=af(i,"type.displayName")||af(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var IB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,UE={},pj;function sfe(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(UE)),UE}var BE,gj;function lfe(){return gj||(gj=1,BE=sfe().isPlainObject),BE}var ufe=lfe();const cfe=bs(ufe);function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=hfe(t,"string");return typeof e=="symbol"?e:e+""}function hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(null,arguments)}var bj=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},mfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pfe=t=>{var e=Cr(t,mfe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:m,isUpdateAnimationActive:p}=e,b=E.useRef(null),[x,T]=E.useState(-1),A=E.useRef(i),O=E.useRef(o),D=E.useRef(l),B=E.useRef(n),M=E.useRef(r),Y=Mb(t,"trapezoid-");if(E.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var qe=b.current.getTotalLength();qe&&T(qe)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var W=Ht("recharts-trapezoid",u);if(!p)return E.createElement("g",null,E.createElement("path",E0({},Ci(e),{className:W,d:bj(n,r,i,o,l)})));var X=A.current,j=O.current,L=D.current,z=B.current,G=M.current,q="0px ".concat(x===-1?1:x,"px"),H="".concat(x,"px 0px"),$=Gz(["strokeDasharray"],d,f);return E.createElement(Db,{animationId:Y,key:Y,canBegin:x>0,duration:d,easing:f,isActive:p,begin:m},qe=>{var Xe=pi(X,i,qe),de=pi(j,o,qe),Pe=pi(L,l,qe),xe=pi(z,n,qe),Te=pi(G,r,qe);b.current&&(A.current=Xe,O.current=de,D.current=Pe,B.current=xe,M.current=Te);var tt=qe>0?{transition:$,strokeDasharray:H}:{strokeDasharray:q};return E.createElement("path",E0({},Ci(e),{className:W,d:bj(xe,Te,Xe,de,Pe),ref:b,style:vj(vj({},tt),e.style)}))})},gfe=["option","shapeType","propTransformer","activeClassName"];function yfe(t,e){if(t==null)return{};var n,r,i=vfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bfe(t,e,n){return(e=_fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=wfe(t,"string");return typeof e=="symbol"?e:e+""}function wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xfe(t,e){return S0(S0({},e),t)}function Efe(t,e){return t==="symbols"}function wj(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(Xz,n);case"trapezoid":return E.createElement(pfe,n);case"sector":return E.createElement(t5,n);case"symbols":if(Efe(e))return E.createElement(hA,n);break;case"curve":return E.createElement(RA,n);default:return null}}function Sfe(t){return E.isValidElement(t)?t.props:t}function OB(t){var{option:e,shapeType:n,propTransformer:r=xfe,activeClassName:i="recharts-active-shape"}=t,o=yfe(t,gfe),l;if(E.isValidElement(e))l=E.cloneElement(e,S0(S0({},o),Sfe(e)));else if(typeof e=="function")l=e(o,o.index);else if(cfe(e)&&typeof e!="boolean"){var u=r(e,o);l=E.createElement(wj,{shapeType:n,elementProps:u})}else{var f=o;l=E.createElement(wj,{shapeType:n,elementProps:f})}return o.isActive?E.createElement(ra,{className:i},l):l}var Tfe=(t,e,n)=>{var r=wn();return(i,o)=>l=>{t?.(i,o,l),r(jU({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Afe=t=>{var e=wn();return(n,r)=>i=>{t?.(n,r,i),e(Mse())}},Ife=(t,e,n)=>{var r=wn();return(i,o)=>l=>{t?.(i,o,l),r(jse({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function PB(t){var{tooltipEntrySettings:e}=t,n=wn(),r=aa(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(Rse(e)):i.current!==e&&n(kse({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(Nse(i.current)),i.current=null)},[n]),null}function Ofe(t){var{legendPayload:e}=t,n=wn(),r=aa(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(qz(e)):i.current!==e&&n(Fz({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n($z(i.current)),i.current=null)},[n]),null}function Pfe(t){var{legendPayload:e}=t,n=wn(),r=at(mn),i=E.useRef(null);return E.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(qz(e)):i.current!==e&&n(Fz({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n($z(i.current)),i.current=null)},[n]),null}var qE,Cfe=()=>{var[t]=E.useState(()=>lp("uid-"));return t},Rfe=(qE=Bq.useId)!==null&&qE!==void 0?qE:Cfe;function CB(t,e){var n=Rfe();return e||(t?"".concat(t,"-").concat(n):n)}var kfe=E.createContext(void 0),RB=t=>{var{id:e,type:n,children:r}=t,i=CB("recharts-".concat(n),e);return E.createElement(kfe.Provider,{value:i},r(i))},Nfe={cartesianItems:[],polarItems:[]},kB=ia({name:"graphicalItems",initialState:Nfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Cn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Do(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Cn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Do(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Cn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Cn()},removePolarGraphicalItem:{reducer(t,e){var n=Do(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Cn()}}}),{addCartesianGraphicalItem:Dfe,replaceCartesianGraphicalItem:Mfe,removeCartesianGraphicalItem:jfe,addPolarGraphicalItem:Lfe,removePolarGraphicalItem:Vfe}=kB.actions,zfe=kB.reducer,Ufe=t=>{var e=wn(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(Dfe(t)):n.current!==t&&e(Mfe({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(jfe(n.current)),n.current=null)},[e]),null},Bfe=E.memo(Ufe);function qfe(t){var e=wn();return E.useLayoutEffect(()=>(e(Lfe(t)),()=>{e(Vfe(t))}),[e,t]),null}var Ffe=["key"],$fe=["onMouseEnter","onClick","onMouseLeave"],Kfe=["id"],Hfe=["id"];function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(null,arguments)}function e_(t,e){if(t==null)return{};var n,r,i=Qfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xfe(t){var e=E.useMemo(()=>AB(t.children,Qb),[t.children]),n=at(r=>nfe(r,t.id,e));return n==null?null:E.createElement(Pfe,{legendPayload:n})}var Zfe=E.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:f,tooltipType:d}=t,m={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:e,nameKey:n,name:Eb(u,e),hide:f,type:d,color:l,unit:""}};return E.createElement(PB,{tooltipEntrySettings:m})}),Jfe=(t,e)=>t>e?"start":t<e?"end":"middle",ede=(t,e,n)=>Na(typeof e=="function"?e(t):e,n,n*.8),tde=(t,e,n)=>{var{top:r,left:i,width:o,height:l}=e,u=Zz(o,l),f=i+Na(t.cx,o,o/2),d=r+Na(t.cy,l,l/2),m=Na(t.innerRadius,u,0),p=ede(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:m,outerRadius:p,maxRadius:b}},nde=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function rde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ide=(t,e)=>{if(E.isValidElement(t))return E.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ht("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=e_(e,Ffe);return E.createElement(RA,Bu({},i,{type:"linear",className:n}))},ade=(t,e,n)=>{if(E.isValidElement(t))return E.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),E.isValidElement(r)))return r;var i=Ht("recharts-pie-label-text",rde(t));return E.createElement(Xb,Bu({},e,{alignmentBaseline:"middle",className:i}),r)};function ode(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!e)return null;var u=co(n),f=Ud(i),d=Ud(o),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((b,x)=>{var T=(b.startAngle+b.endAngle)/2,A=_r(b.cx,b.cy,b.outerRadius+m,T),O=Qn(Qn(Qn(Qn({},u),b),{},{stroke:"none"},f),{},{index:x,textAnchor:Jfe(A.x,b.cx)},A),D=Qn(Qn(Qn(Qn({},u),b),{},{fill:"none",stroke:b.fill},d),{},{index:x,points:[_r(b.cx,b.cy,b.outerRadius,T),A],key:"line"});return E.createElement(zo,{zIndex:ni.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},E.createElement(ra,null,o&&ide(o,D),ade(i,O,kn(b,l))))});return E.createElement(ra,{className:"recharts-pie-labels"},p)}function sde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?E.createElement(bB,{label:i}):E.createElement(ode,{sectors:e,props:n,showLabels:r})}function lde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:l}=t,u=at(Yd),f=at(QU),d=at(wle),{onMouseEnter:m,onClick:p,onMouseLeave:b}=i,x=e_(i,$fe),T=Tfe(m,i.dataKey,l),A=Afe(b),O=Ife(p,i.dataKey,l);return e==null||e.length===0?null:E.createElement(E.Fragment,null,e.map((D,B)=>{if(D?.startAngle===0&&D?.endAngle===0&&e.length!==1)return null;var M=d==null||d===l,Y=String(B)===u&&(f==null||i.dataKey===f)&&M,W=u?r:null,X=n&&Y?n:W,j=Qn(Qn({},D),{},{stroke:D.stroke,tabIndex:-1,[Iz]:B,[Oz]:i.dataKey});return E.createElement(ra,Bu({key:"sector-".concat(D?.startAngle,"-").concat(D?.endAngle,"-").concat(D.midAngle,"-").concat(B),tabIndex:-1,className:"recharts-pie-sector"},pA(x,D,B),{onMouseEnter:T(D,B),onMouseLeave:A(D,B),onClick:O(D,B)}),E.createElement(OB,Bu({option:o??X,index:B,shapeType:"sector",isActive:Y},j)))}))}function ude(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:d,nameKey:m,tooltipType:p}=n,b=Math.abs(n.minAngle),x=nde(u,f),T=Math.abs(x),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,O=r.filter(X=>kn(X,d,0)!==0).length,D=(T>=360?O:O-1)*A,B=T-O*b-D,M=r.reduce((X,j)=>{var L=kn(j,d,0);return X+(ct(L)?L:0)},0),Y;if(M>0){var W;Y=r.map((X,j)=>{var L=kn(X,d,0),z=kn(X,m,j),G=tde(n,o,X),q=(ct(L)?L:0)/M,H,$=Qn(Qn({},X),i&&i[j]&&i[j].props);j?H=W.endAngle+gi(x)*A*(L!==0?1:0):H=u;var qe=H+gi(x)*((L!==0?b:0)+q*B),Xe=(H+qe)/2,de=(G.innerRadius+G.outerRadius)/2,Pe=[{name:z,value:L,payload:$,dataKey:d,type:p}],xe=_r(G.cx,G.cy,de,Xe);return W=Qn(Qn(Qn(Qn({},n.presentationProps),{},{percent:q,cornerRadius:typeof l=="string"?parseFloat(l):l,name:z,tooltipPayload:Pe,midAngle:Xe,middleRadius:de,tooltipPosition:xe},$),G),{},{value:L,dataKey:d,startAngle:H,endAngle:qe,payload:$,paddingAngle:gi(x)*A}),W})}return Y}function cde(t){var{showLabels:e,sectors:n,children:r}=t,i=E.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return E.createElement(Uce,{value:e?i:void 0},r)}function fde(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:d,inactiveShape:m,onAnimationStart:p,onAnimationEnd:b}=e,x=Mb(e,"recharts-pie-"),T=n.current,[A,O]=E.useState(!1),D=E.useCallback(()=>{typeof b=="function"&&b(),O(!1)},[b]),B=E.useCallback(()=>{typeof p=="function"&&p(),O(!0)},[p]);return E.createElement(cde,{showLabels:!A,sectors:i},E.createElement(Db,{animationId:x,begin:l,duration:u,isActive:o,easing:f,onAnimationStart:B,onAnimationEnd:D,key:x},M=>{var Y=[],W=i&&i[0],X=W?.startAngle;return i?.forEach((j,L)=>{var z=T&&T[L],G=L>0?af(j,"paddingAngle",0):0;if(z){var q=pi(z.endAngle-z.startAngle,j.endAngle-j.startAngle,M),H=Qn(Qn({},j),{},{startAngle:X+G,endAngle:X+q+G});Y.push(H),X=H.endAngle}else{var{endAngle:$,startAngle:qe}=j,Xe=pi(0,$-qe,M),de=Qn(Qn({},j),{},{startAngle:X+G,endAngle:X+Xe+G});Y.push(de),X=de.endAngle}}),n.current=Y,E.createElement(ra,null,E.createElement(lde,{sectors:Y,activeShape:d,inactiveShape:m,allOtherPieProps:e,shape:e.shape,id:r}))}),E.createElement(sde,{showLabels:!A,sectors:i,props:e}),e.children)}var dde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ni.area};function hde(t){var{id:e}=t,n=e_(t,Kfe),{hide:r,className:i,rootTabIndex:o}=t,l=E.useMemo(()=>AB(t.children,Qb),[t.children]),u=at(m=>rfe(m,e,l)),f=E.useRef(null),d=Ht("recharts-pie",i);return r||u==null?(f.current=null,E.createElement(ra,{tabIndex:o,className:d})):E.createElement(zo,{zIndex:t.zIndex},E.createElement(Zfe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),E.createElement(ra,{tabIndex:o,className:d},E.createElement(fde,{props:Qn(Qn({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function NB(t){var e=Cr(t,dde),{id:n}=e,r=e_(e,Hfe),i=co(r);return E.createElement(RB,{id:n,type:"pie"},o=>E.createElement(E.Fragment,null,E.createElement(qfe,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),E.createElement(Xfe,Bu({},r,{id:o})),E.createElement(hde,Bu({},r,{id:o}))))}NB.displayName="Pie";var mde=["points"];function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return(e=gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return typeof e=="symbol"?e:e+""}function yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(null,arguments)}function vde(t,e){if(t==null)return{};var n,r,i=bde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _de(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ht(r,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,u=vde(o,mde);return E.createElement(_B,T0({},u,{className:i}))}function wde(t,e){return t==null?!1:e?!0:t.length===1}function xde(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:f,zIndex:d=ni.scatter}=t;if(!wde(e,n))return null;var m=IB(n),p=qX(n),b=e.map((T,A)=>{var O,D,B=FE(FE(FE({r:3},l),p),{},{index:A,cx:(O=T.x)!==null&&O!==void 0?O:void 0,cy:(D=T.y)!==null&&D!==void 0?D:void 0,dataKey:o,value:T.value,payload:T.payload,points:e});return E.createElement(_de,{key:"dot-".concat(A),option:n,dotProps:B,className:i})}),x={};return u&&f!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(f,")")),E.createElement(zo,{zIndex:d},E.createElement(ra,T0({className:r},x),b))}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){Ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ede(t,e,n){return(e=Sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sde(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ade={xAxis:{},yAxis:{},zAxis:{}},DB=ia({name:"cartesianAxis",initialState:Ade,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Cn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Cn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Cn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Cn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Cn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Cn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Cn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Cn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Cn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=Tj(Tj({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Ide,replaceXAxis:Ode,removeXAxis:Pde,addYAxis:Cde,replaceYAxis:Rde,removeYAxis:kde,addZAxis:Nye,replaceZAxis:Dye,removeZAxis:Mye,updateYAxisWidth:Nde}=DB.actions,Dde=DB.reducer,Mde=_e([Hr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),jde=_e([Mde,wl,xl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),KI=()=>at(jde),Lde=()=>at(Ale);function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=$E($E($E({},u),Ud(i)),mA(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,f):typeof i=="function"?d=i(f):d=E.createElement(_B,f),E.createElement(ra,{className:"recharts-active-dot",clipPath:l},d)};function qde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=ni.activeDot}=t,u=at(Yd),f=Lde();if(e==null||f==null)return null;var d=e.find(m=>f.includes(m.payload));return Ir(d)?null:E.createElement(zo,{zIndex:l},E.createElement(Bde,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Fde={},MB=ia({name:"errorBars",initialState:Fde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:jye,replaceErrorBar:Lye,removeErrorBar:Vye}=MB.actions,$de=MB.reducer,Kde=["children"];function Hde(t,e){if(t==null)return{};var n,r,i=Gde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yde=E.createContext(Wde);function Qde(t){var{children:e}=t,n=Hde(t,Kde);return E.createElement(Yde.Provider,{value:n},e)}function jB(t,e){var n,r,i=at(d=>Sl(d,t)),o=at(d=>Tl(d,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ur.allowDataOverflow,u=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Br.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function Xde(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=KI(),{needClipX:o,needClipY:l,needClip:u}=jB(e,n);if(!u||!i)return null;var{x:f,y:d,width:m,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:o?f:f-m/2,y:l?d:d-p/2,width:o?m:m*2,height:l?p:p*2}))}var KE={exports:{}},HE={};var Ij;function Zde(){if(Ij)return HE;Ij=1;var t=Qd();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return HE.useSyncExternalStoreWithSelector=function(f,d,m,p,b){var x=i(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=l(function(){function O(W){if(!D){if(D=!0,B=W,W=p(W),b!==void 0&&T.hasValue){var X=T.value;if(b(X,W))return M=X}return M=W}if(X=M,n(B,W))return X;var j=p(W);return b!==void 0&&b(X,j)?(B=W,X):(B=W,M=j)}var D=!1,B,M,Y=m===void 0?null:m;return[function(){return O(d())},Y===null?void 0:function(){return O(Y())}]},[d,m,p,b]);var A=r(f,x[0],x[1]);return o(function(){T.hasValue=!0,T.value=A},[A]),u(A),A},HE}var Oj;function Jde(){return Oj||(Oj=1,KE.exports=Zde()),KE.exports}Jde();function ehe(t){t()}function the(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ehe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Pj={notify(){},get:()=>[]};function nhe(t,e){let n,r=Pj,i=0,o=!1;function l(A){m();const O=r.subscribe(A);let D=!1;return()=>{D||(D=!0,O(),p())}}function u(){r.notify()}function f(){T.onStateChange&&T.onStateChange()}function d(){return o}function m(){i++,n||(n=t.subscribe(f),r=the())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Pj)}function b(){o||(o=!0,m())}function x(){o&&(o=!1,p())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return T}var rhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ihe=rhe(),ahe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ohe=ahe(),she=()=>ihe||ohe?E.useLayoutEffect:E.useEffect,lhe=she();function Cj(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function uhe(t,e){if(Cj(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Cj(t[n[i]],e[n[i]]))return!1;return!0}var che=Symbol.for("react-redux-context"),fhe=typeof globalThis<"u"?globalThis:{};function dhe(){if(!E.createContext)return{};const t=fhe[che]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var hhe=dhe();function mhe(t){const{children:e,context:n,serverState:r,store:i}=t,o=E.useMemo(()=>{const f=nhe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=E.useMemo(()=>i.getState(),[i]);lhe(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||hhe;return E.createElement(u.Provider,{value:o},e)}var phe=mhe,ghe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yhe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function HI(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ghe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!uhe(t[r],e[r]))return!1}else if(!yhe(t[r],e[r]))return!1;return!0}var LB=t=>{var{chartData:e}=t,n=wn(),r=aa();return E.useEffect(()=>r?()=>{}:(n(UM(e)),()=>{n(UM(void 0))}),[e,n,r]),null},Rj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VB=ia({name:"brush",initialState:Rj,reducers:{setBrushSettings(t,e){return e.payload==null?Rj:e.payload}}}),{setBrushSettings:zye}=VB.actions,vhe=VB.reducer;function bhe(t,e,n){return(e=_he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class GI{static create(e){return new GI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}bhe(GI,"EPS",1e-4);function xhe(t){return(t%180+180)%180}var Ehe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=xhe(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},She={dots:[],areas:[],lines:[]},zB=ia({name:"referenceElements",initialState:She,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Do(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Do(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Do(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Uye,removeDot:Bye,addArea:qye,removeArea:Fye,addLine:$ye,removeLine:Kye}=zB.actions,The=zB.reducer,Ahe=E.createContext(void 0),Ihe=t=>{var{children:e}=t,[n]=E.useState("".concat(lp("recharts"),"-clip")),r=KI();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return E.createElement(Ahe.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:o,height:u,width:l}))),e)};function UB(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Ohe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ehe(r,n)}function Phe(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:u}=t;return e===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function A0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Che(t,e){return UB(t,e+1)}function Rhe(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,m=l,p=function(){var T=r?.[f];if(T===void 0)return{v:UB(r,d)};var A=f,O,D=()=>(O===void 0&&(O=n(T,A)),O),B=T.coordinate,M=f===0||A0(t,B,D,m,u);M||(f=0,m=l,d+=1),M&&(m=B+t*(D()/2+i),f+=d)},b;d<=o.length;)if(b=p(),b)return b.v;return[]}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=Dhe(t,"string");return typeof e=="symbol"?e:e+""}function Dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mhe(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=e,{end:f}=e,d=function(b){var x=o[b],T,A=()=>(T===void 0&&(T=n(x,b)),T);if(b===l-1){var O=t*(x.coordinate+t*A()/2-f);o[b]=x=ci(ci({},x),{},{tickCoord:O>0?x.coordinate-O*t:x.coordinate})}else o[b]=x=ci(ci({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var D=A0(t,x.tickCoord,A,u,f);D&&(f=x.tickCoord-t*(A()/2+i),o[b]=ci(ci({},x),{},{isShow:!0}))}},m=l-1;m>=0;m--)d(m);return o}function jhe(t,e,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(o){var m=r[u-1],p=n(m,u-1),b=t*(m.coordinate+t*p/2-d);if(l[u-1]=m=ci(ci({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var x=A0(t,m.tickCoord,()=>p,f,d);x&&(d=m.tickCoord-t*(p/2+i),l[u-1]=ci(ci({},m),{},{isShow:!0}))}}for(var T=o?u-1:u,A=function(B){var M=l[B],Y,W=()=>(Y===void 0&&(Y=n(M,B)),Y);if(B===0){var X=t*(M.coordinate-t*W()/2-f);l[B]=M=ci(ci({},M),{},{tickCoord:X<0?M.coordinate-X*t:M.coordinate})}else l[B]=M=ci(ci({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var j=A0(t,M.tickCoord,W,f,d);j&&(f=M.tickCoord+t*(W()/2+i),l[B]=ci(ci({},M),{},{isShow:!0}))}},O=0;O<T;O++)A(O);return l}function WI(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(ct(f)||Qp.isSsr){var b;return(b=Che(i,ct(f)?f:0))!==null&&b!==void 0?b:[]}var x=[],T=u==="top"||u==="bottom"?"width":"height",A=m&&T==="width"?Bm(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},O=(M,Y)=>{var W=typeof d=="function"?d(M.value,Y):M.value;return T==="width"?Ohe(Bm(W,{fontSize:e,letterSpacing:n}),A,p):Bm(W,{fontSize:e,letterSpacing:n})[T]},D=i.length>=2?gi(i[1].coordinate-i[0].coordinate):1,B=Phe(o,D,T);return f==="equidistantPreserveStart"?Rhe(D,B,O,i,l):(f==="preserveStart"||f==="preserveStartEnd"?x=jhe(D,B,O,i,l,f==="preserveStartEnd"):x=Mhe(D,B,O,i,l),x.filter(M=>M.isShow))}var Lhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},Vhe=["axisLine","width","height","className","hide","ticks","axisType"];function zhe(t,e){if(t==null)return{};var n,r,i=Uhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(null,arguments)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var al={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ni.axis};function $he(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=yr(yr(yr({},f),co(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);d=yr(yr({},d),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(o==="left"&&!l||o==="right"&&l);d=yr(yr({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return E.createElement("line",uf({},d,{className:Ht("recharts-cartesian-axis-line",af(u,"className"))}))}function Khe(t,e,n,r,i,o,l,u,f){var d,m,p,b,x,T,A=u?-1:1,O=t.tickSize||l,D=ct(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=m=t.coordinate,b=n+ +!u*i,p=b-A*O,T=p-A*f,x=D;break;case"left":p=b=t.coordinate,m=e+ +!u*r,d=m-A*O,x=d-A*f,T=D;break;case"right":p=b=t.coordinate,m=e+ +u*r,d=m+A*O,x=d+A*f,T=D;break;default:d=m=t.coordinate,b=n+ +u*i,p=b+A*O,T=p+A*f,x=D;break}return{line:{x1:d,y1:p,x2:m,y2:b},tick:{x,y:T}}}function Hhe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ghe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Whe(t){var{option:e,tickProps:n,value:r}=t,i,o=Ht(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,yr(yr({},n),{},{className:o}));else if(typeof e=="function")i=e(yr(yr({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ht(l,e?.className)),i=E.createElement(Xb,uf({},n,{className:l}),r)}return i}var Yhe=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:m,mirror:p,x:b,y:x,width:T,height:A,tickSize:O,tickMargin:D,fontSize:B,letterSpacing:M,getTicksConfig:Y,events:W,axisType:X}=t,j=WI(yr(yr({},Y),{},{ticks:n}),B,M),L=Hhe(m,p),z=Ghe(m,p),G=co(Y),q=Ud(r),H={};typeof i=="object"&&(H=i);var $=yr(yr({},G),{},{fill:"none"},H),qe=j.map(Pe=>yr({entry:Pe},Khe(Pe,b,x,T,A,m,O,p,D))),Xe=qe.map(Pe=>{var{entry:xe,line:Te}=Pe;return E.createElement(ra,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},i&&E.createElement("line",uf({},$,Te,{className:Ht("recharts-cartesian-axis-tick-line",af(i,"className"))})))}),de=qe.map((Pe,xe)=>{var{entry:Te,tick:tt}=Pe,ee=yr(yr(yr(yr({textAnchor:L,verticalAnchor:z},G),{},{stroke:"none",fill:o},q),tt),{},{index:xe,payload:Te,visibleTicksCount:j.length,tickFormatter:l,padding:f},d);return E.createElement(ra,uf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Te.value,"-").concat(Te.coordinate,"-").concat(Te.tickCoord)},pA(W,Te,xe)),r&&E.createElement(Whe,{option:r,tickProps:ee,value:"".concat(typeof l=="function"?l(Te.value,xe):Te.value).concat(u||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(X,"-ticks")},de.length>0&&E.createElement(zo,{zIndex:ni.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(X,"-tick-labels"),ref:e},de)),Xe.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(X,"-tick-lines")},Xe))}),Qhe=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=t,d=zhe(t,Vhe),[m,p]=E.useState(""),[b,x]=E.useState(""),T=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var O;return Lhe({ticks:T.current,label:(O=t.labelRef)===null||O===void 0?void 0:O.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=E.useCallback(O=>{if(O){var D=O.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=D;var B=D[0];if(B){var M=window.getComputedStyle(B),Y=M.fontSize,W=M.letterSpacing;(Y!==m||W!==b)&&(p(Y),x(W))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(zo,{zIndex:t.zIndex},E.createElement(ra,{className:Ht("recharts-cartesian-axis",o)},E.createElement($he,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:co(t)}),E.createElement(Yhe,{ref:A,axisType:f,events:d,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(vce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(Oce,{label:t.label,labelRef:t.labelRef}),t.children)))}),YI=E.forwardRef((t,e)=>{var n=Cr(t,al);return E.createElement(Qhe,uf({},n,{ref:e}))});YI.displayName="CartesianAxis";var Xhe=["x1","y1","x2","y2","key"],Zhe=["offset"],Jhe=["xAxisId","yAxisId"],eme=["xAxisId","yAxisId"];function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tme(t,e,n){return(e=nme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nme(t){var e=rme(t,"string");return typeof e=="symbol"?e:e+""}function rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function I0(t,e){if(t==null)return{};var n,r,i=ime(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ame=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=t;return E.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BB(t){var{option:e,lineItemProps:n}=t,r;if(E.isValidElement(e))r=E.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,m=I0(n,Xhe),p=(i=co(m))!==null&&i!==void 0?i:{},{offset:b}=p,x=I0(p,Zhe);r=E.createElement("line",jc({},x,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function ome(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=I0(t,Jhe),f=i.map((d,m)=>{var p=hi(hi({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return E.createElement(BB,{key:"line-".concat(m),option:r,lineItemProps:p})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function sme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=I0(t,eme),f=i.map((d,m)=>{var p=hi(hi({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return E.createElement(BB,{option:r,lineItemProps:p,key:"line-".concat(m)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function lme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var m=d.map((p,b)=>{var x=!d[b+1],T=x?i+l-p:d[b+1]-p;if(T<=0)return null;var A=b%e.length;return E.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:T,width:o,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function ume(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var m=d.map((p,b)=>{var x=!d[b+1],T=x?i+l-p:d[b+1]-p;if(T<=0)return null;var A=b%n.length;return E.createElement("rect",{key:"react-".concat(b),x:p,y:o,width:T,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var cme=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return Sz(WI(hi(hi(hi({},al),n),{},{ticks:Tz(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},fme=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return Sz(WI(hi(hi(hi({},al),n),{},{ticks:Tz(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},dme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ni.grid};function qB(t){var e=IA(),n=OA(),r=Dz(),i=hi(hi({},Cr(t,dme)),{},{x:ct(t.x)?t.x:r.left,y:ct(t.y)?t.y:r.top,width:ct(t.width)?t.width:r.width,height:ct(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:m,syncWithTicks:p,horizontalValues:b,verticalValues:x}=i,T=aa(),A=at(z=>OM(z,"xAxis",o,T)),O=at(z=>OM(z,"yAxis",l,T));if(!ys(d)||!ys(m)||!ct(u)||!ct(f))return null;var D=i.verticalCoordinatesGenerator||cme,B=i.horizontalCoordinatesGenerator||fme,{horizontalPoints:M,verticalPoints:Y}=i;if((!M||!M.length)&&typeof B=="function"){var W=b&&b.length,X=B({yAxis:O?hi(hi({},O),{},{ticks:W?b:O.ticks}):void 0,width:e??d,height:n??m,offset:r},W?!0:p);e0(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(M=X)}if((!Y||!Y.length)&&typeof D=="function"){var j=x&&x.length,L=D({xAxis:A?hi(hi({},A),{},{ticks:j?x:A.ticks}):void 0,width:e??d,height:n??m,offset:r},j?!0:p);e0(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(Y=L)}return E.createElement(zo,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(ame,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(lme,jc({},i,{horizontalPoints:M})),E.createElement(ume,jc({},i,{verticalPoints:Y})),E.createElement(ome,jc({},i,{offset:r,horizontalPoints:M,xAxis:A,yAxis:O})),E.createElement(sme,jc({},i,{offset:r,verticalPoints:Y,xAxis:A,yAxis:O}))))}qB.displayName="CartesianGrid";var FB=(t,e,n,r)=>CU(t,"xAxis",e,r),$B=(t,e,n,r)=>PU(t,"xAxis",e,r),KB=(t,e,n,r)=>CU(t,"yAxis",n,r),HB=(t,e,n,r)=>PU(t,"yAxis",n,r),hme=_e([mn,FB,KB,$B,HB],(t,e,n,r,i)=>Wu(t,"xAxis")?Jv(e,r,!1):Jv(n,i,!1)),mme=(t,e,n,r,i)=>i;function pme(t){return t.type==="line"}var gme=_e([uU,mme],(t,e)=>t.filter(pme).find(n=>n.id===e)),yme=_e([mn,FB,KB,$B,HB,gme,hme,nI],(t,e,n,r,i,o,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:m}=u;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:b}=o,x;if(b!=null&&b.length>0?x=b:x=f?.slice(d,m+1),x!=null)return Vme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:x})}});function vme(t){var e=Ud(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var bme=["id"],_me=["type","layout","connectNulls","needClip","shape"],wme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(null,arguments)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return(e=Eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=Sme(t,"string");return typeof e=="symbol"?e:e+""}function Sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QI(t,e){if(t==null)return{};var n,r,i=Tme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ame=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Eb(n,e),payload:t}]},Ime=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:f,tooltipType:d}=t,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Eb(l,e),hide:u,type:d,color:r,unit:f}};return E.createElement(PB,{tooltipEntrySettings:m})}),GB=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ome(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Pme=(t,e,n)=>{var r=n.reduce((p,b)=>p+b);if(!r)return GB(e,t);for(var i=Math.floor(t/r),o=t%r,l=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>o){u=[...n.slice(0,f),o-d];break}var m=u.length%2===0?[0,l]:[l];return[...Ome(n,i),...u,...m].map(p=>"".concat(p,"px")).join(", ")};function Cme(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:l}=r,{id:u}=r,f=QI(r,bme),d=co(f);return E.createElement(xde,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:d,needClip:l,clipPathId:e})}function Rme(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r?.map(o=>{var l,u,f={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return is(is({},f),{},{value:o.value,payload:o.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(zce,{value:e?i:void 0},n)}function jj(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o}=t,{type:l,layout:u,connectNulls:f,needClip:d,shape:m}=o,p=QI(o,_me),b=is(is({},Ci(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??o.strokeDasharray});return E.createElement(E.Fragment,null,r?.length>1&&E.createElement(OB,xp({shapeType:"curve",option:m},b,{pathRef:n})),E.createElement(Cme,{points:r,clipPathId:e,props:o}))}function kme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Nme(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:m,animationEasing:p,animateNewValues:b,width:x,height:T,onAnimationEnd:A,onAnimationStart:O}=n,D=i.current,B=Mb(l,"recharts-line-"),M=E.useRef(B),[Y,W]=E.useState(!1),X=!Y,j=E.useCallback(()=>{typeof A=="function"&&A(),W(!1)},[A]),L=E.useCallback(()=>{typeof O=="function"&&O(),W(!0)},[O]),z=kme(r.current),G=E.useRef(0);M.current!==B&&(G.current=o.current,M.current=B);var q=G.current;return E.createElement(Rme,{points:l,showLabels:X},n.children,E.createElement(Db,{animationId:B,begin:d,duration:m,isActive:f,easing:p,onAnimationEnd:j,onAnimationStart:L,key:B},H=>{var $=pi(q,z+q,H),qe=Math.min($,z),Xe;if(f)if(u){var de="".concat(u).split(/[,\s]+/gim).map(Te=>parseFloat(Te));Xe=Pme(qe,z,de)}else Xe=GB(z,qe);else Xe=u==null?void 0:String(u);if(H>0&&z>0&&(i.current=l,o.current=Math.max(o.current,qe)),D){var Pe=D.length/l.length,xe=H===1?l:l.map((Te,tt)=>{var ee=Math.floor(tt*Pe);if(D[ee]){var Se=D[ee];return is(is({},Te),{},{x:pi(Se.x,Te.x,H),y:pi(Se.y,Te.y,H)})}return b?is(is({},Te),{},{x:pi(x*2,Te.x,H),y:pi(T/2,Te.y,H)}):is(is({},Te),{},{x:Te.x,y:Te.y})});return i.current=xe,E.createElement(jj,{props:n,points:xe,clipPathId:e,pathRef:r,strokeDasharray:Xe})}return E.createElement(jj,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Xe})}),E.createElement(bB,{label:n.label}))}function Dme(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),o=E.useRef(null);return E.createElement(Nme,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Mme=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:kn(t.payload,e)}};class jme extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:f,width:d,height:m,id:p,needClip:b,zIndex:x}=this.props;if(e)return null;var T=Ht("recharts-line",i),A=p,{r:O,strokeWidth:D}=vme(n),B=IB(n),M=O*2+D,Y=b?"url(#clipPath-".concat(B?"":"dots-").concat(A,")"):void 0;return E.createElement(zo,{zIndex:x},E.createElement(ra,{className:T},b&&E.createElement("defs",null,E.createElement(Xde,{clipPathId:A,xAxisId:o,yAxisId:l}),!B&&E.createElement("clipPath",{id:"clipPath-dots-".concat(A)},E.createElement("rect",{x:f-M/2,y:u-M/2,width:d+M,height:m+M}))),E.createElement(Qde,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:Mme,errorBarOffset:0},E.createElement(Dme,{props:this.props,clipPathId:A}))),E.createElement(qde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:Y}))}}var WB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ni.line,type:"linear"};function Lme(t){var e=Cr(t,WB),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:f,hide:d,isAnimationActive:m,label:p,legendType:b,xAxisId:x,yAxisId:T,id:A}=e,O=QI(e,wme),{needClip:D}=jB(x,T),B=KI(),M=Pb(),Y=aa(),W=at(G=>yme(G,x,T,Y,A));if(M!=="horizontal"&&M!=="vertical"||W==null||B==null)return null;var{height:X,width:j,x:L,y:z}=B;return E.createElement(jme,xp({},O,{id:A,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:m,hide:d,label:p,legendType:b,xAxisId:x,yAxisId:T,points:W,layout:M,height:X,width:j,left:L,top:z,needClip:D}))}function Vme(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((d,m)=>{var p=kn(d,l);if(e==="horizontal"){var b=WN({axis:n,ticks:i,bandSize:u,entry:d,index:m}),x=Ir(p)?null:r.scale(p);return{x:b,y:x,value:p,payload:d}}var T=Ir(p)?null:n.scale(p),A=WN({axis:r,ticks:o,bandSize:u,entry:d,index:m});return T==null||A==null?null:{x:T,y:A,value:p,payload:d}}).filter(Boolean)}function zme(t){var e=Cr(t,WB),n=aa();return E.createElement(RB,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(Ofe,{legendPayload:Ame(e)}),E.createElement(Ime,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(Bfe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(Lme,xp({},e,{id:r}))))}var kS=E.memo(zme,HI);kS.displayName="Line";var Ume=["domain","range"],Bme=["domain","range"];function Lj(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vj(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function YB(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Lj(t,Ume),{domain:o,range:l}=e,u=Lj(e,Bme);return!Vj(n,o)||!Vj(r,l)?!1:HI(i,u)}var Fme=["dangerouslySetInnerHTML","ticks"],$me=["id"];function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(null,arguments)}function zj(t,e){if(t==null)return{};var n,r,i=Kme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hme(t){var e=wn(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(Ide(t)):n.current!==t&&e(Ode({prev:n.current,next:t})),n.current=t},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(Pde(n.current)),n.current=null)},[e]),null}var Gme=t=>{var{xAxisId:e,className:n}=t,r=at(Pz),i=aa(),o="xAxis",l=at(O=>yh(O,o,e,i)),u=at(O=>OU(O,o,e,i)),f=at(O=>mse(O,e)),d=at(O=>_se(O,e)),m=at(O=>oU(O,e));if(f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=t,x=zj(t,Fme),{id:T}=m,A=zj(m,$me);return E.createElement(YI,NS({},x,A,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:Ht("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},Wme={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:Ur.allowDecimals,allowDuplicatedCategory:Ur.allowDuplicatedCategory,angle:Ur.angle,axisLine:al.axisLine,height:Ur.height,hide:!1,includeHidden:Ur.includeHidden,interval:Ur.interval,minTickGap:Ur.minTickGap,mirror:Ur.mirror,orientation:Ur.orientation,padding:Ur.padding,reversed:Ur.reversed,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,tickLine:al.tickLine,tickSize:al.tickSize,type:Ur.type,xAxisId:0},Yme=t=>{var e=Cr(t,Wme);return E.createElement(E.Fragment,null,E.createElement(Hme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),E.createElement(Gme,e))},QB=E.memo(Yme,YB);QB.displayName="XAxis";var Qme=["dangerouslySetInnerHTML","ticks"],Xme=["id"];function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(null,arguments)}function Uj(t,e){if(t==null)return{};var n,r,i=Zme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jme(t){var e=wn(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(Cde(t)):n.current!==t&&e(Rde({prev:n.current,next:t})),n.current=t},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(kde(n.current)),n.current=null)},[e]),null}var epe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=E.useRef(null),l=E.useRef(null),u=at(Pz),f=aa(),d=wn(),m="yAxis",p=at(W=>yh(W,m,e,f)),b=at(W=>Ese(W,e)),x=at(W=>xse(W,e)),T=at(W=>OU(W,m,e,f)),A=at(W=>sU(W,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!b||qI(i)||E.isValidElement(i)||A==null)){var W=o.current;if(W){var X=W.getCalculatedWidth();Math.round(b.width)!==Math.round(X)&&d(Nde({id:e,width:X}))}}},[T,b,d,i,e,r,A]),b==null||x==null||A==null)return null;var{dangerouslySetInnerHTML:O,ticks:D}=t,B=Uj(t,Qme),{id:M}=A,Y=Uj(A,Xme);return E.createElement(YI,DS({},B,Y,{ref:o,labelRef:l,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Ht("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:T,axisType:m}))},tpe={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,angle:Br.angle,axisLine:al.axisLine,hide:!1,includeHidden:Br.includeHidden,interval:Br.interval,minTickGap:Br.minTickGap,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,tickLine:al.tickLine,tickSize:al.tickSize,type:Br.type,width:Br.width,yAxisId:0},npe=t=>{var e=Cr(t,tpe);return E.createElement(E.Fragment,null,E.createElement(Jme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(epe,e))},XB=E.memo(npe,YB);XB.displayName="YAxis";var rpe=(t,e)=>e,XI=_e([rpe,mn,rU,kr,HU,Al,zle,Hr],Hle),ZI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZB=fo("mouseClick"),JB=Gp();JB.startListening({actionCreator:ZB,effect:(t,e)=>{var n=t.payload,r=XI(e.getState(),ZI(n));r?.activeIndex!=null&&e.dispatch(Lse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var MS=fo("mouseMove"),e9=Gp(),zy=null;e9.startListening({actionCreator:MS,effect:(t,e)=>{var n=t.payload;zy!==null&&cancelAnimationFrame(zy);var r=ZI(n);zy=requestAnimationFrame(()=>{var i=e.getState(),o=kI(i,i.tooltip.settings.shared);if(o==="axis"){var l=XI(i,r);l?.activeIndex!=null?e.dispatch(VU({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(LU())}zy=null})}});var Bj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t9=ia({name:"rootProps",initialState:Bj,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Bj.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),ipe=t9.reducer,{updateOptions:ape}=t9.actions,n9=ia({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:ope}=n9.actions,spe=n9.reducer,r9=fo("keyDown"),i9=fo("focus"),JI=Gp();JI.startListening({actionCreator:r9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=NI(i,bh(n),ag(n),ug(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Al(n);if(o==="Enter"){var d=w0(n,"axis","hover",String(i.index));e.dispatch(AS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var m=Ise(n),p=m==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,x=u+b*p;if(!(f==null||x>=f.length||x<0)){var T=w0(n,"axis","hover",String(x));e.dispatch(AS({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});JI.startListening({actionCreator:i9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=w0(n,"axis","hover",String(o));e.dispatch(AS({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var ao=fo("externalEvent"),a9=Gp(),GE=new Map;a9.startListening({actionCreator:ao,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=GE.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Ele(u),activeDataKey:QU(u),activeIndex:Yd(u),activeLabel:YU(u),activeTooltipIndex:Yd(u),isTooltipActive:Sle(u)};n(f,r)}finally{GE.delete(i)}});GE.set(i,l)}}});var lpe=_e([vh],t=>t.tooltipItemPayloads),upe=_e([lpe,sg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),o9=fo("touchMove"),s9=Gp();s9.startListening({actionCreator:o9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=kI(r,r.tooltip.settings.shared);if(i==="axis"){var o=XI(r,ZI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(VU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(Iz),m=(l=f.getAttribute(Oz))!==null&&l!==void 0?l:void 0,p=upe(e.getState(),d,m);e.dispatch(jU({activeDataKey:m,activeIndex:d,activeCoordinate:p}))}}}});var cpe=Y6({brush:vhe,cartesianAxis:Dde,chartData:Eue,errorBars:$de,graphicalItems:zfe,layout:Xee,legend:nne,options:vue,polarAxis:Qce,polarOptions:spe,referenceElements:The,rootProps:ipe,tooltip:Vse,zIndex:oue}),fpe=function(e){return xee({reducer:cpe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([JB.middleware,e9.middleware,JI.middleware,a9.middleware,s9.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(cz({type:"raf"}))},devTools:Qp.devToolsEnabled})};function l9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=aa(),o=E.useRef(null);if(i)return n;o.current==null&&(o.current=fpe(e));var l=yA;return E.createElement(phe,{context:l,store:o.current},n)}function dpe(t){var{layout:e,margin:n}=t,r=wn(),i=aa();return E.useEffect(()=>{i||(r(Wee(e)),r(Gee(n)))},[r,i,e,n]),null}var u9=E.memo(dpe,HI);function c9(t){var e=wn();return E.useEffect(()=>{e(ape(t))},[e,t]),null}function qj(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=CB("".concat(r).concat(e)),o=wn();return E.useLayoutEffect(()=>(o(iue({zIndex:e,elementId:i,isPanorama:n})),()=>{o(aue({zIndex:e,isPanorama:n}))}),[o,e,i,n]),E.createElement("g",{tabIndex:-1,id:i})}function Fj(t){var{children:e,isPanorama:n}=t,r=at(Wle);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return E.createElement(E.Fragment,null,i.map(l=>E.createElement(qj,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>E.createElement(qj,{key:l,zIndex:l,isPanorama:n})))}var hpe=["children"];function mpe(t,e){if(t==null)return{};var n,r,i=ppe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ppe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(null,arguments)}var gpe={width:"100%",height:"100%",display:"block"},ype=E.forwardRef((t,e)=>{var n=IA(),r=OA(),i=Hz();if(!ys(n)||!ys(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=t,d,m;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),E.createElement(oA,O0({},l,{title:u,desc:f,role:m,tabIndex:d,width:n,height:r,style:gpe,ref:e}),o)}),vpe=t=>{var{children:e}=t,n=at(Ib);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return E.createElement(oA,{width:r,height:i,x:l,y:o},e)},$j=E.forwardRef((t,e)=>{var{children:n}=t,r=mpe(t,hpe),i=aa();return i?E.createElement(vpe,null,E.createElement(Fj,{isPanorama:!0},n)):E.createElement(ype,O0({ref:e},r),E.createElement(Fj,{isPanorama:!1},n))});function bpe(){var t=wn(),[e,n]=E.useState(null),r=at(dte);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Kr(o)&&o!==r&&t(Qee(o))}},[e,t,r]),n}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wpe(t,e,n){return(e=xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(null,arguments)}var Spe=()=>(kue(),null);function P0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Tpe=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[o,l]=E.useState({containerWidth:P0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:P0((r=t.style)===null||r===void 0?void 0:r.height)}),u=E.useCallback((d,m)=>{l(p=>{var b=Math.round(d),x=Math.round(m);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),f=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=d.getBoundingClientRect();u(m,p);var b=T=>{var{width:A,height:O}=T[0].contentRect;u(A,O)},x=new ResizeObserver(b);x.observe(d),i.current=x}},[e,u]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),E.createElement(E.Fragment,null,E.createElement(Cb,{width:o.containerWidth,height:o.containerHeight}),E.createElement("div",cf({ref:f},t)))}),Ape=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=E.useState({containerWidth:P0(n),containerHeight:P0(r)}),l=E.useCallback((f,d)=>{o(m=>{var p=Math.round(f),b=Math.round(d);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),u=E.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:m}=f.getBoundingClientRect();l(d,m)}},[e,l]);return E.createElement(E.Fragment,null,E.createElement(Cb,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",cf({ref:u},t)))}),Ipe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(Cb,{width:n,height:r}),E.createElement("div",cf({ref:e},t)))}),Ope=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return fl(n)||fl(r)?E.createElement(Ape,cf({},t,{ref:e})):E.createElement(Ipe,cf({},t,{ref:e}))});function Ppe(t){return t===!0?Tpe:Ope}var Cpe=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:T,onTouchStart:A,style:O,width:D,responsive:B,dispatchTouchEvents:M=!0}=t,Y=E.useRef(null),W=wn(),[X,j]=E.useState(null),[L,z]=E.useState(null),G=bpe(),q=AA(),H=q?.width>0?q.width:D,$=q?.height>0?q.height:i,qe=E.useCallback(ue=>{G(ue),typeof e=="function"&&e(ue),j(ue),z(ue),ue!=null&&(Y.current=ue)},[G,e,j,z]),Xe=E.useCallback(ue=>{W(ZB(ue)),W(ao({handler:o,reactEvent:ue}))},[W,o]),de=E.useCallback(ue=>{W(MS(ue)),W(ao({handler:d,reactEvent:ue}))},[W,d]),Pe=E.useCallback(ue=>{W(LU()),W(ao({handler:m,reactEvent:ue}))},[W,m]),xe=E.useCallback(ue=>{W(MS(ue)),W(ao({handler:p,reactEvent:ue}))},[W,p]),Te=E.useCallback(()=>{W(i9())},[W]),tt=E.useCallback(ue=>{W(r9(ue.key))},[W]),ee=E.useCallback(ue=>{W(ao({handler:l,reactEvent:ue}))},[W,l]),Se=E.useCallback(ue=>{W(ao({handler:u,reactEvent:ue}))},[W,u]),De=E.useCallback(ue=>{W(ao({handler:f,reactEvent:ue}))},[W,f]),je=E.useCallback(ue=>{W(ao({handler:b,reactEvent:ue}))},[W,b]),nt=E.useCallback(ue=>{W(ao({handler:A,reactEvent:ue}))},[W,A]),ut=E.useCallback(ue=>{M&&W(o9(ue)),W(ao({handler:T,reactEvent:ue}))},[W,M,T]),Ye=E.useCallback(ue=>{W(ao({handler:x,reactEvent:ue}))},[W,x]),un=Ppe(B);return E.createElement(rB.Provider,{value:X},E.createElement(f6.Provider,{value:L},E.createElement(un,{width:H??O?.width,height:$??O?.height,className:Ht("recharts-wrapper",r),style:_pe({position:"relative",cursor:"default",width:H,height:$},O),onClick:Xe,onContextMenu:ee,onDoubleClick:Se,onFocus:Te,onKeyDown:tt,onMouseDown:De,onMouseEnter:de,onMouseLeave:Pe,onMouseMove:xe,onMouseUp:je,onTouchEnd:Ye,onTouchMove:ut,onTouchStart:nt,ref:qe},E.createElement(Spe,null),n)))}),Rpe=["width","height","responsive","children","className","style","compact","title","desc"];function kpe(t,e){if(t==null)return{};var n,r,i=Npe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Npe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f9=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:m}=t,p=kpe(t,Rpe),b=co(p);return f?E.createElement(E.Fragment,null,E.createElement(Cb,{width:n,height:r}),E.createElement($j,{otherAttributes:b,title:d,desc:m},o)):E.createElement(Cpe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement($j,{otherAttributes:b,title:d,desc:m,ref:e},E.createElement(Ihe,null,o)))});function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(null,arguments)}var Dpe={top:5,right:5,bottom:5,left:5},Mpe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jpe=E.forwardRef(function(e,n){var r,i=Cr(e.categoricalChartProps,Mpe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,m={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return E.createElement(l9,{preloadedState:{options:m},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},E.createElement(LB,{chartData:d.data}),E.createElement(u9,{layout:i.layout,margin:i.margin}),E.createElement(c9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(f9,jS({},i,{ref:n})))}),Lpe=["axis"],Vpe=E.forwardRef((t,e)=>E.createElement(jpe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lpe,tooltipPayloadSearcher:iB,categoricalChartProps:t,ref:e}));function zpe(t){var e=wn();return E.useEffect(()=>{e(ope(t))},[e,t]),null}var Upe=["layout"];function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(null,arguments)}function Bpe(t,e){if(t==null)return{};var n,r,i=qpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fpe={top:5,right:5,bottom:5,left:5},d9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fpe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$pe=E.forwardRef(function(e,n){var r,i=Cr(e.categoricalChartProps,d9),{layout:o}=i,l=Bpe(i,Upe),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m}=e,p={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return E.createElement(l9,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},E.createElement(LB,{chartData:i.data}),E.createElement(u9,{layout:o,margin:i.margin}),E.createElement(c9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(zpe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),E.createElement(f9,LS({},l,{ref:n})))});function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return(e=Hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hpe(t){var e=Gpe(t,"string");return typeof e=="symbol"?e:e+""}function Gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wpe=["item"],Ype=Gj(Gj({},d9),{},{layout:"centric",startAngle:0,endAngle:360}),Qpe=E.forwardRef((t,e)=>{var n=Cr(t,Ype);return E.createElement($pe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wpe,tooltipPayloadSearcher:iB,categoricalChartProps:n,ref:e})});const h9=6048e5,Xpe=864e5,Wj=Symbol.for("constructDateFrom");function yl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Wj in t?t[Wj](e):t instanceof Date?new t.constructor(e):new Date(e)}function go(t,e){return yl(e||t,t)}function Zpe(t,e,n){const r=go(t,n?.in);return isNaN(e)?yl(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let Jpe={};function t_(){return Jpe}function Ep(t,e){const n=t_(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=go(t,e?.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function C0(t,e){return Ep(t,{...e,weekStartsOn:1})}function m9(t,e){const n=go(t,e?.in),r=n.getFullYear(),i=yl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=C0(i),l=yl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=C0(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Yj(t){const e=go(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function p9(t,...e){const n=yl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function R0(t,e){const n=go(t,e?.in);return n.setHours(0,0,0,0),n}function ege(t,e,n){const[r,i]=p9(n?.in,t,e),o=R0(r),l=R0(i),u=+o-Yj(o),f=+l-Yj(l);return Math.round((u-f)/Xpe)}function tge(t,e){const n=m9(t,e),r=yl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),C0(r)}function nge(t,e,n){const[r,i]=p9(n?.in,t,e);return+R0(r)==+R0(i)}function rge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ige(t){return!(!rge(t)&&typeof t!="number"||isNaN(+go(t)))}function age(t,e){const n=go(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sge=(t,e,n)=>{let r;const i=oge[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function WE(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fge={date:WE({formats:lge,defaultWidth:"full"}),time:WE({formats:uge,defaultWidth:"full"}),dateTime:WE({formats:cge,defaultWidth:"full"})},dge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hge=(t,e,n,r)=>dge[t];function bm(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;i=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const mge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ge=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wge={ordinalNumber:_ge,era:bm({values:mge,defaultWidth:"wide"}),quarter:bm({values:pge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bm({values:gge,defaultWidth:"wide"}),day:bm({values:yge,defaultWidth:"wide"}),dayPeriod:bm({values:vge,defaultWidth:"wide",formattingValues:bge,defaultFormattingWidth:"wide"})};function _m(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?Ege(u,p=>p.test(l)):xge(u,p=>p.test(l));let d;d=t.valueCallback?t.valueCallback(f):f,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(l.length);return{value:d,rest:m}}}function xge(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ege(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Sge(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const Tge=/^(\d+)(th|st|nd|rd)?/i,Age=/\d+/i,Ige={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oge={any:[/^b/i,/^(a|c)/i]},Pge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cge={any:[/1/i,/2/i,/3/i,/4/i]},Rge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lge={ordinalNumber:Sge({matchPattern:Tge,parsePattern:Age,valueCallback:t=>parseInt(t,10)}),era:_m({matchPatterns:Ige,defaultMatchWidth:"wide",parsePatterns:Oge,defaultParseWidth:"any"}),quarter:_m({matchPatterns:Pge,defaultMatchWidth:"wide",parsePatterns:Cge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_m({matchPatterns:Rge,defaultMatchWidth:"wide",parsePatterns:kge,defaultParseWidth:"any"}),day:_m({matchPatterns:Nge,defaultMatchWidth:"wide",parsePatterns:Dge,defaultParseWidth:"any"}),dayPeriod:_m({matchPatterns:Mge,defaultMatchWidth:"any",parsePatterns:jge,defaultParseWidth:"any"})},Vge={code:"en-US",formatDistance:sge,formatLong:fge,formatRelative:hge,localize:wge,match:Lge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zge(t,e){const n=go(t,e?.in);return ege(n,age(n))+1}function Uge(t,e){const n=go(t,e?.in),r=+C0(n)-+tge(n);return Math.round(r/h9)+1}function g9(t,e){const n=go(t,e?.in),r=n.getFullYear(),i=t_(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=yl(e?.in||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Ep(l,e),f=yl(e?.in||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const d=Ep(f,e);return+n>=+u?r+1:+n>=+d?r:r-1}function Bge(t,e){const n=t_(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=g9(t,e),o=yl(e?.in||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ep(o,e)}function qge(t,e){const n=go(t,e?.in),r=+Ep(n,e)-+Bge(n,e);return Math.round(r/h9)+1}function rn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const yu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return rn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rn(n+1,2)},d(t,e){return rn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rn(t.getHours()%12||12,e.length)},H(t,e){return rn(t.getHours(),e.length)},m(t,e){return rn(t.getMinutes(),e.length)},s(t,e){return rn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return rn(i,e.length)}},rd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qj={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return yu.y(t,e)},Y:function(t,e,n,r){const i=g9(t,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return rn(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):rn(o,e.length)},R:function(t,e){const n=m9(t);return rn(n,e.length)},u:function(t,e){const n=t.getFullYear();return rn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return yu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return rn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=qge(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):rn(i,e.length)},I:function(t,e,n){const r=Uge(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):rn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):yu.d(t,e)},D:function(t,e,n){const r=zge(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return rn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return rn(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return rn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=rd.noon:r===0?i=rd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=rd.evening:r>=12?i=rd.afternoon:r>=4?i=rd.morning:i=rd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return yu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):yu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):yu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):yu.s(t,e)},S:function(t,e){return yu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Zj(r);case"XXXX":case"XX":return Oc(r);case"XXXXX":case"XXX":default:return Oc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Zj(r);case"xxxx":case"xx":return Oc(r);case"xxxxx":case"xxx":default:return Oc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xj(r,":");case"OOOO":default:return"GMT"+Oc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xj(r,":");case"zzzz":default:return"GMT"+Oc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return rn(r,e.length)},T:function(t,e,n){return rn(+t,e.length)}};function Xj(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+rn(o,2)}function Zj(t,e){return t%60===0?(t>0?"-":"+")+rn(Math.abs(t)/60,2):Oc(t,e)}function Oc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=rn(Math.trunc(r/60),2),o=rn(r%60,2);return n+i+e+o}const Jj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Fge=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Jj(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Jj(r,e)).replace("{{time}}",y9(i,e))},$ge={p:y9,P:Fge},Kge=/^D+$/,Hge=/^Y+$/,Gge=["D","DD","YY","YYYY"];function Wge(t){return Kge.test(t)}function Yge(t){return Hge.test(t)}function Qge(t,e,n){const r=Xge(t,e,n);if(console.warn(r),Gge.includes(t))throw new RangeError(r)}function Xge(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eye=/^'([^]*?)'?$/,tye=/''/g,nye=/[a-zA-Z]/;function eO(t,e,n){const r=t_(),i=r.locale??Vge,o=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=go(t,n?.in);if(!ige(u))throw new RangeError("Invalid time value");let f=e.match(Jge).map(m=>{const p=m[0];if(p==="p"||p==="P"){const b=$ge[p];return b(m,i.formatLong)}return m}).join("").match(Zge).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:rye(m)};if(Qj[p])return{isToken:!0,value:m};if(p.match(nye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const d={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return f.map(m=>{if(!m.isToken)return m.value;const p=m.value;(Yge(p)||Wge(p))&&Qge(p,e,String(t));const b=Qj[p[0]];return b(u,p,i.localize,d)}).join("")}function rye(t){const e=t.match(eye);return e?e[1].replace(tye,"'"):t}function iye(t,e,n){return Zpe(t,-e,n)}const aye=()=>{const{data:t,loading:e}=Bp(),{data:n}=Up(),{data:r}=rA();if(e)return C.jsx("div",{className:"p-8 text-center",children:"Loading dashboard..."});const i=t.reduce((b,x)=>b+x.price,0),o=t.reduce((b,x)=>b+x.profit,0),l=r.reduce((b,x)=>b+x.amount,0),u=o-l;let f=0;n.forEach(b=>{const x=t.filter(A=>A.batchId===b.id&&A.status!=="Cancelled").reduce((A,O)=>A+O.qty,0),T=b.targetQty-x;T>0&&(f+=T*b.unitCost)});const d=Array.from({length:7}).map((b,x)=>{const T=iye(new Date,6-x),A=t.filter(O=>nge(new Date(O.date),T));return{date:eO(T,"MMM dd"),revenue:A.reduce((O,D)=>O+D.price,0),profit:A.reduce((O,D)=>O+D.profit,0)}}),m=n.map(b=>{const T=t.filter(A=>A.batchId===b.id).reduce((A,O)=>A+O.profit,0);return{name:b.name,value:T}}).filter(b=>b.value>0).slice(0,5),p=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Business Dashboard"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Overview of your performance."})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[C.jsx(Ti,{className:"bg-gradient-to-br from-blue-500 to-blue-600 border-none text-white",children:C.jsx(Ai,{className:"p-6",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-blue-100 font-medium text-sm",children:"Total Revenue"}),C.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["",i.toLocaleString()]})]}),C.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:C.jsx(fv,{size:20})})]})})}),C.jsx(Ti,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 border-none text-white",children:C.jsx(Ai,{className:"p-6",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-emerald-100 font-medium text-sm",children:"Net Profit"}),C.jsxs("h3",{className:"text-3xl font-bold mt-1",children:["",u.toLocaleString()]}),C.jsxs("p",{className:"text-xs text-emerald-100 mt-1",children:["Gross: ",o.toLocaleString()]})]}),C.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:C.jsx(PL,{size:20})})]})})}),C.jsx(Ti,{className:"bg-white dark:bg-card-dark border-l-4 border-l-red-500",children:C.jsx(Ai,{className:"p-6",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm",children:"Total Expenses"}),C.jsxs("h3",{className:"text-3xl font-bold mt-1 text-red-600 dark:text-red-400",children:["",l.toLocaleString()]})]}),C.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-red-500",children:C.jsx(OL,{size:20})})]})})}),C.jsx(Ti,{className:"bg-white dark:bg-card-dark",children:C.jsx(Ai,{className:"p-6",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm",children:"Unsold Inventory"}),C.jsxs("h3",{className:"text-3xl font-bold mt-1 text-gray-900 dark:text-white",children:["",f.toLocaleString()]})]}),C.jsx("div",{className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-lg text-gray-600 dark:text-gray-300",children:C.jsx(xL,{size:20})})]})})})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs(Ti,{children:[C.jsx(nf,{children:C.jsx(rf,{children:"Sales Trend (Last 7 Days)"})}),C.jsx(Ai,{children:C.jsx("div",{className:"h-64 w-full",children:C.jsx(aD,{width:"100%",height:"100%",children:C.jsxs(Vpe,{data:d,children:[C.jsx(qB,{strokeDasharray:"3 3",opacity:.3}),C.jsx(QB,{dataKey:"date",fontSize:12,tickLine:!1,axisLine:!1}),C.jsx(XB,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:b=>`${b}`}),C.jsx(KM,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:b=>[`${b}`,""]}),C.jsx(kS,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",strokeWidth:3,dot:{r:4},activeDot:{r:6},name:"Revenue"}),C.jsx(kS,{type:"monotone",dataKey:"profit",stroke:"#10b981",strokeWidth:3,dot:{r:4},name:"Profit"})]})})})})]}),C.jsxs(Ti,{children:[C.jsx(nf,{children:C.jsx(rf,{children:"Profit by Batch"})}),C.jsx(Ai,{children:C.jsx("div",{className:"h-64 w-full",children:C.jsx(aD,{width:"100%",height:"100%",children:C.jsxs(Qpe,{children:[C.jsx(NB,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((b,x)=>C.jsx(Qb,{fill:p[x%p.length]},`cell-${x}`))}),C.jsx(KM,{formatter:b=>[`${b}`,"Profit"]}),C.jsx(Kz,{})]})})})})]})]})]})},oye={mat:"Material",lin:"Lining",mship:"Material Shipping",vship:"Vendor Shipping",stitch:"Stitching",pack:"Packaging",cship:"Customer Shipment"},sye=({onClose:t,initialData:e})=>{const[n,r]=E.useState(""),[i,o]=E.useState(1),[l,u]=E.useState(0),[f,d]=E.useState(!1),[m,p]=E.useState(""),[b,x]=E.useState(""),[T,A]=E.useState([]);E.useEffect(()=>{if(e){if(r(e.name),o(e.targetQty),u(e.marginPerUnit||0),d(e.isPublic||!1),p(e.publicName||e.name),x(e.description||""),e.costs&&e.costs.length>0)A(e.costs);else if(e.inputs){const z=[];Object.entries(oye).forEach(([G,q])=>{const H=e.inputs[`q_${G}`]||0,$=e.inputs[`p_${G}`]||0;($>0||H>0)&&z.push({id:crypto.randomUUID(),name:q,rate:$,qty:H,unit:"units",type:"FIXED"})}),A(z)}}else A([{id:crypto.randomUUID(),name:"Main Fabric",rate:0,qty:0,unit:"m",type:"FIXED"},{id:crypto.randomUUID(),name:"Stitching Labor",rate:0,qty:1,unit:"pc",type:"PER_UNIT"}])},[e]);const O=()=>{A([...T,{id:crypto.randomUUID(),name:"",rate:0,qty:1,unit:"pcs",type:"FIXED"}])},D=z=>{A(T.filter(G=>G.id!==z))},B=(z,G,q)=>{A(T.map(H=>H.id===z?{...H,[G]:q}:H))},M=Number(i)||1,Y=T.map(z=>{const G=Number(z.rate)||0,q=Number(z.qty)||0;let H=0;return z.type==="FIXED"?H=G*q:H=G*q*M,{...z,total:H,rate:G,qty:q}}),W=Y.reduce((z,G)=>z+G.total,0),X=W/M,j=X+(Number(l)||0),L=async()=>{if(!n.trim())return alert("Please enter a batch name");if(W<=0)return alert("Total cost cannot be zero");const z={name:n,targetQty:M,grandTotal:W,unitCost:X,costs:Y,inputs:{},marginPerUnit:Number(l)||0,sellingPrice:j,isPublic:f,publicName:m,description:b};try{e&&e.id?await op.update(e.id,z):await op.add(z),t()}catch(G){console.error(G),alert("Failed to save batch.")}};return C.jsxs(Ti,{className:"w-full shadow-2xl h-[90vh] flex flex-col",children:[C.jsxs(nf,{className:"flex flex-row justify-between items-center bg-white dark:bg-card-dark z-10 border-b flex-shrink-0",children:[C.jsxs(rf,{children:[C.jsx(k8,{className:"text-primary-blue"})," ",e?"Edit Costing Plan":"New Costing Plan"]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full",children:C.jsx(kL,{size:20})})]}),C.jsxs(Ai,{className:"space-y-6 overflow-y-auto flex-grow p-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Batch Name"}),C.jsx("input",{type:"text",value:n,onChange:z=>r(z.target.value),placeholder:"e.g. Summer Collection",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 border rounded-xl"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-600",children:"Total Products to Make (Target Qty)"}),C.jsxs("div",{className:"relative",children:[C.jsx(C8,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),C.jsx("input",{type:"number",value:i,onChange:z=>o(z.target.value===""?"":parseFloat(z.target.value)),className:"w-full pl-10 p-3 bg-blue-50 dark:bg-blue-900/10 border-blue-200 border rounded-xl font-bold text-lg"})]})]})]}),C.jsx("div",{className:"border rounded-xl overflow-hidden",children:C.jsxs("table",{className:"w-full text-sm text-left",children:[C.jsx("thead",{className:"bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-gray-400 font-medium",children:C.jsxs("tr",{children:[C.jsx("th",{className:"p-3",children:"Component / Material"}),C.jsx("th",{className:"p-3 w-28",children:"Type"}),C.jsx("th",{className:"p-3 w-24",children:"Rate ()"}),C.jsx("th",{className:"p-3 w-24",children:"Qty used"}),C.jsx("th",{className:"p-3 w-20",children:"Unit"}),C.jsx("th",{className:"p-3 text-right w-32",children:"Line Total"}),C.jsx("th",{className:"p-3 w-10"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:T.map(z=>{const G=Y.find(q=>q.id===z.id);return C.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[C.jsx("td",{className:"p-2",children:C.jsx("input",{type:"text",value:z.name,onChange:q=>B(z.id,"name",q.target.value),placeholder:"Item Name",className:"w-full bg-transparent p-2 border border-transparent hover:border-gray-200 rounded focus:border-blue-500 outline-none"})}),C.jsx("td",{className:"p-2",children:C.jsxs("select",{value:z.type,onChange:q=>B(z.id,"type",q.target.value),className:"w-full bg-transparent p-2 rounded outline-none text-xs font-bold uppercase text-gray-600",children:[C.jsx("option",{value:"FIXED",children:"Total (Bulk)"}),C.jsx("option",{value:"PER_UNIT",children:"Per Piece"})]})}),C.jsx("td",{className:"p-2",children:C.jsx("input",{type:"number",value:z.rate,onChange:q=>B(z.id,"rate",q.target.value),className:"w-full bg-transparent p-2 border-b border-gray-200 focus:border-blue-500 outline-none"})}),C.jsx("td",{className:"p-2",children:C.jsx("input",{type:"number",value:z.qty,onChange:q=>B(z.id,"qty",q.target.value),className:"w-full bg-transparent p-2 border-b border-gray-200 focus:border-blue-500 outline-none"})}),C.jsx("td",{className:"p-2",children:C.jsx("input",{type:"text",value:z.unit,onChange:q=>B(z.id,"unit",q.target.value),className:"w-full bg-transparent p-2 text-gray-400 text-xs"})}),C.jsxs("td",{className:"p-2 text-right font-mono font-medium",children:["",G?.total.toLocaleString()]}),C.jsx("td",{className:"p-2 text-center",children:C.jsx("button",{onClick:()=>D(z.id),className:"text-gray-300 hover:text-red-500",children:C.jsx(j0,{size:16})})})]},z.id)})}),C.jsx("tfoot",{className:"bg-gray-50 dark:bg-slate-800",children:C.jsx("tr",{children:C.jsx("td",{colSpan:7,className:"p-2",children:C.jsxs(uo,{variant:"ghost",className:"w-full text-gray-500 hover:text-primary-blue border-dashed border-2 border-gray-200",onClick:O,children:[C.jsx(M0,{size:16,className:"mr-2"})," Add Cost Component"]})})})})]})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/50 p-6 rounded-2xl",children:[C.jsxs("div",{children:[C.jsx("h4",{className:"font-bold text-gray-500 text-sm uppercase mb-4",children:"Cost Summary"}),C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("span",{children:"Total Batch Cost"}),C.jsxs("span",{className:"font-bold text-lg",children:["",W.toLocaleString()]})]}),C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("span",{children:"Target Production"}),C.jsxs("span",{children:[M," units"]})]}),C.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between items-center text-primary-blue",children:[C.jsx("span",{className:"font-bold",children:"Cost Per Unit"}),C.jsxs("span",{className:"font-extrabold text-2xl",children:["",X.toFixed(2)]})]})]}),C.jsxs("div",{className:"bg-white dark:bg-card-dark p-4 rounded-xl border border-gray-200 shadow-sm",children:[C.jsx("label",{className:"text-sm font-bold text-green-600 uppercase mb-2 block",children:"Pricing Strategy"}),C.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[C.jsx("span",{className:"text-sm text-gray-600",children:"Desired Margin / Unit"}),C.jsxs("div",{className:"flex items-center gap-1 w-32",children:[C.jsx("span",{className:"text-green-600 font-bold",children:""}),C.jsx("input",{type:"number",value:l,onChange:z=>u(z.target.value===""?"":parseFloat(z.target.value)),className:"w-full p-2 border-b-2 border-green-200 focus:border-green-500 outline-none font-bold text-right"})]})]}),C.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg flex justify-between items-center",children:[C.jsx("span",{className:"font-bold text-green-800 dark:text-green-300",children:"Selling Price"}),C.jsxs("span",{className:"font-extrabold text-2xl text-green-700 dark:text-green-400",children:["",j.toFixed(2)]})]})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-700",children:[C.jsxs("h4",{className:"flex items-center gap-2 font-bold text-gray-900 dark:text-white mb-4",children:[C.jsx(F8,{size:18})," E-Commerce Settings"]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:[C.jsx("input",{type:"checkbox",checked:f,onChange:z=>d(z.target.checked),className:"w-5 h-5 rounded text-primary-blue"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"font-medium",children:"Publish to Online Store"}),C.jsx("div",{className:"text-xs text-gray-500",children:"Makes this batch available for public viewing"})]})]}),f&&C.jsxs("div",{className:"animate-in slide-in-from-top-2 space-y-3",children:[C.jsx("input",{type:"text",value:m,onChange:z=>p(z.target.value),placeholder:"Public Display Name (e.g. Royal Silk Saree)",className:"w-full p-3 bg-gray-50 dark:bg-slate-800 border rounded-xl"}),C.jsx("textarea",{value:b,onChange:z=>x(z.target.value),placeholder:"Product description for customers...",rows:3,className:"w-full p-3 bg-gray-50 dark:bg-slate-800 border rounded-xl"})]})]})]})]}),C.jsxs("div",{className:"p-4 border-t flex justify-end gap-3 bg-gray-50 dark:bg-slate-900",children:[C.jsx(uo,{variant:"secondary",onClick:t,children:"Cancel"}),C.jsxs(uo,{onClick:L,className:"w-full sm:w-auto px-8",children:[C.jsx(AL,{size:18,className:"mr-2"})," Save Batch"]})]})]})},lye=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(""),[i,o]=E.useState(void 0),{data:l,loading:u}=Up(),{data:f,loading:d}=Bp(),m=(T,A)=>{if(!T)return{sold:0,remaining:A,progress:0};const D=f.filter(Y=>Y.batchId===T&&Y.status!=="Cancelled").reduce((Y,W)=>Y+W.qty,0),B=A-D,M=Math.min(D/A*100,100);return{sold:D,remaining:B,progress:M}},p=async T=>{T&&confirm("Are you sure you want to delete this batch?")&&await op.delete(T)},b=T=>{o(T),e(!0)},x=l.filter(T=>T.name.toLowerCase().includes(n.toLowerCase()));return u||d?C.jsx("div",{className:"p-8 text-center",children:"Loading inventory..."}):C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Inventory"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your production batches and tracking"})]}),C.jsxs(uo,{onClick:()=>{o(void 0),e(!0)},children:[C.jsx(M0,{size:20,className:"mr-2"})," New Batch"]})]}),C.jsxs("div",{className:"relative",children:[C.jsx(IL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),C.jsx("input",{type:"text",placeholder:"Search batches...",value:n,onChange:T=>r(T.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-card-dark border border-gray-100 dark:border-border-dark rounded-xl shadow-sm focus:ring-2 focus:ring-primary-blue outline-none transition-all"})]}),t&&C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:C.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-card-dark rounded-2xl",children:C.jsx(sye,{onClose:()=>e(!1),initialData:i})})}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x?.map(T=>{const{sold:A,remaining:O,progress:D}=m(T.id,T.targetQty),B=O<T.targetQty*.2;return C.jsx(Ti,{className:"hover:shadow-lg transition-shadow duration-300 border-t-4 border-t-primary-blue",children:C.jsxs(Ai,{className:"p-6",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg text-primary-blue",children:C.jsx(ZE,{size:24})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:T.name}),C.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",T.id?.slice(0,6),"..."]})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>b(T),className:"text-gray-400 hover:text-primary-blue transition-colors",children:C.jsx(i$,{size:18})}),C.jsx("button",{onClick:()=>p(T.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:C.jsx(j0,{size:18})})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-gray-500",children:"Target"}),C.jsx("span",{className:"font-medium",children:T.targetQty})]}),C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-gray-500",children:"Produced Cost"}),C.jsxs("span",{className:"font-medium",children:["",T.grandTotal.toLocaleString()]})]}),C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-gray-500",children:"Unit Cost"}),C.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:["",T.unitCost.toFixed(1)]})]}),C.jsxs("div",{className:"space-y-2 pt-2",children:[C.jsxs("div",{className:"flex justify-between text-xs font-semibold uppercase tracking-wider text-gray-500",children:[C.jsxs("span",{children:["Sold: ",A]}),C.jsxs("span",{className:B?"text-red-500":"text-green-500",children:["Left: ",O]})]}),C.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:C.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${B?"bg-red-500":"bg-primary-blue"}`,style:{width:`${D}%`}})})]})]})]})},T.id)}),x?.length===0&&C.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400",children:[C.jsx(ZE,{size:48,className:"mx-auto mb-4 opacity-20"}),C.jsx("p",{children:"No batches found. Create your first production plan!"})]})]})]})},uye=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=i=>n(i)}),cye=({onClose:t,initialData:e})=>{const{data:n}=Up(),{data:r}=Bp(),[i,o]=E.useState(""),[l,u]=E.useState(new Date().toISOString().split("T")[0]),[f,d]=E.useState(1),[m,p]=E.useState(""),[b,x]=E.useState(""),[T,A]=E.useState(""),[O,D]=E.useState(""),[B,M]=E.useState(""),[Y,W]=E.useState(0),[X,j]=E.useState("New"),[L,z]=E.useState(""),[G,q]=E.useState(""),[H,$]=E.useState(null),qe=n.find(Te=>Te.id===i),Xe=r.filter(Te=>Te.batchId===i&&Te.id!==e?.id&&Te.status!=="Cancelled").reduce((Te,tt)=>Te+tt.qty,0),de=qe?qe.targetQty-Xe:0;E.useEffect(()=>{e&&(o(e.batchId),u(e.date),d(e.qty),p(e.custName),x(e.custPhone||""),A(e.custAddress||""),D(e.notes||""),M(e.price+(e.discount||0)),j(e.status),W(e.discount||0),z(e.courier||""),q(e.trackingNumber||""),e.paymentScreenshot&&$(e.paymentScreenshot))},[e]),E.useEffect(()=>{if(qe&&f>0&&!e){const Te=qe.sellingPrice||qe.unitCost*1.5;M(Number((Te*f).toFixed(2)))}},[qe,f]);const Pe=async Te=>{const tt=Te.target.files?.[0];if(tt){const ee=await uye(tt);$(ee)}},xe=async()=>{if(!i||!m||!B)return alert("Please fill required fields");const Te=Number(B)-Y,tt=Te-(qe?.unitCost||0)*f,ee={batchId:i,date:l,custName:m,custPhone:b,custAddress:T,status:X,qty:f,price:Te,profit:tt,paymentScreenshot:H||void 0,discount:Y,courier:L,trackingNumber:G,notes:O};try{e&&e.id?await sp.update(e.id,ee):await sp.add(ee),t()}catch(Se){console.error(Se),alert("Failed to save sale.")}};return C.jsxs(Ti,{className:"w-full shadow-2xl h-[90vh] flex flex-col",children:[C.jsxs(nf,{className:"flex items-center justify-between sticky top-0 bg-white dark:bg-card-dark z-10 border-b flex-shrink-0",children:[C.jsx(rf,{children:e?"Edit Sale":"Record New Sale"}),C.jsx("button",{onClick:t,children:C.jsx(kL,{})})]}),C.jsxs(Ai,{className:"space-y-6 pt-6 overflow-y-auto flex-grow p-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Batch"}),C.jsxs("select",{value:i,onChange:Te=>o(Te.target.value),className:"w-full p-3 rounded-xl border bg-gray-50 dark:bg-slate-800 dark:border-slate-600",children:[C.jsx("option",{value:"",children:"-- Select Batch --"}),n.map(Te=>C.jsxs("option",{value:Te.id,children:[Te.name," (",Te.unitCost.toFixed(2),"/u)"]},Te.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),C.jsx("input",{type:"number",value:f,onChange:Te=>d(Number(Te.target.value)),className:"w-full p-3 rounded-xl border bg-gray-50 dark:bg-slate-800 dark:border-slate-600"})]})]}),qe&&C.jsxs("div",{className:`p-3 rounded-lg flex items-center gap-2 text-sm ${de<f?"bg-red-100 text-red-800":"bg-blue-50 text-blue-800"}`,children:[de<f?C.jsx(CL,{size:16}):C.jsx(M8,{size:16}),C.jsxs("span",{children:["Stock Available: ",de," units. ",de<f?"(Overselling!)":""]})]}),C.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-xl space-y-4",children:[C.jsxs("h4",{className:"flex items-center gap-2 font-bold text-sm text-gray-500 uppercase",children:[C.jsx(SL,{size:14})," Customer Details"]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Name"}),C.jsx("input",{type:"text",value:m,onChange:Te=>p(Te.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone (Optional)"}),C.jsx("input",{type:"text",value:b,onChange:Te=>x(Te.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600"})]}),C.jsxs("div",{className:"md:col-span-2",children:[C.jsxs("label",{className:"block text-sm font-medium mb-1",children:[C.jsx(TL,{size:14,className:"inline mr-1"})," Shipping Address"]}),C.jsx("textarea",{value:T,onChange:Te=>A(Te.target.value),rows:2,placeholder:"Full address with pincode...",className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600"})]})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("h4",{className:"flex items-center gap-2 font-bold text-sm text-gray-500 uppercase",children:[C.jsx(d$,{size:14})," Delivery Info"]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Courier Service"}),C.jsx("input",{type:"text",placeholder:"DTDC, SpeedPost...",value:L,onChange:Te=>z(Te.target.value),className:"w-full p-2 rounded-lg border dark:bg-slate-800 dark:border-slate-600"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tracking Number"}),C.jsx("input",{type:"text",placeholder:"Tracking #",value:G,onChange:Te=>q(Te.target.value),className:"w-full p-2 rounded-lg border dark:bg-slate-800 dark:border-slate-600"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total Bill ()"}),C.jsx("input",{type:"number",value:B,onChange:Te=>M(Number(Te.target.value)),className:"w-full p-3 rounded-xl border bg-blue-50 dark:bg-blue-900/20 font-bold text-lg"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1 text-red-500",children:"Discount ()"}),C.jsx("input",{type:"number",value:Y,onChange:Te=>W(Number(Te.target.value)),className:"w-full p-3 rounded-xl border border-red-200 bg-red-50 dark:bg-red-900/10 font-bold text-red-600"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Final Amount"}),C.jsxs("div",{className:"w-full p-3 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-extrabold text-lg",children:["",(Number(B)-Y).toLocaleString()]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Order Status"}),C.jsxs("select",{value:X,onChange:Te=>j(Te.target.value),className:"w-full p-3 rounded-xl border bg-gray-50 dark:bg-slate-800 dark:border-slate-600",children:[C.jsx("option",{value:"New",children:"New Order"}),C.jsx("option",{value:"Pending",children:"Payment Pending"}),C.jsx("option",{value:"Shipped",children:"Shipped"}),C.jsx("option",{value:"Delivered",children:"Delivered"}),C.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium mb-1",children:"Private Notes"}),C.jsx("textarea",{value:O,onChange:Te=>D(Te.target.value),rows:2,placeholder:"Internal notes about this order...",className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600 bg-yellow-50 dark:bg-yellow-900/10"})]}),C.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-6 text-center hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors relative",children:[C.jsx("input",{type:"file",id:"imgUpload",className:"hidden",accept:"image/*",onChange:Pe}),H?C.jsxs("div",{className:"relative group",children:[C.jsx("img",{src:H,alt:"Preview",className:"h-48 object-contain rounded-lg shadow-md mx-auto"}),C.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 rounded-lg",children:[C.jsx("label",{htmlFor:"imgUpload",className:"cursor-pointer bg-white text-black px-3 py-1 rounded-full text-sm font-bold hover:bg-gray-100",children:"Change"}),C.jsxs("a",{href:H,download:`receipt-${m}-${l}.png`,className:"bg-primary-blue text-white px-3 py-1 rounded-full text-sm font-bold hover:bg-blue-600 flex items-center gap-1",children:[C.jsx(EL,{size:14})," Download"]})]})]}):C.jsxs("label",{htmlFor:"imgUpload",className:"cursor-pointer flex flex-col items-center gap-2",children:[C.jsx(RL,{className:"text-gray-400",size:32}),C.jsx("span",{className:"text-gray-500 text-sm",children:"Upload Payment Receipt / Document"})]})]})]}),C.jsxs("div",{className:"p-4 border-t flex justify-end gap-3 bg-gray-50 dark:bg-slate-900 flex-shrink-0",children:[C.jsx(uo,{variant:"secondary",onClick:t,children:"Cancel"}),C.jsxs(uo,{onClick:xe,className:"w-full sm:w-auto",children:[C.jsx(AL,{className:"mr-2",size:18})," Save Sale"]})]})]})},fye=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(void 0),[i,o]=E.useState(""),{data:l}=Up(),{data:u,loading:f}=Bp(),d=u.filter(x=>x.custName.toLowerCase().includes(i.toLowerCase())||x.status.toLowerCase().includes(i.toLowerCase())).sort((x,T)=>new Date(T.date).getTime()-new Date(x.date).getTime()),m=x=>l.find(T=>T.id===x)?.name||"Unknown Batch",p=async x=>{x&&confirm("Delete this sale record?")&&await sp.delete(x)},b=x=>{r(x),e(!0)};return f?C.jsx("div",{className:"p-8 text-center",children:"Loading sales..."}):C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sales & Orders"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage customer orders and payments."})]}),C.jsxs(uo,{onClick:()=>{r(void 0),e(!0)},className:"gap-2",children:[C.jsx(M0,{size:18})," Record New Sale"]})]}),t&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm fade-in",children:C.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-card-dark rounded-2xl",children:C.jsx(cye,{onClose:()=>e(!1),initialData:n})})}),C.jsxs(Ti,{children:[C.jsxs(nf,{className:"flex flex-row items-center justify-between pb-4",children:[C.jsxs(rf,{children:[C.jsx(fv,{className:"text-primary-blue"})," Recent Sales"]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx(IL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),C.jsx("input",{type:"text",placeholder:"Search sales...",value:i,onChange:x=>o(x.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-sm focus:ring-2 focus:ring-primary-blue outline-none transition-all"})]})]}),C.jsx(Ai,{className:"p-0 overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left text-sm",children:[C.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50 text-gray-500 dark:text-gray-400 font-medium",children:C.jsxs("tr",{children:[C.jsx("th",{className:"p-4",children:"Date"}),C.jsx("th",{className:"p-4",children:"Customer"}),C.jsx("th",{className:"p-4",children:"Batch"}),C.jsx("th",{className:"p-4",children:"Qty"}),C.jsx("th",{className:"p-4",children:"Amount"}),C.jsx("th",{className:"p-4",children:"Profit"}),C.jsx("th",{className:"p-4",children:"Status"}),C.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),C.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[d.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:"No sales found."})}),d.map(x=>{const T=x.profit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400";return C.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[C.jsx("td",{className:"p-4 text-gray-500",children:eO(new Date(x.date),"MMM dd, yyyy")}),C.jsxs("td",{className:"p-4 font-medium",children:[x.custName,C.jsxs("div",{className:"flex gap-2 mt-1",children:[x.paymentScreenshot&&C.jsx("a",{href:x.paymentScreenshot,download:`receipt-${x.custName}.png`,className:"text-blue-500 hover:text-blue-700",title:"Download Receipt",children:C.jsx(K8,{size:14})}),x.notes&&C.jsx("span",{className:"text-yellow-500",title:x.notes,children:C.jsx(SL,{size:14})}),x.custAddress&&C.jsx("span",{className:"text-gray-400",title:x.custAddress,children:C.jsx(TL,{size:14})})]})]}),C.jsx("td",{className:"p-4 text-xs font-mono bg-gray-100 dark:bg-slate-800 rounded px-2 py-1 fit-content w-max",children:m(x.batchId)}),C.jsx("td",{className:"p-4",children:x.qty}),C.jsxs("td",{className:"p-4 font-bold",children:["",x.price.toLocaleString()]}),C.jsxs("td",{className:`p-4 font-bold ${T}`,children:["",x.profit.toLocaleString()]}),C.jsx("td",{className:"p-4",children:C.jsx("span",{className:`status-badge s-${x.status.toLowerCase()}`,children:x.status})}),C.jsxs("td",{className:"p-4 text-right space-x-2",children:[C.jsx("button",{onClick:()=>b(x),className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-600 rounded-lg transition-colors",children:C.jsx(X8,{size:16})}),C.jsx("button",{onClick:()=>p(x.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 rounded-lg transition-colors",children:C.jsx(j0,{size:16})})]})]},x.id)})]})]})})]})]})};var uv={exports:{}},dye=uv.exports,eL;function hye(){return eL||(eL=1,(function(t,e){(function(n,r){t.exports=r()})(dye,function(){var n=function(y,_){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(S[N]=P[N])})(y,_)},r=function(){return(r=Object.assign||function(y){for(var _,S=1,P=arguments.length;S<P;S++)for(var N in _=arguments[S])Object.prototype.hasOwnProperty.call(_,N)&&(y[N]=_[N]);return y}).apply(this,arguments)};function i(y,_,S){for(var P,N=0,V=_.length;N<V;N++)!P&&N in _||((P=P||Array.prototype.slice.call(_,0,N))[N]=_[N]);return y.concat(P||Array.prototype.slice.call(_))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:jq,l=Object.keys,u=Array.isArray;function f(y,_){return typeof _!="object"||l(_).forEach(function(S){y[S]=_[S]}),y}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function p(y,_){return m.call(y,_)}function b(y,_){typeof _=="function"&&(_=_(d(y))),(typeof Reflect>"u"?l:Reflect.ownKeys)(_).forEach(function(S){T(y,S,_[S])})}var x=Object.defineProperty;function T(y,_,S,P){x(y,_,f(S&&p(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},P))}function A(y){return{from:function(_){return y.prototype=Object.create(_.prototype),T(y.prototype,"constructor",y),{extend:b.bind(null,y.prototype)}}}}var O=Object.getOwnPropertyDescriptor,D=[].slice;function B(y,_,S){return D.call(y,_,S)}function M(y,_){return _(y)}function Y(y){if(!y)throw new Error("Assertion Failed")}function W(y){o.setImmediate?setImmediate(y):setTimeout(y,0)}function X(y,_){if(typeof _=="string"&&p(y,_))return y[_];if(!_)return y;if(typeof _!="string"){for(var S=[],P=0,N=_.length;P<N;++P){var V=X(y,_[P]);S.push(V)}return S}var K=_.indexOf(".");if(K!==-1){var Q=y[_.substr(0,K)];return Q==null?void 0:X(Q,_.substr(K+1))}}function j(y,_,S){if(y&&_!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof _!="string"&&"length"in _){Y(typeof S!="string"&&"length"in S);for(var P=0,N=_.length;P<N;++P)j(y,_[P],S[P])}else{var V,K,Q=_.indexOf(".");Q!==-1?(V=_.substr(0,Q),(K=_.substr(Q+1))===""?S===void 0?u(y)&&!isNaN(parseInt(V))?y.splice(V,1):delete y[V]:y[V]=S:j(Q=!(Q=y[V])||!p(y,V)?y[V]={}:Q,K,S)):S===void 0?u(y)&&!isNaN(parseInt(_))?y.splice(_,1):delete y[_]:y[_]=S}}function L(y){var _,S={};for(_ in y)p(y,_)&&(S[_]=y[_]);return S}var z=[].concat;function G(y){return z.apply([],y)}var sa="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(G([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(_){return _+y+"Array"})}))).filter(function(y){return o[y]}),q=new Set(sa.map(function(y){return o[y]})),H=null;function $(y){return H=new WeakMap,y=(function _(S){if(!S||typeof S!="object")return S;var P=H.get(S);if(P)return P;if(u(S)){P=[],H.set(S,P);for(var N=0,V=S.length;N<V;++N)P.push(_(S[N]))}else if(q.has(S.constructor))P=S;else{var K,Q=d(S);for(K in P=Q===Object.prototype?{}:Object.create(Q),H.set(S,P),S)p(S,K)&&(P[K]=_(S[K]))}return P})(y),H=null,y}var qe={}.toString;function Xe(y){return qe.call(y).slice(8,-1)}var de=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof de=="symbol"?function(y){var _;return y!=null&&(_=y[de])&&_.apply(y)}:function(){return null};function xe(y,_){return _=y.indexOf(_),0<=_&&y.splice(_,1),0<=_}var Te={};function tt(y){var _,S,P,N;if(arguments.length===1){if(u(y))return y.slice();if(this===Te&&typeof y=="string")return[y];if(N=Pe(y)){for(S=[];!(P=N.next()).done;)S.push(P.value);return S}if(y==null)return[y];if(typeof(_=y.length)!="number")return[y];for(S=new Array(_);_--;)S[_]=y[_];return S}for(_=arguments.length,S=new Array(_);_--;)S[_]=arguments[_];return S}var ee=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},oa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ei=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(oa),Se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function De(y,_){this.name=y,this.message=_}function je(y,_){return y+". Errors: "+Object.keys(_).map(function(S){return _[S].toString()}).filter(function(S,P,N){return N.indexOf(S)===P}).join(`
`)}function nt(y,_,S,P){this.failures=_,this.failedKeys=P,this.successCount=S,this.message=je(y,_)}function ut(y,_){this.name="BulkError",this.failures=Object.keys(_).map(function(S){return _[S]}),this.failuresByPos=_,this.message=je(y,this.failures)}A(De).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(nt).from(De),A(ut).from(De);var Ye=Ei.reduce(function(y,_){return y[_]=_+"Error",y},{}),un=De,ue=Ei.reduce(function(y,_){var S=_+"Error";function P(N,V){this.name=S,N?typeof N=="string"?(this.message="".concat(N).concat(V?`
 `+V:""),this.inner=V||null):typeof N=="object"&&(this.message="".concat(N.name," ").concat(N.message),this.inner=N):(this.message=Se[_]||S,this.inner=null)}return A(P).from(un),y[_]=P,y},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var mt=oa.reduce(function(y,_){return y[_+"Error"]=ue[_],y},{}),yt=Ei.reduce(function(y,_){return["Syntax","Type","Range"].indexOf(_)===-1&&(y[_+"Error"]=ue[_]),y},{});function Ae(){}function pn(y){return y}function It(y,_){return y==null||y===pn?_:function(S){return _(y(S))}}function gn(y,_){return function(){y.apply(this,arguments),_.apply(this,arguments)}}function jn(y,_){return y===Ae?_:function(){var S=y.apply(this,arguments);S!==void 0&&(arguments[0]=S);var P=this.onsuccess,N=this.onerror;this.onsuccess=null,this.onerror=null;var V=_.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?gn(P,this.onsuccess):P),N&&(this.onerror=this.onerror?gn(N,this.onerror):N),V!==void 0?V:S}}function vi(y,_){return y===Ae?_:function(){y.apply(this,arguments);var S=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,_.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?gn(S,this.onsuccess):S),P&&(this.onerror=this.onerror?gn(P,this.onerror):P)}}function Uo(y,_){return y===Ae?_:function(S){var P=y.apply(this,arguments);f(S,P);var N=this.onsuccess,V=this.onerror;return this.onsuccess=null,this.onerror=null,S=_.apply(this,arguments),N&&(this.onsuccess=this.onsuccess?gn(N,this.onsuccess):N),V&&(this.onerror=this.onerror?gn(V,this.onerror):V),P===void 0?S===void 0?void 0:S:f(P,S)}}function Hn(y,_){return y===Ae?_:function(){return _.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Ln(y,_){return y===Ae?_:function(){var S=y.apply(this,arguments);if(S&&typeof S.then=="function"){for(var P=this,N=arguments.length,V=new Array(N);N--;)V[N]=arguments[N];return S.then(function(){return _.apply(P,V)})}return _.apply(this,arguments)}}yt.ModifyError=nt,yt.DexieError=De,yt.BulkError=ut;var xr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function gf(y){xr=y}var Bo={},Dr=100,sa=typeof Promise>"u"?[]:(function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,d(y),y];var _=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[_,d(_),y]})(),oa=sa[0],Ei=sa[1],sa=sa[2],Ei=Ei&&Ei.then,la=oa&&oa.constructor,Va=!!sa,_s=function(y,_){qo.push([y,_]),ws&&(queueMicrotask(yf),ws=!1)},Il=!0,ws=!0,za=[],ri=[],Zn=pn,Jn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ae,pgp:!1,env:{},finalize:Ae},Ge=Jn,qo=[],ki=0,xs=[];function Fe(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var _=this._PSD=Ge;if(typeof y!="function"){if(y!==Bo)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ni(this,this._value))}this._state=null,this._value=null,++_.ref,(function S(P,N){try{N(function(V){if(P._state===null){if(V===P)throw new TypeError("A promise cannot be resolved with itself.");var K=P._lib&&Wr();V&&typeof V.then=="function"?S(P,function(Q,te){V instanceof Fe?V._then(Q,te):V.then(Q,te)}):(P._state=!0,P._value=V,ua(P)),K&&Di()}},Ni.bind(null,P))}catch(V){Ni(P,V)}})(this,y)}var yo={get:function(){var y=Ge,_=ii;function S(P,N){var V=this,K=!y.global&&(y!==Ge||_!==ii),Q=K&&!Er(),te=new Fe(function(ne,se){bi(V,new Vn(Ts(P,y,K,Q),Ts(N,y,K,Q),ne,se,y))});return this._consoleTask&&(te._consoleTask=this._consoleTask),te}return S.prototype=Bo,S},set:function(y){T(this,"then",y&&y.prototype===Bo?yo:{get:function(){return y},set:yo.set})}};function Vn(y,_,S,P,N){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof _=="function"?_:null,this.resolve=S,this.reject=P,this.psd=N}function Ni(y,_){var S,P;ri.push(_),y._state===null&&(S=y._lib&&Wr(),_=Zn(_),y._state=!1,y._value=_,P=y,za.some(function(N){return N._value===P._value})||za.push(P),ua(y),S&&Di())}function ua(y){var _=y._listeners;y._listeners=[];for(var S=0,P=_.length;S<P;++S)bi(y,_[S]);var N=y._PSD;--N.ref||N.finalize(),ki===0&&(++ki,_s(function(){--ki==0&&Zu()},[]))}function bi(y,_){if(y._state!==null){var S=y._state?_.onFulfilled:_.onRejected;if(S===null)return(y._state?_.resolve:_.reject)(y._value);++_.psd.ref,++ki,_s(_h,[S,y,_])}else y._listeners.push(_)}function _h(y,_,S){try{var P,N=_._value;!_._state&&ri.length&&(ri=[]),P=xr&&_._consoleTask?_._consoleTask.run(function(){return y(N)}):y(N),_._state||ri.indexOf(N)!==-1||(function(V){for(var K=za.length;K;)if(za[--K]._value===V._value)return za.splice(K,1)})(_),S.resolve(P)}catch(V){S.reject(V)}finally{--ki==0&&Zu(),--S.psd.ref||S.psd.finalize()}}function yf(){Mr(Jn,function(){Wr()&&Di()})}function Wr(){var y=Il;return ws=Il=!1,y}function Di(){var y,_,S;do for(;0<qo.length;)for(y=qo,qo=[],S=y.length,_=0;_<S;++_){var P=y[_];P[0].apply(null,P[1])}while(0<qo.length);ws=Il=!0}function Zu(){var y=za;za=[],y.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var _=xs.slice(0),S=_.length;S;)_[--S]()}function Ua(y){return new Fe(Bo,!1,y)}function Xt(y,_){var S=Ge;return function(){var P=Wr(),N=Ge;try{return fa(S,!0),y.apply(this,arguments)}catch(V){_&&_(V)}finally{fa(N,!1),P&&Di()}}}b(Fe.prototype,{then:yo,_then:function(y,_){bi(this,new Vn(null,null,y,_,Ge))},catch:function(y){if(arguments.length===1)return this.then(null,y);var _=y,S=arguments[1];return typeof _=="function"?this.then(null,function(P){return(P instanceof _?S:Ua)(P)}):this.then(null,function(P){return(P&&P.name===_?S:Ua)(P)})},finally:function(y){return this.then(function(_){return Fe.resolve(y()).then(function(){return _})},function(_){return Fe.resolve(y()).then(function(){return Ua(_)})})},timeout:function(y,_){var S=this;return y<1/0?new Fe(function(P,N){var V=setTimeout(function(){return N(new ue.Timeout(_))},y);S.then(P,N).finally(clearTimeout.bind(null,V))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(Fe.prototype,Symbol.toStringTag,"Dexie.Promise"),Jn.env=Ju(),b(Fe,{all:function(){var y=tt.apply(null,arguments).map(vo);return new Fe(function(_,S){y.length===0&&_([]);var P=y.length;y.forEach(function(N,V){return Fe.resolve(N).then(function(K){y[V]=K,--P||_(y)},S)})})},resolve:function(y){return y instanceof Fe?y:y&&typeof y.then=="function"?new Fe(function(_,S){y.then(_,S)}):new Fe(Bo,!0,y)},reject:Ua,race:function(){var y=tt.apply(null,arguments).map(vo);return new Fe(function(_,S){y.map(function(P){return Fe.resolve(P).then(_,S)})})},PSD:{get:function(){return Ge},set:function(y){return Ge=y}},totalEchoes:{get:function(){return ii}},newPSD:Zt,usePSD:Mr,scheduler:{get:function(){return _s},set:function(y){_s=y}},rejectionMapper:{get:function(){return Zn},set:function(y){Zn=y}},follow:function(y,_){return new Fe(function(S,P){return Zt(function(N,V){var K=Ge;K.unhandleds=[],K.onunhandled=V,K.finalize=gn(function(){var Q,te=this;Q=function(){te.unhandleds.length===0?N():V(te.unhandleds[0])},xs.push(function ne(){Q(),xs.splice(xs.indexOf(ne),1)}),++ki,_s(function(){--ki==0&&Zu()},[])},K.finalize),y()},_,S,P)})}}),la&&(la.allSettled&&T(Fe,"allSettled",function(){var y=tt.apply(null,arguments).map(vo);return new Fe(function(_){y.length===0&&_([]);var S=y.length,P=new Array(S);y.forEach(function(N,V){return Fe.resolve(N).then(function(K){return P[V]={status:"fulfilled",value:K}},function(K){return P[V]={status:"rejected",reason:K}}).then(function(){return--S||_(P)})})})}),la.any&&typeof AggregateError<"u"&&T(Fe,"any",function(){var y=tt.apply(null,arguments).map(vo);return new Fe(function(_,S){y.length===0&&S(new AggregateError([]));var P=y.length,N=new Array(P);y.forEach(function(V,K){return Fe.resolve(V).then(function(Q){return _(Q)},function(Q){N[K]=Q,--P||S(new AggregateError(N))})})})}),la.withResolvers&&(Fe.withResolvers=la.withResolvers));var In={awaits:0,echoes:0,id:0},Es=0,Mi=[],Ss=0,ii=0,ca=0;function Zt(y,_,S,P){var N=Ge,V=Object.create(N);return V.parent=N,V.ref=0,V.global=!1,V.id=++ca,Jn.env,V.env=Va?{Promise:Fe,PromiseProp:{value:Fe,configurable:!0,writable:!0},all:Fe.all,race:Fe.race,allSettled:Fe.allSettled,any:Fe.any,resolve:Fe.resolve,reject:Fe.reject}:{},_&&f(V,_),++N.ref,V.finalize=function(){--this.parent.ref||this.parent.finalize()},P=Mr(V,y,S,P),V.ref===0&&V.finalize(),P}function xn(){return In.id||(In.id=++Es),++In.awaits,In.echoes+=Dr,In.id}function Er(){return!!In.awaits&&(--In.awaits==0&&(In.id=0),In.echoes=In.awaits*Dr,!0)}function vo(y){return In.echoes&&y&&y.constructor===la?(xn(),y.then(function(_){return Er(),_},function(_){return Er(),Bt(_)})):y}function wh(){var y=Mi[Mi.length-1];Mi.pop(),fa(y,!1)}function fa(y,_){var S,P=Ge;(_?!In.echoes||Ss++&&y===Ge:!Ss||--Ss&&y===Ge)||queueMicrotask(_?(function(N){++ii,In.echoes&&--In.echoes!=0||(In.echoes=In.awaits=In.id=0),Mi.push(Ge),fa(N,!0)}).bind(null,y):wh),y!==Ge&&(Ge=y,P===Jn&&(Jn.env=Ju()),Va&&(S=Jn.env.Promise,_=y.env,(P.global||y.global)&&(Object.defineProperty(o,"Promise",_.PromiseProp),S.all=_.all,S.race=_.race,S.resolve=_.resolve,S.reject=_.reject,_.allSettled&&(S.allSettled=_.allSettled),_.any&&(S.any=_.any))))}function Ju(){var y=o.Promise;return Va?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function Mr(y,_,S,P,N){var V=Ge;try{return fa(y,!0),_(S,P,N)}finally{fa(V,!1)}}function Ts(y,_,S,P){return typeof y!="function"?y:function(){var N=Ge;S&&xn(),fa(_,!0);try{return y.apply(this,arguments)}finally{fa(N,!1),P&&queueMicrotask(Er)}}}function ji(y){Promise===la&&In.echoes===0?Ss===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+Ei).indexOf("[native code]")===-1&&(xn=Er=Ae);var Bt=Fe.reject,er="",lr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",zn="String expected.",Ba=[],Fo="__dbnames",Li="readonly",Vi="readwrite";function da(y,_){return y?_?function(){return y.apply(this,arguments)&&_.apply(this,arguments)}:y:_}var Ol={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $o(y){return typeof y!="string"||/\./.test(y)?function(_){return _}:function(_){return _[y]===void 0&&y in _&&delete(_=$(_))[y],_}}function ec(){throw ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(y,_){try{var S=ai(y),P=ai(_);if(S!==P)return S==="Array"?1:P==="Array"?-1:S==="binary"?1:P==="binary"?-1:S==="string"?1:P==="string"?-1:S==="Date"?1:P!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return _<y?1:y<_?-1:0;case"binary":return(function(N,V){for(var K=N.length,Q=V.length,te=K<Q?K:Q,ne=0;ne<te;++ne)if(N[ne]!==V[ne])return N[ne]<V[ne]?-1:1;return K===Q?0:K<Q?-1:1})(Un(y),Un(_));case"Array":return(function(N,V){for(var K=N.length,Q=V.length,te=K<Q?K:Q,ne=0;ne<te;++ne){var se=Et(N[ne],V[ne]);if(se!==0)return se}return K===Q?0:K<Q?-1:1})(y,_)}}catch{}return NaN}function ai(y){var _=typeof y;return _!="object"?_:ArrayBuffer.isView(y)?"binary":(y=Xe(y),y==="ArrayBuffer"?"binary":y)}function Un(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}function Bn(y,_,S){var P=y.schema.yProps;return P?(_&&0<S.numFailures&&(_=_.filter(function(N,V){return!S.failures[V]})),Promise.all(P.map(function(N){return N=N.updatesTable,_?y.db.table(N).where("k").anyOf(_).delete():y.db.table(N).clear()})).then(function(){return S})):S}var zi=(Pl.prototype.execute=function(y){var _=this["@@propmod"];if(_.add!==void 0){var S=_.add;if(u(S))return i(i([],u(y)?y:[],!0),S).sort();if(typeof S=="number")return(Number(y)||0)+S;if(typeof S=="bigint")try{return BigInt(y)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(_.remove!==void 0){var P=_.remove;if(u(P))return u(y)?y.filter(function(N){return!P.includes(N)}).sort():[];if(typeof P=="number")return Number(y)-P;if(typeof P=="bigint")try{return BigInt(y)-P}catch{return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return S=(S=_.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof y=="string"&&y.startsWith(S)?_.replacePrefix[1]+y.substring(S.length):y},Pl);function Pl(y){this["@@propmod"]=y}function Ft(y,_){for(var S=l(_),P=S.length,N=!1,V=0;V<P;++V){var K=S[V],Q=_[K],te=X(y,K);Q instanceof zi?(j(y,K,Q.execute(te)),N=!0):te!==Q&&(j(y,K,Q),N=!0)}return N}var Ko=(kt.prototype._trans=function(y,_,S){var P=this._tx||Ge.trans,N=this.name,V=xr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function K(ne,se,J){if(!J.schema[N])throw new ue.NotFound("Table "+N+" not part of transaction");return _(J.idbtrans,J)}var Q=Wr();try{var te=P&&P.db._novip===this.db._novip?P===Ge.trans?P._promise(y,K,S):Zt(function(){return P._promise(y,K,S)},{trans:P,transless:Ge.transless||Ge}):(function ne(se,J,ce,re){if(se.idbdb&&(se._state.openComplete||Ge.letThrough||se._vip)){var ae=se._createTransaction(J,ce,se._dbSchema);try{ae.create(),se._state.PR1398_maxLoop=3}catch(oe){return oe.name===Ye.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,J,ce,re)})):Bt(oe)}return ae._promise(J,function(oe,le){return Zt(function(){return Ge.trans=ae,re(oe,le,ae)})}).then(function(oe){if(J==="readwrite")try{ae.idbtrans.commit()}catch{}return J==="readonly"?oe:ae._completion.then(function(){return oe})})}if(se._state.openComplete)return Bt(new ue.DatabaseClosed(se._state.dbOpenError));if(!se._state.isBeingOpened){if(!se._state.autoOpen)return Bt(new ue.DatabaseClosed);se.open().catch(Ae)}return se._state.dbReadyPromise.then(function(){return ne(se,J,ce,re)})})(this.db,y,[this.name],K);return V&&(te._consoleTask=V,te=te.catch(function(ne){return console.trace(ne),Bt(ne)})),te}finally{Q&&Di()}},kt.prototype.get=function(y,_){var S=this;return y&&y.constructor===Object?this.where(y).first(_):y==null?Bt(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return S.core.get({trans:P,key:y}).then(function(N){return S.hook.reading.fire(N)})}).then(_)},kt.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(u(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var _=l(y);if(_.length===1)return this.where(_[0]).equals(y[_[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(Q){if(Q.compound&&_.every(function(ne){return 0<=Q.keyPath.indexOf(ne)})){for(var te=0;te<_.length;++te)if(_.indexOf(Q.keyPath[te])===-1)return!1;return!0}return!1}).sort(function(Q,te){return Q.keyPath.length-te.keyPath.length})[0];if(S&&this.db._maxKey!==er){var V=S.keyPath.slice(0,_.length);return this.where(V).equals(V.map(function(te){return y[te]}))}!S&&xr&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(_.join("+"),"]"));var P=this.schema.idxByName;function N(Q,te){return Et(Q,te)===0}var K=_.reduce(function(J,te){var ne=J[0],se=J[1],J=P[te],ce=y[te];return[ne||J,ne||!J?da(se,J&&J.multi?function(re){return re=X(re,te),u(re)&&re.some(function(ae){return N(ce,ae)})}:function(re){return N(ce,X(re,te))}):se]},[null,null]),V=K[0],K=K[1];return V?this.where(V.name).equals(y[V.keyPath]).filter(K):S?this.filter(K):this.where(_).equals("")},kt.prototype.filter=function(y){return this.toCollection().and(y)},kt.prototype.count=function(y){return this.toCollection().count(y)},kt.prototype.offset=function(y){return this.toCollection().offset(y)},kt.prototype.limit=function(y){return this.toCollection().limit(y)},kt.prototype.each=function(y){return this.toCollection().each(y)},kt.prototype.toArray=function(y){return this.toCollection().toArray(y)},kt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},kt.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,u(y)?"[".concat(y.join("+"),"]"):y))},kt.prototype.reverse=function(){return this.toCollection().reverse()},kt.prototype.mapToClass=function(y){var _,S=this.db,P=this.name;function N(){return _!==null&&_.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof ec&&((function(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function se(){this.constructor=te}n(te,ne),te.prototype=ne===null?Object.create(ne):(se.prototype=ne.prototype,new se)})(N,_=y),Object.defineProperty(N.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),N.prototype.table=function(){return P},y=N);for(var V=new Set,K=y.prototype;K;K=d(K))Object.getOwnPropertyNames(K).forEach(function(te){return V.add(te)});function Q(te){if(!te)return te;var ne,se=Object.create(y.prototype);for(ne in te)if(!V.has(ne))try{se[ne]=te[ne]}catch{}return se}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Q,this.hook("reading",Q),y},kt.prototype.defineClass=function(){return this.mapToClass(function(y){f(this,y)})},kt.prototype.add=function(y,_){var S=this,P=this.schema.primKey,N=P.auto,V=P.keyPath,K=y;return V&&N&&(K=$o(V)(y)),this._trans("readwrite",function(Q){return S.core.mutate({trans:Q,type:"add",keys:_!=null?[_]:null,values:[K]})}).then(function(Q){return Q.numFailures?Fe.reject(Q.failures[0]):Q.lastResult}).then(function(Q){if(V)try{j(y,V,Q)}catch{}return Q})},kt.prototype.upsert=function(y,_){var S=this,P=this.schema.primKey.keyPath;return this._trans("readwrite",function(N){return S.core.get({trans:N,key:y}).then(function(V){var K=V??{};return Ft(K,_),P&&j(K,P,y),S.core.mutate({trans:N,type:"put",values:[K],keys:[y],upsert:!0,updates:{keys:[y],changeSpecs:[_]}}).then(function(Q){return Q.numFailures?Fe.reject(Q.failures[0]):!!V})})})},kt.prototype.update=function(y,_){return typeof y!="object"||u(y)?this.where(":id").equals(y).modify(_):(y=X(y,this.schema.primKey.keyPath),y===void 0?Bt(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(_))},kt.prototype.put=function(y,_){var S=this,P=this.schema.primKey,N=P.auto,V=P.keyPath,K=y;return V&&N&&(K=$o(V)(y)),this._trans("readwrite",function(Q){return S.core.mutate({trans:Q,type:"put",values:[K],keys:_!=null?[_]:null})}).then(function(Q){return Q.numFailures?Fe.reject(Q.failures[0]):Q.lastResult}).then(function(Q){if(V)try{j(y,V,Q)}catch{}return Q})},kt.prototype.delete=function(y){var _=this;return this._trans("readwrite",function(S){return _.core.mutate({trans:S,type:"delete",keys:[y]}).then(function(P){return Bn(_,[y],P)}).then(function(P){return P.numFailures?Fe.reject(P.failures[0]):void 0})})},kt.prototype.clear=function(){var y=this;return this._trans("readwrite",function(_){return y.core.mutate({trans:_,type:"deleteRange",range:Ol}).then(function(S){return Bn(y,null,S)})}).then(function(_){return _.numFailures?Fe.reject(_.failures[0]):void 0})},kt.prototype.bulkGet=function(y){var _=this;return this._trans("readonly",function(S){return _.core.getMany({keys:y,trans:S}).then(function(P){return P.map(function(N){return _.hook.reading.fire(N)})})})},kt.prototype.bulkAdd=function(y,_,S){var P=this,N=Array.isArray(_)?_:void 0,V=(S=S||(N?void 0:_))?S.allKeys:void 0;return this._trans("readwrite",function(K){var ne=P.schema.primKey,Q=ne.auto,ne=ne.keyPath;if(ne&&N)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(N&&N.length!==y.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var te=y.length,ne=ne&&Q?y.map($o(ne)):y;return P.core.mutate({trans:K,type:"add",keys:N,values:ne,wantResults:V}).then(function(ae){var J=ae.numFailures,ce=ae.results,re=ae.lastResult,ae=ae.failures;if(J===0)return V?ce:re;throw new ut("".concat(P.name,".bulkAdd(): ").concat(J," of ").concat(te," operations failed"),ae)})})},kt.prototype.bulkPut=function(y,_,S){var P=this,N=Array.isArray(_)?_:void 0,V=(S=S||(N?void 0:_))?S.allKeys:void 0;return this._trans("readwrite",function(K){var ne=P.schema.primKey,Q=ne.auto,ne=ne.keyPath;if(ne&&N)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(N&&N.length!==y.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var te=y.length,ne=ne&&Q?y.map($o(ne)):y;return P.core.mutate({trans:K,type:"put",keys:N,values:ne,wantResults:V}).then(function(ae){var J=ae.numFailures,ce=ae.results,re=ae.lastResult,ae=ae.failures;if(J===0)return V?ce:re;throw new ut("".concat(P.name,".bulkPut(): ").concat(J," of ").concat(te," operations failed"),ae)})})},kt.prototype.bulkUpdate=function(y){var _=this,S=this.core,P=y.map(function(K){return K.key}),N=y.map(function(K){return K.changes}),V=[];return this._trans("readwrite",function(K){return S.getMany({trans:K,keys:P,cache:"clone"}).then(function(Q){var te=[],ne=[];y.forEach(function(J,ce){var re=J.key,ae=J.changes,oe=Q[ce];if(oe){for(var le=0,pe=Object.keys(ae);le<pe.length;le++){var ve=pe[le],Ie=ae[ve];if(ve===_.schema.primKey.keyPath){if(Et(Ie,re)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else j(oe,ve,Ie)}V.push(ce),te.push(re),ne.push(oe)}});var se=te.length;return S.mutate({trans:K,type:"put",keys:te,values:ne,updates:{keys:P,changeSpecs:N}}).then(function(J){var ce=J.numFailures,re=J.failures;if(ce===0)return se;for(var ae=0,oe=Object.keys(re);ae<oe.length;ae++){var le,pe=oe[ae],ve=V[Number(pe)];ve!=null&&(le=re[pe],delete re[pe],re[ve]=le)}throw new ut("".concat(_.name,".bulkUpdate(): ").concat(ce," of ").concat(se," operations failed"),re)})})})},kt.prototype.bulkDelete=function(y){var _=this,S=y.length;return this._trans("readwrite",function(P){return _.core.mutate({trans:P,type:"delete",keys:y}).then(function(N){return Bn(_,y,N)})}).then(function(K){var N=K.numFailures,V=K.lastResult,K=K.failures;if(N===0)return V;throw new ut("".concat(_.name,".bulkDelete(): ").concat(N," of ").concat(S," operations failed"),K)})},kt);function kt(){}function ha(y){function _(K,Q){if(Q){for(var te=arguments.length,ne=new Array(te-1);--te;)ne[te-1]=arguments[te];return S[K].subscribe.apply(null,ne),y}if(typeof K=="string")return S[K]}var S={};_.addEventType=V;for(var P=1,N=arguments.length;P<N;++P)V(arguments[P]);return _;function V(K,Q,te){if(typeof K!="object"){var ne;Q=Q||Hn;var se={subscribers:[],fire:te=te||Ae,subscribe:function(J){se.subscribers.indexOf(J)===-1&&(se.subscribers.push(J),se.fire=Q(se.fire,J))},unsubscribe:function(J){se.subscribers=se.subscribers.filter(function(ce){return ce!==J}),se.fire=se.subscribers.reduce(Q,te)}};return S[K]=_[K]=se}l(ne=K).forEach(function(J){var ce=ne[J];if(u(ce))V(J,ne[J][0],ne[J][1]);else{if(ce!=="asap")throw new ue.InvalidArgument("Invalid event config");var re=V(J,pn,function(){for(var ae=arguments.length,oe=new Array(ae);ae--;)oe[ae]=arguments[ae];re.subscribers.forEach(function(le){W(function(){le.apply(null,oe)})})})}})}}function ur(y,_){return A(_).from({prototype:y}),_}function ma(y,_){return!(y.filter||y.algorithm||y.or)&&(_?y.justLimit:!y.replayFilter)}function Cl(y,_){y.filter=da(y.filter,_)}function As(y,_,S){var P=y.replayFilter;y.replayFilter=P?function(){return da(P(),_())}:_,y.justLimit=S&&!P}function pa(y,_){if(y.isPrimKey)return _.primaryKey;var S=_.getIndexByKeyPath(y.index);if(!S)throw new ue.Schema("KeyPath "+y.index+" on object store "+_.name+" is not indexed");return S}function tc(y,_,S){var P=pa(y,_.schema);return _.openCursor({trans:S,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:P,range:y.range}})}function ga(y,_,S,P){var N=y.replayFilter?da(y.filter,y.replayFilter()):y.filter;if(y.or){var V={},K=function(Q,te,ne){var se,J;N&&!N(te,ne,function(ce){return te.stop(ce)},function(ce){return te.fail(ce)})||((J=""+(se=te.primaryKey))=="[object ArrayBuffer]"&&(J=""+new Uint8Array(se)),p(V,J)||(V[J]=!0,_(Q,te,ne)))};return Promise.all([y.or._iterate(K,S),Yr(tc(y,P,S),y.algorithm,K,!y.keysOnly&&y.valueMapper)])}return Yr(tc(y,P,S),da(y.algorithm,N),_,!y.keysOnly&&y.valueMapper)}function Yr(y,_,S,P){var N=Xt(P?function(V,K,Q){return S(P(V),K,Q)}:S);return y.then(function(V){if(V)return V.start(function(){var K=function(){return V.continue()};_&&!_(V,function(Q){return K=Q},function(Q){V.stop(Q),K=Ae},function(Q){V.fail(Q),K=Ae})||N(V.value,V,function(Q){return K=Q}),K()})})}var vf=(Rt.prototype._read=function(y,_){var S=this._ctx;return S.error?S.table._trans(null,Bt.bind(null,S.error)):S.table._trans("readonly",y).then(_)},Rt.prototype._write=function(y){var _=this._ctx;return _.error?_.table._trans(null,Bt.bind(null,_.error)):_.table._trans("readwrite",y,"locked")},Rt.prototype._addAlgorithm=function(y){var _=this._ctx;_.algorithm=da(_.algorithm,y)},Rt.prototype._iterate=function(y,_){return ga(this._ctx,y,_,this._ctx.table.core)},Rt.prototype.clone=function(y){var _=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return y&&f(S,y),_._ctx=S,_},Rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rt.prototype.each=function(y){var _=this._ctx;return this._read(function(S){return ga(_,y,S,_.table.core)})},Rt.prototype.count=function(y){var _=this;return this._read(function(S){var P=_._ctx,N=P.table.core;if(ma(P,!0))return N.count({trans:S,query:{index:pa(P,N.schema),range:P.range}}).then(function(K){return Math.min(K,P.limit)});var V=0;return ga(P,function(){return++V,!1},S,N).then(function(){return V})}).then(y)},Rt.prototype.sortBy=function(y,_){var S=y.split(".").reverse(),P=S[0],N=S.length-1;function V(te,ne){return ne?V(te[S[ne]],ne-1):te[P]}var K=this._ctx.dir==="next"?1:-1;function Q(te,ne){return Et(V(te,N),V(ne,N))*K}return this.toArray(function(te){return te.sort(Q)}).then(_)},Rt.prototype.toArray=function(y){var _=this;return this._read(function(S){var P=_._ctx;if(P.dir==="next"&&ma(P,!0)&&0<P.limit){var N=P.valueMapper,V=pa(P,P.table.core.schema);return P.table.core.query({trans:S,limit:P.limit,values:!0,query:{index:V,range:P.range}}).then(function(Q){return Q=Q.result,N?Q.map(N):Q})}var K=[];return ga(P,function(Q){return K.push(Q)},S,P.table.core).then(function(){return K})},y)},Rt.prototype.offset=function(y){var _=this._ctx;return y<=0||(_.offset+=y,ma(_)?As(_,function(){var S=y;return function(P,N){return S===0||(S===1?--S:N(function(){P.advance(S),S=0}),!1)}}):As(_,function(){var S=y;return function(){return--S<0}})),this},Rt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),As(this._ctx,function(){var _=y;return function(S,P,N){return--_<=0&&P(N),0<=_}},!0),this},Rt.prototype.until=function(y,_){return Cl(this._ctx,function(S,P,N){return!y(S.value)||(P(N),_)}),this},Rt.prototype.first=function(y){return this.limit(1).toArray(function(_){return _[0]}).then(y)},Rt.prototype.last=function(y){return this.reverse().first(y)},Rt.prototype.filter=function(y){var _;return Cl(this._ctx,function(S){return y(S.value)}),(_=this._ctx).isMatch=da(_.isMatch,y),this},Rt.prototype.and=function(y){return this.filter(y)},Rt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},Rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rt.prototype.desc=function(){return this.reverse()},Rt.prototype.eachKey=function(y){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(S,P){y(P.key,P)})},Rt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},Rt.prototype.eachPrimaryKey=function(y){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(S,P){y(P.primaryKey,P)})},Rt.prototype.keys=function(y){var _=this._ctx;_.keysOnly=!_.isMatch;var S=[];return this.each(function(P,N){S.push(N.key)}).then(function(){return S}).then(y)},Rt.prototype.primaryKeys=function(y){var _=this._ctx;if(_.dir==="next"&&ma(_,!0)&&0<_.limit)return this._read(function(P){var N=pa(_,_.table.core.schema);return _.table.core.query({trans:P,values:!1,limit:_.limit,query:{index:N,range:_.range}})}).then(function(P){return P.result}).then(y);_.keysOnly=!_.isMatch;var S=[];return this.each(function(P,N){S.push(N.primaryKey)}).then(function(){return S}).then(y)},Rt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},Rt.prototype.firstKey=function(y){return this.limit(1).keys(function(_){return _[0]}).then(y)},Rt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},Rt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var _={};return Cl(this._ctx,function(N){var P=N.primaryKey.toString(),N=p(_,P);return _[P]=!0,!N}),this},Rt.prototype.modify=function(y){var _=this,S=this._ctx;return this._write(function(P){var N=typeof y=="function"?y:function(oe){return Ft(oe,y)},V=S.table.core,ne=V.schema.primaryKey,K=ne.outbound,Q=ne.extractKey,te=200,ne=_.db._options.modifyChunkSize;ne&&(te=typeof ne=="object"?ne[V.name]||ne["*"]||200:ne);function se(oe,ve){var pe=ve.failures,ve=ve.numFailures;ce+=oe-ve;for(var Ie=0,ke=l(pe);Ie<ke.length;Ie++){var ze=ke[Ie];J.push(pe[ze])}}var J=[],ce=0,re=[],ae=y===Rl;return _.clone().primaryKeys().then(function(oe){function le(ve){var Ie=Math.min(te,oe.length-ve),ke=oe.slice(ve,ve+Ie);return(ae?Promise.resolve([]):V.getMany({trans:P,keys:ke,cache:"immutable"})).then(function(ze){var He=[],Le=[],Be=K?[]:null,$e=ae?ke:[];if(!ae)for(var Ve=0;Ve<Ie;++Ve){var Qe=ze[Ve],ft={value:$(Qe),primKey:oe[ve+Ve]};N.call(ft,ft.value,ft)!==!1&&(ft.value==null?$e.push(oe[ve+Ve]):K||Et(Q(Qe),Q(ft.value))===0?(Le.push(ft.value),K&&Be.push(oe[ve+Ve])):($e.push(oe[ve+Ve]),He.push(ft.value)))}return Promise.resolve(0<He.length&&V.mutate({trans:P,type:"add",values:He}).then(function(bt){for(var St in bt.failures)$e.splice(parseInt(St),1);se(He.length,bt)})).then(function(){return(0<Le.length||pe&&typeof y=="object")&&V.mutate({trans:P,type:"put",keys:Be,values:Le,criteria:pe,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<ve}).then(function(bt){return se(Le.length,bt)})}).then(function(){return(0<$e.length||pe&&ae)&&V.mutate({trans:P,type:"delete",keys:$e,criteria:pe,isAdditionalChunk:0<ve}).then(function(bt){return Bn(S.table,$e,bt)}).then(function(bt){return se($e.length,bt)})}).then(function(){return oe.length>ve+Ie&&le(ve+te)})})}var pe=ma(S)&&S.limit===1/0&&(typeof y!="function"||ae)&&{index:S.index,range:S.range};return le(0).then(function(){if(0<J.length)throw new nt("Error modifying one or more objects",J,ce,re);return oe.length})})})},Rt.prototype.delete=function(){var y=this._ctx,_=y.range;return!ma(y)||y.table.schema.yProps||!y.isPrimKey&&_.type!==3?this.modify(Rl):this._write(function(S){var P=y.table.core.schema.primaryKey,N=_;return y.table.core.count({trans:S,query:{index:P,range:N}}).then(function(V){return y.table.core.mutate({trans:S,type:"deleteRange",range:N}).then(function(te){var Q=te.failures,te=te.numFailures;if(te)throw new nt("Could not delete some values",Object.keys(Q).map(function(ne){return Q[ne]}),V-te);return V-te})})})},Rt);function Rt(){}var Rl=function(y,_){return _.value=null};function kl(y,_){return y<_?-1:y===_?0:1}function bf(y,_){return _<y?-1:y===_?0:1}function Gn(y,_,S){return y=y instanceof bo?new y.Collection(y):y,y._ctx.error=new(S||TypeError)(_),y}function ya(y){return new y.Collection(y,function(){return _i("")}).limit(0)}function oi(y,_,S,P){var N,V,K,Q,te,ne,se,J=S.length;if(!S.every(function(ae){return typeof ae=="string"}))return Gn(y,zn);function ce(ae){N=ae==="next"?function(le){return le.toUpperCase()}:function(le){return le.toLowerCase()},V=ae==="next"?function(le){return le.toLowerCase()}:function(le){return le.toUpperCase()},K=ae==="next"?kl:bf;var oe=S.map(function(le){return{lower:V(le),upper:N(le)}}).sort(function(le,pe){return K(le.lower,pe.lower)});Q=oe.map(function(le){return le.upper}),te=oe.map(function(le){return le.lower}),se=(ne=ae)==="next"?"":P}ce("next"),y=new y.Collection(y,function(){return Ui(Q[0],te[J-1]+P)}),y._ondirectionchange=function(ae){ce(ae)};var re=0;return y._addAlgorithm(function(ae,oe,le){var pe=ae.key;if(typeof pe!="string")return!1;var ve=V(pe);if(_(ve,te,re))return!0;for(var Ie=null,ke=re;ke<J;++ke){var ze=(function(He,Le,Be,$e,Ve,Qe){for(var ft=Math.min(He.length,$e.length),bt=-1,St=0;St<ft;++St){var Vr=Le[St];if(Vr!==$e[St])return Ve(He[St],Be[St])<0?He.substr(0,St)+Be[St]+Be.substr(St+1):Ve(He[St],$e[St])<0?He.substr(0,St)+$e[St]+Be.substr(St+1):0<=bt?He.substr(0,bt)+Le[bt]+Be.substr(bt+1):null;Ve(He[St],Vr)<0&&(bt=St)}return ft<$e.length&&Qe==="next"?He+Be.substr(He.length):ft<He.length&&Qe==="prev"?He.substr(0,Be.length):bt<0?null:He.substr(0,bt)+$e[bt]+Be.substr(bt+1)})(pe,ve,Q[ke],te[ke],K,ne);ze===null&&Ie===null?re=ke+1:(Ie===null||0<K(Ie,ze))&&(Ie=ze)}return oe(Ie!==null?function(){ae.continue(Ie+se)}:le),!1}),y}function Ui(y,_,S,P){return{type:2,lower:y,upper:_,lowerOpen:S,upperOpen:P}}function _i(y){return{type:1,lower:y,upper:y}}var bo=(Object.defineProperty(Jt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Jt.prototype.between=function(y,_,S,P){S=S!==!1,P=P===!0;try{return 0<this._cmp(y,_)||this._cmp(y,_)===0&&(S||P)&&(!S||!P)?ya(this):new this.Collection(this,function(){return Ui(y,_,!S,!P)})}catch{return Gn(this,lr)}},Jt.prototype.equals=function(y){return y==null?Gn(this,lr):new this.Collection(this,function(){return _i(y)})},Jt.prototype.above=function(y){return y==null?Gn(this,lr):new this.Collection(this,function(){return Ui(y,void 0,!0)})},Jt.prototype.aboveOrEqual=function(y){return y==null?Gn(this,lr):new this.Collection(this,function(){return Ui(y,void 0,!1)})},Jt.prototype.below=function(y){return y==null?Gn(this,lr):new this.Collection(this,function(){return Ui(void 0,y,!1,!0)})},Jt.prototype.belowOrEqual=function(y){return y==null?Gn(this,lr):new this.Collection(this,function(){return Ui(void 0,y)})},Jt.prototype.startsWith=function(y){return typeof y!="string"?Gn(this,zn):this.between(y,y+er,!0,!0)},Jt.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):oi(this,function(_,S){return _.indexOf(S[0])===0},[y],er)},Jt.prototype.equalsIgnoreCase=function(y){return oi(this,function(_,S){return _===S[0]},[y],"")},Jt.prototype.anyOfIgnoreCase=function(){var y=tt.apply(Te,arguments);return y.length===0?ya(this):oi(this,function(_,S){return S.indexOf(_)!==-1},y,"")},Jt.prototype.startsWithAnyOfIgnoreCase=function(){var y=tt.apply(Te,arguments);return y.length===0?ya(this):oi(this,function(_,S){return S.some(function(P){return _.indexOf(P)===0})},y,er)},Jt.prototype.anyOf=function(){var y=this,_=tt.apply(Te,arguments),S=this._cmp;try{_.sort(S)}catch{return Gn(this,lr)}if(_.length===0)return ya(this);var P=new this.Collection(this,function(){return Ui(_[0],_[_.length-1])});P._ondirectionchange=function(V){S=V==="next"?y._ascending:y._descending,_.sort(S)};var N=0;return P._addAlgorithm(function(V,K,Q){for(var te=V.key;0<S(te,_[N]);)if(++N===_.length)return K(Q),!1;return S(te,_[N])===0||(K(function(){V.continue(_[N])}),!1)}),P},Jt.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Jt.prototype.noneOf=function(){var y=tt.apply(Te,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return Gn(this,lr)}var _=y.reduce(function(S,P){return S?S.concat([[S[S.length-1][1],P]]):[[-1/0,P]]},null);return _.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(_,{includeLowers:!1,includeUppers:!1})},Jt.prototype.inAnyRange=function(pe,_){var S=this,P=this._cmp,N=this._ascending,V=this._descending,K=this._min,Q=this._max;if(pe.length===0)return ya(this);if(!pe.every(function(ve){return ve[0]!==void 0&&ve[1]!==void 0&&N(ve[0],ve[1])<=0}))return Gn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var te=!_||_.includeLowers!==!1,ne=_&&_.includeUppers===!0,se,J=N;function ce(ve,Ie){return J(ve[0],Ie[0])}try{(se=pe.reduce(function(ve,Ie){for(var ke=0,ze=ve.length;ke<ze;++ke){var He=ve[ke];if(P(Ie[0],He[1])<0&&0<P(Ie[1],He[0])){He[0]=K(He[0],Ie[0]),He[1]=Q(He[1],Ie[1]);break}}return ke===ze&&ve.push(Ie),ve},[])).sort(ce)}catch{return Gn(this,lr)}var re=0,ae=ne?function(ve){return 0<N(ve,se[re][1])}:function(ve){return 0<=N(ve,se[re][1])},oe=te?function(ve){return 0<V(ve,se[re][0])}:function(ve){return 0<=V(ve,se[re][0])},le=ae,pe=new this.Collection(this,function(){return Ui(se[0][0],se[se.length-1][1],!te,!ne)});return pe._ondirectionchange=function(ve){J=ve==="next"?(le=ae,N):(le=oe,V),se.sort(ce)},pe._addAlgorithm(function(ve,Ie,ke){for(var ze,He=ve.key;le(He);)if(++re===se.length)return Ie(ke),!1;return!ae(ze=He)&&!oe(ze)||(S._cmp(He,se[re][1])===0||S._cmp(He,se[re][0])===0||Ie(function(){J===N?ve.continue(se[re][0]):ve.continue(se[re][1])}),!1)}),pe},Jt.prototype.startsWithAnyOf=function(){var y=tt.apply(Te,arguments);return y.every(function(_){return typeof _=="string"})?y.length===0?ya(this):this.inAnyRange(y.map(function(_){return[_,_+er]})):Gn(this,"startsWithAnyOf() only works with strings")},Jt);function Jt(){}function jr(y){return Xt(function(_){return qa(_),y(_.target.error),!1})}function qa(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Bi="storagemutated",wi="x-storagemutated-1",tr=ha(null,Bi),Is=(Ot.prototype._lock=function(){return Y(!Ge.global),++this._reculock,this._reculock!==1||Ge.global||(Ge.lockOwnerFor=this),this},Ot.prototype._unlock=function(){if(Y(!Ge.global),--this._reculock==0)for(Ge.global||(Ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{Mr(y[1],y[0])}catch{}}return this},Ot.prototype._locked=function(){return this._reculock&&Ge.lockOwnerFor!==this},Ot.prototype.create=function(y){var _=this;if(!this.mode)return this;var S=this.db.idbdb,P=this.db._state.dbOpenError;if(Y(!this.idbtrans),!y&&!S)switch(P&&P.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(P);case"MissingAPIError":throw new ue.MissingAPI(P.message,P);default:throw new ue.OpenFailed(P)}if(!this.active)throw new ue.TransactionInactive;return Y(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Xt(function(N){qa(N),_._reject(y.error)}),y.onabort=Xt(function(N){qa(N),_.active&&_._reject(new ue.Abort(y.error)),_.active=!1,_.on("abort").fire(N)}),y.oncomplete=Xt(function(){_.active=!1,_._resolve(),"mutatedParts"in y&&tr.storagemutated.fire(y.mutatedParts)}),this},Ot.prototype._promise=function(y,_,S){var P=this;if(y==="readwrite"&&this.mode!=="readwrite")return Bt(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return Bt(new ue.TransactionInactive);if(this._locked())return new Fe(function(V,K){P._blockedFuncs.push([function(){P._promise(y,_,S).then(V,K)},Ge])});if(S)return Zt(function(){var V=new Fe(function(K,Q){P._lock();var te=_(K,Q,P);te&&te.then&&te.then(K,Q)});return V.finally(function(){return P._unlock()}),V._lib=!0,V});var N=new Fe(function(V,K){var Q=_(V,K,P);Q&&Q.then&&Q.then(V,K)});return N._lib=!0,N},Ot.prototype._root=function(){return this.parent?this.parent._root():this},Ot.prototype.waitFor=function(y){var _,S=this._root(),P=Fe.resolve(y);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return P}):(S._waitingFor=P,S._waitingQueue=[],_=S.idbtrans.objectStore(S.storeNames[0]),(function V(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(_.get(-1/0).onsuccess=V)})());var N=S._waitingFor;return new Fe(function(V,K){P.then(function(Q){return S._waitingQueue.push(Xt(V.bind(null,Q)))},function(Q){return S._waitingQueue.push(Xt(K.bind(null,Q)))}).finally(function(){S._waitingFor===N&&(S._waitingFor=null)})})},Ot.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},Ot.prototype.table=function(y){var _=this._memoizedTables||(this._memoizedTables={});if(p(_,y))return _[y];var S=this.schema[y];if(!S)throw new ue.NotFound("Table "+y+" not part of transaction");return S=new this.db.Table(y,S,this),S.core=this.db.core.table(y),_[y]=S},Ot);function Ot(){}function qi(y,_,S,P,N,V,K,Q){return{name:y,keyPath:_,unique:S,multi:P,auto:N,compound:V,src:(S&&!K?"&":"")+(P?"*":"")+(N?"++":"")+Nl(_),type:Q}}function Nl(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function _o(y,_,S){return{name:y,primKey:_,indexes:S,mappedClass:null,idxByName:(P=function(N){return[N.name,N]},S.reduce(function(N,V,K){return K=P(V,K),K&&(N[K[0]]=K[1]),N},{}))};var P}var wo=function(y){try{return y.only([[]]),wo=function(){return[[]]},[[]]}catch{return wo=function(){return er},er}};function xo(y){return y==null?function(){}:typeof y=="string"?(_=y).split(".").length===1?function(S){return S[_]}:function(S){return X(S,_)}:function(S){return X(S,y)};var _}function Fa(y){return[].slice.call(y)}var va=0;function qn(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function Eo(y,_,te){function P(le){if(le.type===3)return null;if(le.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=le.lower,ae=le.upper,oe=le.lowerOpen,le=le.upperOpen;return re===void 0?ae===void 0?null:_.upperBound(ae,!!le):ae===void 0?_.lowerBound(re,!!oe):_.bound(re,ae,!!oe,!!le)}function N(ce){var re,ae=ce.name;return{name:ae,schema:ce,mutate:function(oe){var le=oe.trans,pe=oe.type,ve=oe.keys,Ie=oe.values,ke=oe.range;return new Promise(function(ze,He){ze=Xt(ze);var Le=le.objectStore(ae),Be=Le.keyPath==null,$e=pe==="put"||pe==="add";if(!$e&&pe!=="delete"&&pe!=="deleteRange")throw new Error("Invalid operation type: "+pe);var Ve,Qe=(ve||Ie||{length:1}).length;if(ve&&Ie&&ve.length!==Ie.length)throw new Error("Given keys array must have same length as given values array.");if(Qe===0)return ze({numFailures:0,failures:{},results:[],lastResult:void 0});function ft(fr){++Vr,qa(fr)}var bt=[],St=[],Vr=0;if(pe==="deleteRange"){if(ke.type===4)return ze({numFailures:Vr,failures:St,results:[],lastResult:void 0});ke.type===3?bt.push(Ve=Le.clear()):bt.push(Ve=Le.delete(P(ke)))}else{var Be=$e?Be?[Ie,ve]:[Ie,null]:[ve,null],vt=Be[0],cr=Be[1];if($e)for(var On=0;On<Qe;++On)bt.push(Ve=cr&&cr[On]!==void 0?Le[pe](vt[On],cr[On]):Le[pe](vt[On])),Ve.onerror=ft;else for(On=0;On<Qe;++On)bt.push(Ve=Le[pe](vt[On])),Ve.onerror=ft}function sc(fr){fr=fr.target.result,bt.forEach(function(Gi,Sh){return Gi.error!=null&&(St[Sh]=Gi.error)}),ze({numFailures:Vr,failures:St,results:pe==="delete"?ve:bt.map(function(Gi){return Gi.result}),lastResult:fr})}Ve.onerror=function(fr){ft(fr),sc(fr)},Ve.onsuccess=sc})},getMany:function(oe){var le=oe.trans,pe=oe.keys;return new Promise(function(ve,Ie){ve=Xt(ve);for(var ke,ze=le.objectStore(ae),He=pe.length,Le=new Array(He),Be=0,$e=0,Ve=function(bt){bt=bt.target,Le[bt._pos]=bt.result,++$e===Be&&ve(Le)},Qe=jr(Ie),ft=0;ft<He;++ft)pe[ft]!=null&&((ke=ze.get(pe[ft]))._pos=ft,ke.onsuccess=Ve,ke.onerror=Qe,++Be);Be===0&&ve(Le)})},get:function(oe){var le=oe.trans,pe=oe.key;return new Promise(function(ve,Ie){ve=Xt(ve);var ke=le.objectStore(ae).get(pe);ke.onsuccess=function(ze){return ve(ze.target.result)},ke.onerror=jr(Ie)})},query:(re=ne,function(oe){return new Promise(function(le,pe){le=Xt(le);var ve,Ie,ke,Be=oe.trans,ze=oe.values,He=oe.limit,Ve=oe.query,Le=He===1/0?void 0:He,$e=Ve.index,Ve=Ve.range,Be=Be.objectStore(ae),$e=$e.isPrimaryKey?Be:Be.index($e.name),Ve=P(Ve);if(He===0)return le({result:[]});re?((Le=ze?$e.getAll(Ve,Le):$e.getAllKeys(Ve,Le)).onsuccess=function(Qe){return le({result:Qe.target.result})},Le.onerror=jr(pe)):(ve=0,Ie=!ze&&"openKeyCursor"in $e?$e.openKeyCursor(Ve):$e.openCursor(Ve),ke=[],Ie.onsuccess=function(Qe){var ft=Ie.result;return ft?(ke.push(ze?ft.value:ft.primaryKey),++ve===He?le({result:ke}):void ft.continue()):le({result:ke})},Ie.onerror=jr(pe))})}),openCursor:function(oe){var le=oe.trans,pe=oe.values,ve=oe.query,Ie=oe.reverse,ke=oe.unique;return new Promise(function(ze,He){ze=Xt(ze);var $e=ve.index,Le=ve.range,Be=le.objectStore(ae),Be=$e.isPrimaryKey?Be:Be.index($e.name),$e=Ie?ke?"prevunique":"prev":ke?"nextunique":"next",Ve=!pe&&"openKeyCursor"in Be?Be.openKeyCursor(P(Le),$e):Be.openCursor(P(Le),$e);Ve.onerror=jr(He),Ve.onsuccess=Xt(function(Qe){var ft,bt,St,Vr,vt=Ve.result;vt?(vt.___id=++va,vt.done=!1,ft=vt.continue.bind(vt),bt=(bt=vt.continuePrimaryKey)&&bt.bind(vt),St=vt.advance.bind(vt),Vr=function(){throw new Error("Cursor not stopped")},vt.trans=le,vt.stop=vt.continue=vt.continuePrimaryKey=vt.advance=function(){throw new Error("Cursor not started")},vt.fail=Xt(He),vt.next=function(){var cr=this,On=1;return this.start(function(){return On--?cr.continue():cr.stop()}).then(function(){return cr})},vt.start=function(cr){function On(){if(Ve.result)try{cr()}catch(fr){vt.fail(fr)}else vt.done=!0,vt.start=function(){throw new Error("Cursor behind last entry")},vt.stop()}var sc=new Promise(function(fr,Gi){fr=Xt(fr),Ve.onerror=jr(Gi),vt.fail=Gi,vt.stop=function(Sh){vt.stop=vt.continue=vt.continuePrimaryKey=vt.advance=Vr,fr(Sh)}});return Ve.onsuccess=Xt(function(fr){Ve.onsuccess=On,On()}),vt.continue=ft,vt.continuePrimaryKey=bt,vt.advance=St,On(),sc},ze(vt)):ze(null)},He)})},count:function(oe){var le=oe.query,pe=oe.trans,ve=le.index,Ie=le.range;return new Promise(function(ke,ze){var He=pe.objectStore(ae),Le=ve.isPrimaryKey?He:He.index(ve.name),He=P(Ie),Le=He?Le.count(He):Le.count();Le.onsuccess=Xt(function(Be){return ke(Be.target.result)}),Le.onerror=jr(ze)})}}}var V,K,Q,se=(K=te,Q=Fa((V=y).objectStoreNames),{schema:{name:V.name,tables:Q.map(function(ce){return K.objectStore(ce)}).map(function(ce){var re=ce.keyPath,le=ce.autoIncrement,ae=u(re),oe={},le={name:ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:ae,keyPath:re,autoIncrement:le,unique:!0,extractKey:xo(re)},indexes:Fa(ce.indexNames).map(function(pe){return ce.index(pe)}).map(function(ke){var ve=ke.name,Ie=ke.unique,ze=ke.multiEntry,ke=ke.keyPath,ze={name:ve,compound:u(ke),keyPath:ke,unique:Ie,multiEntry:ze,extractKey:xo(ke)};return oe[qn(ke)]=ze}),getIndexByKeyPath:function(pe){return oe[qn(pe)]}};return oe[":id"]=le.primaryKey,re!=null&&(oe[qn(re)]=le.primaryKey),le})},hasGetAll:0<Q.length&&"getAll"in K.objectStore(Q[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),te=se.schema,ne=se.hasGetAll,se=te.tables.map(N),J={};return se.forEach(function(ce){return J[ce.name]=ce}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(ce){if(!J[ce])throw new Error("Table '".concat(ce,"' not found"));return J[ce]},MIN_KEY:-1/0,MAX_KEY:wo(_),schema:te}}function $a(y,_,S,P){var N=S.IDBKeyRange;return S.indexedDB,{dbcore:(P=Eo(_,N,P),y.dbcore.reduce(function(V,K){return K=K.create,r(r({},V),K(V))},P))}}function ba(y,P){var S=P.db,P=$a(y._middlewares,S,y._deps,P);y.core=P.dbcore,y.tables.forEach(function(N){var V=N.name;y.core.schema.tables.some(function(K){return K.name===V})&&(N.core=y.core.table(V),y[V]instanceof y.Table&&(y[V].core=N.core))})}function Ho(y,_,S,P){S.forEach(function(N){var V=P[N];_.forEach(function(K){var Q=(function te(ne,se){return O(ne,se)||(ne=d(ne))&&te(ne,se)})(K,N);(!Q||"value"in Q&&Q.value===void 0)&&(K===y.Transaction.prototype||K instanceof y.Transaction?T(K,N,{get:function(){return this.table(N)},set:function(te){x(this,N,{value:te,writable:!0,configurable:!0,enumerable:!0})}}):K[N]=new y.Table(N,V))})})}function Ka(y,_){_.forEach(function(S){for(var P in S)S[P]instanceof y.Table&&delete S[P]})}function Dl(y,_){return y._cfg.version-_._cfg.version}function Ha(y,_,S,P){var N=y._dbSchema;S.objectStoreNames.contains("$meta")&&!N.$meta&&(N.$meta=_o("$meta",rc("")[0],[]),y._storeNames.push("$meta"));var V=y._createTransaction("readwrite",y._storeNames,N);V.create(S),V._completion.catch(P);var K=V._reject.bind(V),Q=Ge.transless||Ge;Zt(function(){return Ge.trans=V,Ge.transless=Q,_!==0?(ba(y,S),ne=_,((te=V).storeNames.includes("$meta")?te.table("$meta").get("version").then(function(se){return se??ne}):Fe.resolve(ne)).then(function(se){return ce=se,re=V,ae=S,oe=[],se=(J=y)._versions,le=J._dbSchema=Ga(0,J.idbdb,ae),(se=se.filter(function(pe){return pe._cfg.version>=ce})).length!==0?(se.forEach(function(pe){oe.push(function(){var ve=le,Ie=pe._cfg.dbschema;Go(J,ve,ae),Go(J,Ie,ae),le=J._dbSchema=Ie;var ke=Os(ve,Ie);ke.add.forEach(function($e){So(ae,$e[0],$e[1].primKey,$e[1].indexes)}),ke.change.forEach(function($e){if($e.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var Ve=ae.objectStore($e.name);$e.add.forEach(function(Qe){return Ps(Ve,Qe)}),$e.change.forEach(function(Qe){Ve.deleteIndex(Qe.name),Ps(Ve,Qe)}),$e.del.forEach(function(Qe){return Ve.deleteIndex(Qe)})});var ze=pe._cfg.contentUpgrade;if(ze&&pe._cfg.version>ce){ba(J,ae),re._memoizedTables={};var He=L(Ie);ke.del.forEach(function($e){He[$e]=ve[$e]}),Ka(J,[J.Transaction.prototype]),Ho(J,[J.Transaction.prototype],l(He),He),re.schema=He;var Le,Be=ee(ze);return Be&&xn(),ke=Fe.follow(function(){var $e;(Le=ze(re))&&Be&&($e=Er.bind(null,null),Le.then($e,$e))}),Le&&typeof Le.then=="function"?Fe.resolve(Le):ke.then(function(){return Le})}}),oe.push(function(ve){var Ie,ke,ze=pe._cfg.dbschema;Ie=ze,ke=ve,[].slice.call(ke.db.objectStoreNames).forEach(function(He){return Ie[He]==null&&ke.db.deleteObjectStore(He)}),Ka(J,[J.Transaction.prototype]),Ho(J,[J.Transaction.prototype],J._storeNames,J._dbSchema),re.schema=J._dbSchema}),oe.push(function(ve){J.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(J.idbdb.version/10)===pe._cfg.version?(J.idbdb.deleteObjectStore("$meta"),delete J._dbSchema.$meta,J._storeNames=J._storeNames.filter(function(Ie){return Ie!=="$meta"})):ve.objectStore("$meta").put(pe._cfg.version,"version"))})}),(function pe(){return oe.length?Fe.resolve(oe.shift()(re.idbtrans)).then(pe):Fe.resolve()})().then(function(){nc(le,ae)})):Fe.resolve();var J,ce,re,ae,oe,le}).catch(K)):(l(N).forEach(function(se){So(S,se,N[se].primKey,N[se].indexes)}),ba(y,S),void Fe.follow(function(){return y.on.populate.fire(V)}).catch(K));var te,ne})}function Ml(y,_){nc(y._dbSchema,_),_.db.version%10!=0||_.objectStoreNames.contains("$meta")||_.db.createObjectStore("$meta").add(Math.ceil(_.db.version/10-1),"version");var S=Ga(0,y.idbdb,_);Go(y,y._dbSchema,_);for(var P=0,N=Os(S,y._dbSchema).change;P<N.length;P++){var V=(function(K){if(K.change.length||K.recreate)return console.warn("Unable to patch indexes of table ".concat(K.name," because it has changes on the type of index or primary key.")),{value:void 0};var Q=_.objectStore(K.name);K.add.forEach(function(te){xr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(K.name,".").concat(te.src)),Ps(Q,te)})})(N[P]);if(typeof V=="object")return V.value}}function Os(y,_){var S,P={del:[],add:[],change:[]};for(S in y)_[S]||P.del.push(S);for(S in _){var N=y[S],V=_[S];if(N){var K={name:S,def:V,recreate:!1,del:[],add:[],change:[]};if(""+(N.primKey.keyPath||"")!=""+(V.primKey.keyPath||"")||N.primKey.auto!==V.primKey.auto)K.recreate=!0,P.change.push(K);else{var Q=N.idxByName,te=V.idxByName,ne=void 0;for(ne in Q)te[ne]||K.del.push(ne);for(ne in te){var se=Q[ne],J=te[ne];se?se.src!==J.src&&K.change.push(J):K.add.push(J)}(0<K.del.length||0<K.add.length||0<K.change.length)&&P.change.push(K)}}else P.add.push([S,V])}return P}function So(y,_,S,P){var N=y.db.createObjectStore(_,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return P.forEach(function(V){return Ps(N,V)}),N}function nc(y,_){l(y).forEach(function(S){_.db.objectStoreNames.contains(S)||(xr&&console.debug("Dexie: Creating missing table",S),So(_,S,y[S].primKey,y[S].indexes))})}function Ps(y,_){y.createIndex(_.name,_.keyPath,{unique:_.unique,multiEntry:_.multi})}function Ga(y,_,S){var P={};return B(_.objectStoreNames,0).forEach(function(N){for(var V=S.objectStore(N),K=qi(Nl(ne=V.keyPath),ne||"",!0,!1,!!V.autoIncrement,ne&&typeof ne!="string",!0),Q=[],te=0;te<V.indexNames.length;++te){var se=V.index(V.indexNames[te]),ne=se.keyPath,se=qi(se.name,ne,!!se.unique,!!se.multiEntry,!1,ne&&typeof ne!="string",!1);Q.push(se)}P[N]=_o(N,K,Q)}),P}function Go(y,_,S){for(var P=S.db.objectStoreNames,N=0;N<P.length;++N){var V=P[N],K=S.objectStore(V);y._hasGetAll="getAll"in K;for(var Q=0;Q<K.indexNames.length;++Q){var te=K.indexNames[Q],ne=K.index(te).keyPath,se=typeof ne=="string"?ne:"["+B(ne).join("+")+"]";!_[V]||(ne=_[V].idxByName[se])&&(ne.name=te,delete _[V].idxByName[se],_[V].idxByName[te]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function rc(y){return y.split(",").map(function(_,S){var V=_.split(":"),P=(N=V[1])===null||N===void 0?void 0:N.trim(),N=(_=V[0].trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return qi(N,V||null,/\&/.test(_),/\*/.test(_),/\+\+/.test(_),u(V),S===0,P)})}var jl=(To.prototype._createTableSchema=_o,To.prototype._parseIndexSyntax=rc,To.prototype._parseStoresSpec=function(y,_){var S=this;l(y).forEach(function(P){if(y[P]!==null){var N=S._parseIndexSyntax(y[P]),V=N.shift();if(!V)throw new ue.Schema("Invalid schema for table "+P+": "+y[P]);if(V.unique=!0,V.multi)throw new ue.Schema("Primary key cannot be multiEntry*");N.forEach(function(K){if(K.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!K.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),N=S._createTableSchema(P,V,N),_[P]=N}})},To.prototype.stores=function(S){var _=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,S):S;var S=_._versions,P={},N={};return S.forEach(function(V){f(P,V._cfg.storesSource),N=V._cfg.dbschema={},V._parseStoresSpec(P,N)}),_._dbSchema=N,Ka(_,[_._allTables,_,_.Transaction.prototype]),Ho(_,[_._allTables,_,_.Transaction.prototype,this._cfg.tables],l(N),N),_._storeNames=l(N),this},To.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Ln(this._cfg.contentUpgrade||Ae,y),this},To);function To(){}function Ll(y,_){var S=y._dbNamesDB;return S||(S=y._dbNamesDB=new Ya(Fo,{addons:[],indexedDB:y,IDBKeyRange:_})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function Fi(y){return y&&typeof y.databases=="function"}function Vl(y){return Zt(function(){return Ge.letThrough=!0,y()})}function zl(y){return!("from"in y)}var nr=function(y,_){if(!this){var S=new nr;return y&&"d"in y&&f(S,y),S}f(this,arguments.length?{d:1,from:y,to:1<arguments.length?_:y}:{d:0})};function Wo(y,_,S){var P=Et(_,S);if(!isNaN(P)){if(0<P)throw RangeError();if(zl(y))return f(y,{from:_,to:S,d:1});var N=y.l,P=y.r;if(Et(S,y.from)<0)return N?Wo(N,_,S):y.l={from:_,to:S,d:1,l:null,r:null},ic(y);if(0<Et(_,y.to))return P?Wo(P,_,S):y.r={from:_,to:S,d:1,l:null,r:null},ic(y);Et(_,y.from)<0&&(y.from=_,y.l=null,y.d=P?P.d+1:1),0<Et(S,y.to)&&(y.to=S,y.r=null,y.d=y.l?y.l.d+1:1),S=!y.r,N&&!y.l&&$i(y,N),P&&S&&$i(y,P)}}function $i(y,_){zl(_)||(function S(P,te){var V=te.from,K=te.to,Q=te.l,te=te.r;Wo(P,V,K),Q&&S(P,Q),te&&S(P,te)})(y,_)}function Lr(y,_){var S=Cs(_),P=S.next();if(P.done)return!1;for(var N=P.value,V=Cs(y),K=V.next(N.from),Q=K.value;!P.done&&!K.done;){if(Et(Q.from,N.to)<=0&&0<=Et(Q.to,N.from))return!0;Et(N.from,Q.from)<0?N=(P=S.next(Q.from)).value:Q=(K=V.next(N.from)).value}return!1}function Cs(y){var _=zl(y)?null:{s:0,n:y};return{next:function(S){for(var P=0<arguments.length;_;)switch(_.s){case 0:if(_.s=1,P)for(;_.n.l&&Et(S,_.n.from)<0;)_={up:_,n:_.n.l,s:1};else for(;_.n.l;)_={up:_,n:_.n.l,s:1};case 1:if(_.s=2,!P||Et(S,_.n.to)<=0)return{value:_.n,done:!1};case 2:if(_.n.r){_.s=3,_={up:_,n:_.n.r,s:0};continue}case 3:_=_.up}return{done:!0}}}}function ic(y){var _,S,P=(((_=y.r)===null||_===void 0?void 0:_.d)||0)-(((S=y.l)===null||S===void 0?void 0:S.d)||0),N=1<P?"r":P<-1?"l":"";N&&(_=N=="r"?"l":"r",S=r({},y),P=y[N],y.from=P.from,y.to=P.to,y[N]=P[N],S[N]=P[_],(y[_]=S).d=Wa(S)),y.d=Wa(y)}function Wa(S){var _=S.r,S=S.l;return(_?S?Math.max(_.d,S.d):_.d:S?S.d:0)+1}function g(y,_){return l(_).forEach(function(S){y[S]?$i(y[S],_[S]):y[S]=(function P(N){var V,K,Q={};for(V in N)p(N,V)&&(K=N[V],Q[V]=!K||typeof K!="object"||q.has(K.constructor)?K:P(K));return Q})(_[S])}),y}function I(y,_){return y.all||_.all||Object.keys(y).some(function(S){return _[S]&&Lr(_[S],y[S])})}b(nr.prototype,((Ei={add:function(y){return $i(this,y),this},addKey:function(y){return Wo(this,y,y),this},addKeys:function(y){var _=this;return y.forEach(function(S){return Wo(_,S,S)}),this},hasKey:function(y){var _=Cs(this).next(y).value;return _&&Et(_.from,y)<=0&&0<=Et(_.to,y)}})[de]=function(){return Cs(this)},Ei));var k={},F={},he=!1;function we(y){g(F,y),he||(he=!0,setTimeout(function(){he=!1,Ue(F,!(F={}))},0))}function Ue(y,_){_===void 0&&(_=!1);var S=new Set;if(y.all)for(var P=0,N=Object.values(k);P<N.length;P++)wt(K=N[P],y,S,_);else for(var V in y){var K,Q=/^idb\:\/\/(.*)\/(.*)\//.exec(V);Q&&(V=Q[1],Q=Q[2],(K=k["idb://".concat(V,"/").concat(Q)])&&wt(K,y,S,_))}S.forEach(function(te){return te()})}function wt(y,_,S,P){for(var N=[],V=0,K=Object.entries(y.queries.query);V<K.length;V++){for(var Q=K[V],te=Q[0],ne=[],se=0,J=Q[1];se<J.length;se++){var ce=J[se];I(_,ce.obsSet)?ce.subscribers.forEach(function(le){return S.add(le)}):P&&ne.push(ce)}P&&N.push([te,ne])}if(P)for(var re=0,ae=N;re<ae.length;re++){var oe=ae[re],te=oe[0],ne=oe[1];y.queries.query[te]=ne}}function Fn(y){var _=y._state,S=y._deps.indexedDB;if(_.isBeingOpened||y.idbdb)return _.dbReadyPromise.then(function(){return _.dbOpenError?Bt(_.dbOpenError):y});_.isBeingOpened=!0,_.dbOpenError=null,_.openComplete=!1;var P=_.openCanceller,N=Math.round(10*y.verno),V=!1;function K(){if(_.openCanceller!==P)throw new ue.DatabaseClosed("db.open() was cancelled")}function Q(){return new Fe(function(ce,re){if(K(),!S)throw new ue.MissingAPI;var ae=y.name,oe=_.autoSchema||!N?S.open(ae):S.open(ae,N);if(!oe)throw new ue.MissingAPI;oe.onerror=jr(re),oe.onblocked=Xt(y._fireOnBlocked),oe.onupgradeneeded=Xt(function(le){var pe;se=oe.transaction,_.autoSchema&&!y._options.allowEmptyDB?(oe.onerror=qa,se.abort(),oe.result.close(),(pe=S.deleteDatabase(ae)).onsuccess=pe.onerror=Xt(function(){re(new ue.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})):(se.onerror=jr(re),le=le.oldVersion>Math.pow(2,62)?0:le.oldVersion,J=le<1,y.idbdb=oe.result,V&&Ml(y,se),Ha(y,le/10,se,re))},re),oe.onsuccess=Xt(function(){se=null;var le,pe,ve,Ie,ke,ze=y.idbdb=oe.result,He=B(ze.objectStoreNames);if(0<He.length)try{var Le=ze.transaction((Ie=He).length===1?Ie[0]:Ie,"readonly");if(_.autoSchema)pe=ze,ve=Le,(le=y).verno=pe.version/10,ve=le._dbSchema=Ga(0,pe,ve),le._storeNames=B(pe.objectStoreNames,0),Ho(le,[le._allTables],l(ve),ve);else if(Go(y,y._dbSchema,Le),((ke=Os(Ga(0,(ke=y).idbdb,Le),ke._dbSchema)).add.length||ke.change.some(function(Be){return Be.add.length||Be.change.length}))&&!V)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ze.close(),N=ze.version+1,V=!0,ce(Q());ba(y,Le)}catch{}Ba.push(y),ze.onversionchange=Xt(function(Be){_.vcFired=!0,y.on("versionchange").fire(Be)}),ze.onclose=Xt(function(){y.close({disableAutoOpen:!1})}),J&&(ke=y._deps,Le=ae,ze=ke.indexedDB,ke=ke.IDBKeyRange,Fi(ze)||Le===Fo||Ll(ze,ke).put({name:Le}).catch(Ae)),ce()},re)}).catch(function(ce){switch(ce?.name){case"UnknownError":if(0<_.PR1398_maxLoop)return _.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Q();break;case"VersionError":if(0<N)return N=0,Q()}return Fe.reject(ce)})}var te,ne=_.dbReadyResolve,se=null,J=!1;return Fe.race([P,(typeof navigator>"u"?Fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ce){function re(){return indexedDB.databases().finally(ce)}te=setInterval(re,100),re()}).finally(function(){return clearInterval(te)}):Promise.resolve()).then(Q)]).then(function(){return K(),_.onReadyBeingFired=[],Fe.resolve(Vl(function(){return y.on.ready.fire(y.vip)})).then(function ce(){if(0<_.onReadyBeingFired.length){var re=_.onReadyBeingFired.reduce(Ln,Ae);return _.onReadyBeingFired=[],Fe.resolve(Vl(function(){return re(y.vip)})).then(ce)}})}).finally(function(){_.openCanceller===P&&(_.onReadyBeingFired=null,_.isBeingOpened=!1)}).catch(function(ce){_.dbOpenError=ce;try{se&&se.abort()}catch{}return P===_.openCanceller&&y._close(),Bt(ce)}).finally(function(){_.openComplete=!0,ne()}).then(function(){var ce;return J&&(ce={},y.tables.forEach(function(re){re.schema.indexes.forEach(function(ae){ae.name&&(ce["idb://".concat(y.name,"/").concat(re.name,"/").concat(ae.name)]=new nr(-1/0,[[[]]]))}),ce["idb://".concat(y.name,"/").concat(re.name,"/")]=ce["idb://".concat(y.name,"/").concat(re.name,"/:dels")]=new nr(-1/0,[[[]]])}),tr(Bi).fire(ce),Ue(ce,!0)),y})}function zt(y){function _(V){return y.next(V)}var S=N(_),P=N(function(V){return y.throw(V)});function N(V){return function(te){var Q=V(te),te=Q.value;return Q.done?te:te&&typeof te.then=="function"?te.then(S,P):u(te)?Promise.all(te).then(S,P):S(te)}}return N(_)()}function en(y,_,S){for(var P=u(y)?y.slice():[y],N=0;N<S;++N)P.push(_);return P}var Ki={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(_){var S=y.table(_),P=S.schema,N={},V=[];function K(J,ce,re){var ae=qn(J),oe=N[ae]=N[ae]||[],le=J==null?0:typeof J=="string"?1:J.length,pe=0<ce,pe=r(r({},re),{name:pe?"".concat(ae,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:pe,keyTail:ce,keyLength:le,extractKey:xo(J),unique:!pe&&re.unique});return oe.push(pe),pe.isPrimaryKey||V.push(pe),1<le&&K(le===2?J[0]:J.slice(0,le-1),ce+1,re),oe.sort(function(ve,Ie){return ve.keyTail-Ie.keyTail}),pe}_=K(P.primaryKey.keyPath,0,P.primaryKey),N[":id"]=[_];for(var Q=0,te=P.indexes;Q<te.length;Q++){var ne=te[Q];K(ne.keyPath,0,ne)}function se(J){var ce,re=J.query.index;return re.isVirtual?r(r({},J),{query:{index:re.lowLevelIndex,range:(ce=J.query.range,re=re.keyTail,{type:ce.type===1?2:ce.type,lower:en(ce.lower,ce.lowerOpen?y.MAX_KEY:y.MIN_KEY,re),lowerOpen:!0,upper:en(ce.upper,ce.upperOpen?y.MIN_KEY:y.MAX_KEY,re),upperOpen:!0})}}):J}return r(r({},S),{schema:r(r({},P),{primaryKey:_,indexes:V,getIndexByKeyPath:function(J){return(J=N[qn(J)])&&J[0]}}),count:function(J){return S.count(se(J))},query:function(J){return S.query(se(J))},openCursor:function(J){var ce=J.query.index,re=ce.keyTail,ae=ce.isVirtual,oe=ce.keyLength;return ae?S.openCursor(se(J)).then(function(pe){return pe&&le(pe)}):S.openCursor(J);function le(pe){return Object.create(pe,{continue:{value:function(ve){ve!=null?pe.continue(en(ve,J.reverse?y.MAX_KEY:y.MIN_KEY,re)):J.unique?pe.continue(pe.key.slice(0,oe).concat(J.reverse?y.MIN_KEY:y.MAX_KEY,re)):pe.continue()}},continuePrimaryKey:{value:function(ve,Ie){pe.continuePrimaryKey(en(ve,y.MAX_KEY,re),Ie)}},primaryKey:{get:function(){return pe.primaryKey}},key:{get:function(){var ve=pe.key;return oe===1?ve[0]:ve.slice(0,oe)}},value:{get:function(){return pe.value}}})}}})}})}};function Hi(y,_,S,P){return S=S||{},P=P||"",l(y).forEach(function(N){var V,K,Q;p(_,N)?(V=y[N],K=_[N],typeof V=="object"&&typeof K=="object"&&V&&K?(Q=Xe(V))!==Xe(K)?S[P+N]=_[N]:Q==="Object"?Hi(V,K,S,P+N+"."):V!==K&&(S[P+N]=_[N]):V!==K&&(S[P+N]=_[N])):S[P+N]=void 0}),l(_).forEach(function(N){p(y,N)||(S[P+N]=_[N])}),S}function xi(y,_){return _.type==="delete"?_.keys:_.keys||_.values.map(y.extractKey)}var _a={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(_){var S=y.table(_),P=S.schema.primaryKey;return r(r({},S),{mutate:function(N){var V=Ge.trans,K=V.table(_).hook,Q=K.deleting,te=K.creating,ne=K.updating;switch(N.type){case"add":if(te.fire===Ae)break;return V._promise("readwrite",function(){return se(N)},!0);case"put":if(te.fire===Ae&&ne.fire===Ae)break;return V._promise("readwrite",function(){return se(N)},!0);case"delete":if(Q.fire===Ae)break;return V._promise("readwrite",function(){return se(N)},!0);case"deleteRange":if(Q.fire===Ae)break;return V._promise("readwrite",function(){return(function J(ce,re,ae){return S.query({trans:ce,values:!1,query:{index:P,range:re},limit:ae}).then(function(oe){var le=oe.result;return se({type:"delete",keys:le,trans:ce}).then(function(pe){return 0<pe.numFailures?Promise.reject(pe.failures[0]):le.length<ae?{failures:[],numFailures:0,lastResult:void 0}:J(ce,r(r({},re),{lower:le[le.length-1],lowerOpen:!0}),ae)})})})(N.trans,N.range,1e4)},!0)}return S.mutate(N);function se(J){var ce,re,ae,oe=Ge.trans,le=J.keys||xi(P,J);if(!le)throw new Error("Keys missing");return(J=J.type==="add"||J.type==="put"?r(r({},J),{keys:le}):r({},J)).type!=="delete"&&(J.values=i([],J.values)),J.keys&&(J.keys=i([],J.keys)),ce=S,ae=le,((re=J).type==="add"?Promise.resolve([]):ce.getMany({trans:re.trans,keys:ae,cache:"immutable"})).then(function(pe){var ve=le.map(function(Ie,ke){var ze,He,Le,Be=pe[ke],$e={onerror:null,onsuccess:null};return J.type==="delete"?Q.fire.call($e,Ie,Be,oe):J.type==="add"||Be===void 0?(ze=te.fire.call($e,Ie,J.values[ke],oe),Ie==null&&ze!=null&&(J.keys[ke]=Ie=ze,P.outbound||j(J.values[ke],P.keyPath,Ie))):(ze=Hi(Be,J.values[ke]),(He=ne.fire.call($e,ze,Ie,Be,oe))&&(Le=J.values[ke],Object.keys(He).forEach(function(Ve){p(Le,Ve)?Le[Ve]=He[Ve]:j(Le,Ve,He[Ve])}))),$e});return S.mutate(J).then(function(Ie){for(var ke=Ie.failures,ze=Ie.results,He=Ie.numFailures,Ie=Ie.lastResult,Le=0;Le<le.length;++Le){var Be=(ze||le)[Le],$e=ve[Le];Be==null?$e.onerror&&$e.onerror(ke[Le]):$e.onsuccess&&$e.onsuccess(J.type==="put"&&pe[Le]?J.values[Le]:Be)}return{failures:ke,results:ze,numFailures:He,lastResult:Ie}}).catch(function(Ie){return ve.forEach(function(ke){return ke.onerror&&ke.onerror(Ie)}),Promise.reject(Ie)})})}}})}})}};function Yo(y,_,S){try{if(!_||_.keys.length<y.length)return null;for(var P=[],N=0,V=0;N<_.keys.length&&V<y.length;++N)Et(_.keys[N],y[V])===0&&(P.push(S?$(_.values[N]):_.values[N]),++V);return P.length===y.length?P:null}catch{return null}}var Ul={stack:"dbcore",level:-1,create:function(y){return{table:function(_){var S=y.table(_);return r(r({},S),{getMany:function(P){if(!P.cache)return S.getMany(P);var N=Yo(P.keys,P.trans._cache,P.cache==="clone");return N?Fe.resolve(N):S.getMany(P).then(function(V){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?$(V):V},V})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),S.mutate(P)}})}}}};function Rs(y,_){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!_.schema.primaryKey.outbound}function fg(y,_){switch(y){case"query":return _.values&&!_.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var n_={stack:"dbcore",level:0,name:"Observability",create:function(y){var _=y.schema.name,S=new nr(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(P,N,V){if(Ge.subscr&&N!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ge.querier));return y.transaction(P,N,V)},table:function(P){var N=y.table(P),V=N.schema,K=V.primaryKey,J=V.indexes,Q=K.extractKey,te=K.outbound,ne=K.autoIncrement&&J.filter(function(re){return re.compound&&re.keyPath.includes(K.keyPath)}),se=r(r({},N),{mutate:function(re){function ae(Ve){return Ve="idb://".concat(_,"/").concat(P,"/").concat(Ve),Ie[Ve]||(Ie[Ve]=new nr)}var oe,le,pe,ve=re.trans,Ie=re.mutatedParts||(re.mutatedParts={}),ke=ae(""),ze=ae(":dels"),He=re.type,$e=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[xi(K,re).filter(function(Ve){return Ve}),re.values]:[],Le=$e[0],Be=$e[1],$e=re.trans._cache;return u(Le)?(ke.addKeys(Le),($e=He==="delete"||Le.length===Be.length?Yo(Le,$e):null)||ze.addKeys(Le),($e||Be)&&(oe=ae,le=$e,pe=Be,V.indexes.forEach(function(Ve){var Qe=oe(Ve.name||"");function ft(St){return St!=null?Ve.extractKey(St):null}function bt(St){return Ve.multiEntry&&u(St)?St.forEach(function(Vr){return Qe.addKey(Vr)}):Qe.addKey(St)}(le||pe).forEach(function(St,cr){var vt=le&&ft(le[cr]),cr=pe&&ft(pe[cr]);Et(vt,cr)!==0&&(vt!=null&&bt(vt),cr!=null&&bt(cr))})}))):Le?(Be={from:(Be=Le.lower)!==null&&Be!==void 0?Be:y.MIN_KEY,to:(Be=Le.upper)!==null&&Be!==void 0?Be:y.MAX_KEY},ze.add(Be),ke.add(Be)):(ke.add(S),ze.add(S),V.indexes.forEach(function(Ve){return ae(Ve.name).add(S)})),N.mutate(re).then(function(Ve){return!Le||re.type!=="add"&&re.type!=="put"||(ke.addKeys(Ve.results),ne&&ne.forEach(function(Qe){for(var ft=re.values.map(function(vt){return Qe.extractKey(vt)}),bt=Qe.keyPath.findIndex(function(vt){return vt===K.keyPath}),St=0,Vr=Ve.results.length;St<Vr;++St)ft[St][bt]=Ve.results[St];ae(Qe.name).addKeys(ft)})),ve.mutatedParts=g(ve.mutatedParts||{},Ie),Ve})}}),J=function(ae){var oe=ae.query,ae=oe.index,oe=oe.range;return[ae,new nr((ae=oe.lower)!==null&&ae!==void 0?ae:y.MIN_KEY,(oe=oe.upper)!==null&&oe!==void 0?oe:y.MAX_KEY)]},ce={get:function(re){return[K,new nr(re.key)]},getMany:function(re){return[K,new nr().addKeys(re.keys)]},count:J,query:J,openCursor:J};return l(ce).forEach(function(re){se[re]=function(ae){var oe=Ge.subscr,le=!!oe,pe=Rs(Ge,N)&&fg(re,ae)?ae.obsSet={}:oe;if(le){var ve=function(Be){return Be="idb://".concat(_,"/").concat(P,"/").concat(Be),pe[Be]||(pe[Be]=new nr)},Ie=ve(""),ke=ve(":dels"),oe=ce[re](ae),le=oe[0],oe=oe[1];if((re==="query"&&le.isPrimaryKey&&!ae.values?ke:ve(le.name||"")).add(oe),!le.isPrimaryKey){if(re!=="count"){var ze=re==="query"&&te&&ae.values&&N.query(r(r({},ae),{values:!1}));return N[re].apply(this,arguments).then(function(Be){if(re==="query"){if(te&&ae.values)return ze.then(function(ft){return ft=ft.result,Ie.addKeys(ft),Be});var $e=ae.values?Be.result.map(Q):Be.result;(ae.values?Ie:ke).addKeys($e)}else if(re==="openCursor"){var Ve=Be,Qe=ae.values;return Ve&&Object.create(Ve,{key:{get:function(){return ke.addKey(Ve.primaryKey),Ve.key}},primaryKey:{get:function(){var ft=Ve.primaryKey;return ke.addKey(ft),ft}},value:{get:function(){return Qe&&Ie.addKey(Ve.primaryKey),Ve.value}}})}return Be})}ke.add(S)}}return N[re].apply(this,arguments)}}),se}})}};function dg(y,_,S){if(S.numFailures===0)return _;if(_.type==="deleteRange")return null;var P=_.keys?_.keys.length:"values"in _&&_.values?_.values.length:1;return S.numFailures===P?null:(_=r({},_),u(_.keys)&&(_.keys=_.keys.filter(function(N,V){return!(V in S.failures)})),"values"in _&&u(_.values)&&(_.values=_.values.filter(function(N,V){return!(V in S.failures)})),_)}function _f(y,_){return S=y,((P=_).lower===void 0||(P.lowerOpen?0<Et(S,P.lower):0<=Et(S,P.lower)))&&(y=y,(_=_).upper===void 0||(_.upperOpen?Et(y,_.upper)<0:Et(y,_.upper)<=0));var S,P}function xh(y,_,ce,P,N,V){if(!ce||ce.length===0)return y;var K=_.query.index,Q=K.multiEntry,te=_.query.range,ne=P.schema.primaryKey.extractKey,se=K.extractKey,J=(K.lowLevelIndex||K).extractKey,ce=ce.reduce(function(re,ae){var oe=re,le=[];if(ae.type==="add"||ae.type==="put")for(var pe=new nr,ve=ae.values.length-1;0<=ve;--ve){var Ie,ke=ae.values[ve],ze=ne(ke);pe.hasKey(ze)||(Ie=se(ke),(Q&&u(Ie)?Ie.some(function(Ve){return _f(Ve,te)}):_f(Ie,te))&&(pe.addKey(ze),le.push(ke)))}switch(ae.type){case"add":var He=new nr().addKeys(_.values?re.map(function(Qe){return ne(Qe)}):re),oe=re.concat(_.values?le.filter(function(Qe){return Qe=ne(Qe),!He.hasKey(Qe)&&(He.addKey(Qe),!0)}):le.map(function(Qe){return ne(Qe)}).filter(function(Qe){return!He.hasKey(Qe)&&(He.addKey(Qe),!0)}));break;case"put":var Le=new nr().addKeys(ae.values.map(function(Qe){return ne(Qe)}));oe=re.filter(function(Qe){return!Le.hasKey(_.values?ne(Qe):Qe)}).concat(_.values?le:le.map(function(Qe){return ne(Qe)}));break;case"delete":var Be=new nr().addKeys(ae.keys);oe=re.filter(function(Qe){return!Be.hasKey(_.values?ne(Qe):Qe)});break;case"deleteRange":var $e=ae.range;oe=re.filter(function(Qe){return!_f(ne(Qe),$e)})}return oe},y);return ce===y?y:(ce.sort(function(re,ae){return Et(J(re),J(ae))||Et(ne(re),ne(ae))}),_.limit&&_.limit<1/0&&(ce.length>_.limit?ce.length=_.limit:y.length===_.limit&&ce.length<_.limit&&(N.dirty=!0)),V?Object.freeze(ce):ce)}function Bl(y,_){return Et(y.lower,_.lower)===0&&Et(y.upper,_.upper)===0&&!!y.lowerOpen==!!_.lowerOpen&&!!y.upperOpen==!!_.upperOpen}function ac(y,_){return(function(S,P,N,V){if(S===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Et(S,P))===0){if(N&&V)return 0;if(N)return 1;if(V)return-1}return P})(y.lower,_.lower,y.lowerOpen,_.lowerOpen)<=0&&0<=(function(S,P,N,V){if(S===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Et(S,P))===0){if(N&&V)return 0;if(N)return-1;if(V)return 1}return P})(y.upper,_.upper,y.upperOpen,_.upperOpen)}function r_(y,_,S,P){y.subscribers.add(S),P.addEventListener("abort",function(){var N,V;y.subscribers.delete(S),y.subscribers.size===0&&(N=y,V=_,setTimeout(function(){N.subscribers.size===0&&xe(V,N)},3e3))})}var wf={stack:"dbcore",level:0,name:"Cache",create:function(y){var _=y.schema.name;return r(r({},y),{transaction:function(S,P,N){var V,K,Q=y.transaction(S,P,N);return P==="readwrite"&&(K=(V=new AbortController).signal,N=function(te){return function(){if(V.abort(),P==="readwrite"){for(var ne=new Set,se=0,J=S;se<J.length;se++){var ce=J[se],re=k["idb://".concat(_,"/").concat(ce)];if(re){var ae=y.table(ce),oe=re.optimisticOps.filter(function(Qe){return Qe.trans===Q});if(Q._explicit&&te&&Q.mutatedParts)for(var le=0,pe=Object.values(re.queries.query);le<pe.length;le++)for(var ve=0,Ie=(He=pe[le]).slice();ve<Ie.length;ve++)I((Le=Ie[ve]).obsSet,Q.mutatedParts)&&(xe(He,Le),Le.subscribers.forEach(function(Qe){return ne.add(Qe)}));else if(0<oe.length){re.optimisticOps=re.optimisticOps.filter(function(Qe){return Qe.trans!==Q});for(var ke=0,ze=Object.values(re.queries.query);ke<ze.length;ke++)for(var He,Le,Be,$e=0,Ve=(He=ze[ke]).slice();$e<Ve.length;$e++)(Le=Ve[$e]).res!=null&&Q.mutatedParts&&(te&&!Le.dirty?(Be=Object.isFrozen(Le.res),Be=xh(Le.res,Le.req,oe,ae,Le,Be),Le.dirty?(xe(He,Le),Le.subscribers.forEach(function(Qe){return ne.add(Qe)})):Be!==Le.res&&(Le.res=Be,Le.promise=Fe.resolve({result:Be}))):(Le.dirty&&xe(He,Le),Le.subscribers.forEach(function(Qe){return ne.add(Qe)})))}}}ne.forEach(function(Qe){return Qe()})}}},Q.addEventListener("abort",N(!1),{signal:K}),Q.addEventListener("error",N(!1),{signal:K}),Q.addEventListener("complete",N(!0),{signal:K})),Q},table:function(S){var P=y.table(S),N=P.schema.primaryKey;return r(r({},P),{mutate:function(V){var K=Ge.trans;if(N.outbound||K.db._options.cache==="disabled"||K.explicit||K.idbtrans.mode!=="readwrite")return P.mutate(V);var Q=k["idb://".concat(_,"/").concat(S)];return Q?(K=P.mutate(V),V.type!=="add"&&V.type!=="put"||!(50<=V.values.length||xi(N,V).some(function(te){return te==null}))?(Q.optimisticOps.push(V),V.mutatedParts&&we(V.mutatedParts),K.then(function(te){0<te.numFailures&&(xe(Q.optimisticOps,V),(te=dg(0,V,te))&&Q.optimisticOps.push(te),V.mutatedParts&&we(V.mutatedParts))}),K.catch(function(){xe(Q.optimisticOps,V),V.mutatedParts&&we(V.mutatedParts)})):K.then(function(te){var ne=dg(0,r(r({},V),{values:V.values.map(function(se,J){var ce;return te.failures[J]?se:(se=(ce=N.keyPath)!==null&&ce!==void 0&&ce.includes(".")?$(se):r({},se),j(se,N.keyPath,te.results[J]),se)})}),te);Q.optimisticOps.push(ne),queueMicrotask(function(){return V.mutatedParts&&we(V.mutatedParts)})}),K):P.mutate(V)},query:function(V){if(!Rs(Ge,P)||!fg("query",V))return P.query(V);var K=((ne=Ge.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",J=Ge,Q=J.requery,te=J.signal,ne=(function(ae,oe,le,pe){var ve=k["idb://".concat(ae,"/").concat(oe)];if(!ve)return[];if(!(oe=ve.queries[le]))return[null,!1,ve,null];var Ie=oe[(pe.query?pe.query.index.name:null)||""];if(!Ie)return[null,!1,ve,null];switch(le){case"query":var ke=Ie.find(function(ze){return ze.req.limit===pe.limit&&ze.req.values===pe.values&&Bl(ze.req.query.range,pe.query.range)});return ke?[ke,!0,ve,Ie]:[Ie.find(function(ze){return("limit"in ze.req?ze.req.limit:1/0)>=pe.limit&&(!pe.values||ze.req.values)&&ac(ze.req.query.range,pe.query.range)}),!1,ve,Ie];case"count":return ke=Ie.find(function(ze){return Bl(ze.req.query.range,pe.query.range)}),[ke,!!ke,ve,Ie]}})(_,S,"query",V),se=ne[0],J=ne[1],ce=ne[2],re=ne[3];return se&&J?se.obsSet=V.obsSet:(J=P.query(V).then(function(ae){var oe=ae.result;if(se&&(se.res=oe),K){for(var le=0,pe=oe.length;le<pe;++le)Object.freeze(oe[le]);Object.freeze(oe)}else ae.result=$(oe);return ae}).catch(function(ae){return re&&se&&xe(re,se),Promise.reject(ae)}),se={obsSet:V.obsSet,promise:J,subscribers:new Set,type:"query",req:V,dirty:!1},re?re.push(se):(re=[se],(ce=ce||(k["idb://".concat(_,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[V.query.index.name||""]=re)),r_(se,re,Q,te),se.promise.then(function(ae){return{result:xh(ae.result,V,ce?.optimisticOps,P,se,K)}})}})}})}};function oc(y,_){return new Proxy(y,{get:function(S,P,N){return P==="db"?_:Reflect.get(S,P,N)}})}var Ya=(En.prototype.version=function(y){if(isNaN(y)||y<.1)throw new ue.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var _=this._versions,S=_.filter(function(P){return P._cfg.version===y})[0];return S||(S=new this.Version(y),_.push(S),_.sort(Dl),S.stores({}),this._state.autoSchema=!1,S)},En.prototype._whenReady=function(y){var _=this;return this.idbdb&&(this._state.openComplete||Ge.letThrough||this._vip)?y():new Fe(function(S,P){if(_._state.openComplete)return P(new ue.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return void P(new ue.DatabaseClosed);_.open().catch(Ae)}_._state.dbReadyPromise.then(S,P)}).then(y)},En.prototype.use=function(y){var _=y.stack,S=y.create,P=y.level,N=y.name;return N&&this.unuse({stack:_,name:N}),y=this._middlewares[_]||(this._middlewares[_]=[]),y.push({stack:_,create:S,level:P??10,name:N}),y.sort(function(V,K){return V.level-K.level}),this},En.prototype.unuse=function(y){var _=y.stack,S=y.name,P=y.create;return _&&this._middlewares[_]&&(this._middlewares[_]=this._middlewares[_].filter(function(N){return P?N.create!==P:!!S&&N.name!==S})),this},En.prototype.open=function(){var y=this;return Mr(Jn,function(){return Fn(y)})},En.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var y=this._state,_=Ba.indexOf(this);if(0<=_&&Ba.splice(_,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new Fe(function(S){y.dbReadyResolve=S}),y.openCanceller=new Fe(function(S,P){y.cancelOpen=P}))},En.prototype.close=function(S){var _=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;_?(S.isBeingOpened&&S.cancelOpen(new ue.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new ue.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},En.prototype.delete=function(y){var _=this;y===void 0&&(y={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new Fe(function(N,V){function K(){_.close(y);var Q=_._deps.indexedDB.deleteDatabase(_.name);Q.onsuccess=Xt(function(){var te,ne,se;te=_._deps,ne=_.name,se=te.indexedDB,te=te.IDBKeyRange,Fi(se)||ne===Fo||Ll(se,te).delete(ne).catch(Ae),N()}),Q.onerror=jr(V),Q.onblocked=_._fireOnBlocked}if(S)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(K):K()})},En.prototype.backendDB=function(){return this.idbdb},En.prototype.isOpen=function(){return this.idbdb!==null},En.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},En.prototype.hasFailed=function(){return this._state.dbOpenError!==null},En.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(En.prototype,"tables",{get:function(){var y=this;return l(this._allTables).map(function(_){return y._allTables[_]})},enumerable:!1,configurable:!0}),En.prototype.transaction=function(){var y=(function(_,S,P){var N=arguments.length;if(N<2)throw new ue.InvalidArgument("Too few arguments");for(var V=new Array(N-1);--N;)V[N-1]=arguments[N];return P=V.pop(),[_,G(V),P]}).apply(this,arguments);return this._transaction.apply(this,y)},En.prototype._transaction=function(y,_,S){var P=this,N=Ge.trans;N&&N.db===this&&y.indexOf("!")===-1||(N=null);var V,K,Q=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(K=_.map(function(ne){if(ne=ne instanceof P.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),y=="r"||y===Li)V=Li;else{if(y!="rw"&&y!=Vi)throw new ue.InvalidArgument("Invalid transaction mode: "+y);V=Vi}if(N){if(N.mode===Li&&V===Vi){if(!Q)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");N=null}N&&K.forEach(function(ne){if(N&&N.storeNames.indexOf(ne)===-1){if(!Q)throw new ue.SubTransaction("Table "+ne+" not included in parent transaction.");N=null}}),Q&&N&&!N.active&&(N=null)}}catch(ne){return N?N._promise(null,function(se,J){J(ne)}):Bt(ne)}var te=(function ne(se,J,ce,re,ae){return Fe.resolve().then(function(){var oe=Ge.transless||Ge,le=se._createTransaction(J,ce,se._dbSchema,re);if(le.explicit=!0,oe={trans:le,transless:oe},re)le.idbtrans=re.idbtrans;else try{le.create(),le.idbtrans._explicit=!0,se._state.PR1398_maxLoop=3}catch(Ie){return Ie.name===Ye.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,J,ce,null,ae)})):Bt(Ie)}var pe,ve=ee(ae);return ve&&xn(),oe=Fe.follow(function(){var Ie;(pe=ae.call(le,le))&&(ve?(Ie=Er.bind(null,null),pe.then(Ie,Ie)):typeof pe.next=="function"&&typeof pe.throw=="function"&&(pe=zt(pe)))},oe),(pe&&typeof pe.then=="function"?Fe.resolve(pe).then(function(Ie){return le.active?Ie:Bt(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):oe.then(function(){return pe})).then(function(Ie){return re&&le._resolve(),le._completion.then(function(){return Ie})}).catch(function(Ie){return le._reject(Ie),Bt(Ie)})})}).bind(null,this,V,K,N,S);return N?N._promise(V,te,"lock"):Ge.trans?Mr(Ge.transless,function(){return P._whenReady(te)}):this._whenReady(te)},En.prototype.table=function(y){if(!p(this._allTables,y))throw new ue.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},En);function En(y,_){var S=this;this._middlewares={},this.verno=0;var P=En.dependencies;this._options=_=r({addons:En.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},_),this._deps={indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange},P=_.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var N,V,K,Q,te,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ae,dbReadyPromise:null,cancelOpen:Ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:_.autoOpen};ne.dbReadyPromise=new Fe(function(J){ne.dbReadyResolve=J}),ne.openCanceller=new Fe(function(J,ce){ne.cancelOpen=ce}),this._state=ne,this.name=y,this.on=ha(this,"populate","blocked","versionchange","close",{ready:[Ln,Ae]}),this.once=function(J,ce){var re=function(){for(var ae=[],oe=0;oe<arguments.length;oe++)ae[oe]=arguments[oe];S.on(J).unsubscribe(re),ce.apply(S,ae)};return S.on(J,re)},this.on.ready.subscribe=M(this.on.ready.subscribe,function(J){return function(ce,re){En.vip(function(){var ae,oe=S._state;oe.openComplete?(oe.dbOpenError||Fe.resolve().then(ce),re&&J(ce)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(ce),re&&J(ce)):(J(ce),ae=S,re||J(function le(){ae.on.ready.unsubscribe(ce),ae.on.ready.unsubscribe(le)}))})}}),this.Collection=(N=this,ur(vf.prototype,function(pe,le){this.db=N;var re=Ol,ae=null;if(le)try{re=le()}catch(ve){ae=ve}var oe=pe._ctx,le=oe.table,pe=le.hook.reading.fire;this._ctx={table:le,index:oe.index,isPrimKey:!oe.index||le.schema.primKey.keyPath&&oe.index===le.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ae,or:oe.or,valueMapper:pe!==pn?pe:null}})),this.Table=(V=this,ur(Ko.prototype,function(J,ce,re){this.db=V,this._tx=re,this.name=J,this.schema=ce,this.hook=V._allTables[J]?V._allTables[J].hook:ha(null,{creating:[jn,Ae],reading:[It,pn],updating:[Uo,Ae],deleting:[vi,Ae]})})),this.Transaction=(K=this,ur(Is.prototype,function(J,ce,re,ae,oe){var le=this;J!=="readonly"&&ce.forEach(function(pe){pe=(pe=re[pe])===null||pe===void 0?void 0:pe.yProps,pe&&(ce=ce.concat(pe.map(function(ve){return ve.updatesTable})))}),this.db=K,this.mode=J,this.storeNames=ce,this.schema=re,this.chromeTransactionDurability=ae,this.idbtrans=null,this.on=ha(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Fe(function(pe,ve){le._resolve=pe,le._reject=ve}),this._completion.then(function(){le.active=!1,le.on.complete.fire()},function(pe){var ve=le.active;return le.active=!1,le.on.error.fire(pe),le.parent?le.parent._reject(pe):ve&&le.idbtrans&&le.idbtrans.abort(),Bt(pe)})})),this.Version=(Q=this,ur(jl.prototype,function(J){this.db=Q,this._cfg={version:J,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(te=this,ur(bo.prototype,function(J,ce,re){if(this.db=te,this._ctx={table:J,index:ce===":id"?null:ce,or:re},this._cmp=this._ascending=Et,this._descending=function(ae,oe){return Et(oe,ae)},this._max=function(ae,oe){return 0<Et(ae,oe)?ae:oe},this._min=function(ae,oe){return Et(ae,oe)<0?ae:oe},this._IDBKeyRange=te._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(J){0<J.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(J){!J.newVersion||J.newVersion<J.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(J.oldVersion/10))}),this._maxKey=wo(_.IDBKeyRange),this._createTransaction=function(J,ce,re,ae){return new S.Transaction(J,ce,re,S._options.chromeTransactionDurability,ae)},this._fireOnBlocked=function(J){S.on("blocked").fire(J),Ba.filter(function(ce){return ce.name===S.name&&ce!==S&&!ce._state.vcFired}).map(function(ce){return ce.on("versionchange").fire(J)})},this.use(Ul),this.use(wf),this.use(n_),this.use(Ki),this.use(_a);var se=new Proxy(this,{get:function(J,ce,re){if(ce==="_vip")return!0;if(ce==="table")return function(oe){return oc(S.table(oe),se)};var ae=Reflect.get(J,ce,re);return ae instanceof Ko?oc(ae,se):ce==="tables"?ae.map(function(oe){return oc(oe,se)}):ce==="_createTransaction"?function(){return oc(ae.apply(this,arguments),se)}:ae}});this.vip=se,P.forEach(function(J){return J(S)})}var ql,Ei=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",hg=(xf.prototype.subscribe=function(y,_,S){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:_,complete:S})},xf.prototype[Ei]=function(){return this},xf);function xf(y){this._subscribe=y}try{ql={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{ql={indexedDB:null,IDBKeyRange:null}}function mg(y){var _,S=!1,P=new hg(function(N){var V=ee(y),K,Q=!1,te={},ne={},se={get closed(){return Q},unsubscribe:function(){Q||(Q=!0,K&&K.abort(),J&&tr.storagemutated.unsubscribe(re))}};N.start&&N.start(se);var J=!1,ce=function(){return ji(ae)},re=function(oe){g(te,oe),I(ne,te)&&ce()},ae=function(){var oe,le,pe;!Q&&ql.indexedDB&&(te={},oe={},K&&K.abort(),K=new AbortController,pe=(function(ve){var Ie=Wr();try{V&&xn();var ke=Zt(y,ve);return ke=V?ke.finally(Er):ke}finally{Ie&&Di()}})(le={subscr:oe,signal:K.signal,requery:ce,querier:y,trans:null}),Promise.resolve(pe).then(function(ve){S=!0,_=ve,Q||le.signal.aborted||(te={},(function(Ie){for(var ke in Ie)if(p(Ie,ke))return;return 1})(ne=oe)||J||(tr(Bi,re),J=!0),ji(function(){return!Q&&N.next&&N.next(ve)}))},function(ve){S=!1,["DatabaseClosedError","AbortError"].includes(ve?.name)||Q||ji(function(){Q||N.error&&N.error(ve)})}))};return setTimeout(ce,0),se});return P.hasValue=function(){return S},P.getValue=function(){return _},P}var ks=Ya;function Eh(y){var _=Qo;try{Qo=!0,tr.storagemutated.fire(y),Ue(y,!0)}finally{Qo=_}}b(ks,r(r({},yt),{delete:function(y){return new ks(y,{addons:[]}).delete()},exists:function(y){return new ks(y,{addons:[]}).open().then(function(_){return _.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return _=ks.dependencies,S=_.indexedDB,_=_.IDBKeyRange,(Fi(S)?Promise.resolve(S.databases()).then(function(P){return P.map(function(N){return N.name}).filter(function(N){return N!==Fo})}):Ll(S,_).toCollection().primaryKeys()).then(y)}catch{return Bt(new ue.MissingAPI)}var _,S},defineClass:function(){return function(y){f(this,y)}},ignoreTransaction:function(y){return Ge.trans?Mr(Ge.transless,y):y()},vip:Vl,async:function(y){return function(){try{var _=zt(y.apply(this,arguments));return _&&typeof _.then=="function"?_:Fe.resolve(_)}catch(S){return Bt(S)}}},spawn:function(y,_,S){try{var P=zt(y.apply(S,_||[]));return P&&typeof P.then=="function"?P:Fe.resolve(P)}catch(N){return Bt(N)}},currentTransaction:{get:function(){return Ge.trans||null}},waitFor:function(y,_){return _=Fe.resolve(typeof y=="function"?ks.ignoreTransaction(y):y).timeout(_||6e4),Ge.trans?Ge.trans.waitFor(_):_},Promise:Fe,debug:{get:function(){return xr},set:function(y){gf(y)}},derive:A,extend:f,props:b,override:M,Events:ha,on:tr,liveQuery:mg,extendObservabilitySet:g,getByKeyPath:X,setByKeyPath:j,delByKeyPath:function(y,_){typeof _=="string"?j(y,_,void 0):"length"in _&&[].map.call(_,function(S){j(y,S,void 0)})},shallowClone:L,deepClone:$,getObjectDiff:Hi,cmp:Et,asap:W,minKey:-1/0,addons:[],connections:Ba,errnames:Ye,dependencies:ql,cache:k,semVer:"4.2.1",version:"4.2.1".split(".").map(function(y){return parseInt(y)}).reduce(function(y,_,S){return y+_/Math.pow(10,2*S)})})),ks.maxKey=wo(ks.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tr(Bi,function(y){Qo||(y=new CustomEvent(wi,{detail:y}),Qo=!0,dispatchEvent(y),Qo=!1)}),addEventListener(wi,function(y){y=y.detail,Qo||Eh(y)}));var Fl,Qo=!1,si=function(){};return typeof BroadcastChannel<"u"&&((si=function(){(Fl=new BroadcastChannel(wi)).onmessage=function(y){return y.data&&Eh(y.data)}})(),typeof Fl.unref=="function"&&Fl.unref(),tr(Bi,function(y){Qo||Fl.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!Ya.disableBfCache&&y.persisted){xr&&console.debug("Dexie: handling persisted pagehide"),Fl?.close();for(var _=0,S=Ba;_<S.length;_++)S[_].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!Ya.disableBfCache&&y.persisted&&(xr&&console.debug("Dexie: handling persisted pageshow"),si(),Eh({all:new nr(-1/0,[[]])}))})),Fe.rejectionMapper=function(y,_){return!y||y instanceof De||y instanceof TypeError||y instanceof SyntaxError||!y.name||!mt[y.name]?y:(_=new mt[y.name](_||y.message,y),"stack"in y&&T(_,"stack",{get:function(){return this.inner.stack}}),_)},gf(xr),r(Ya,Object.freeze({__proto__:null,Dexie:Ya,liveQuery:mg,Entity:ec,cmp:Et,PropModification:zi,replacePrefix:function(y,_){return new zi({replacePrefix:[y,_]})},add:function(y){return new zi({add:y})},remove:function(y){return new zi({remove:y})},default:Ya,RangeSet:nr,mergeRanges:$i,rangesOverlap:Lr}),{default:Ya}),Ya})})(uv)),uv.exports}var mye=hye();const VS=bs(mye),tL=Symbol.for("Dexie"),k0=globalThis[tL]||(globalThis[tL]=VS);if(VS.semVer!==k0.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${VS.semVer} and ${k0.semVer}`);const{liveQuery:Hye,mergeRanges:Gye,rangesOverlap:Wye,RangeSet:Yye,cmp:Qye,Entity:Xye,PropModification:Zye,replacePrefix:Jye,add:eve,remove:tve,DexieYProvider:nve}=k0;class pye extends k0{batches;sales;expenses;constructor(){super("BusinessTrackerDB"),this.version(1).stores({batches:"++id, name",sales:"++id, batchId, custName, date, status"}),this.version(2).stores({batches:"++id, name, category, isPublic",sales:"++id, batchId, custName, date, status, courier",expenses:"++id, date, type, category"})}}const nL=new pye,gye=()=>{const t=E.useRef(null),[e,n]=E.useState(!1),{data:r}=Up(),{data:i}=Bp(),{data:o}=rA(),l=async()=>{try{const d={batches:r,sales:i,expenses:o,version:2,timestamp:new Date().toISOString()},m=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),p=URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=`tracker-cloud-backup-${new Date().toISOString().split("T")[0]}.json`,b.click(),URL.revokeObjectURL(p)}catch(d){alert("Export failed: "+d)}},u=async d=>{const m=d.target.files?.[0];if(!m||!confirm("WARNING: This will ADD imported data to your current Cloud database. Duplicates might occur. Continue?"))return;const p=new FileReader;p.onload=async b=>{try{const x=b.target?.result,T=JSON.parse(x);if(n(!0),Array.isArray(T.batches))for(const A of T.batches){const{id:O,...D}=A;await op.add(D)}if(Array.isArray(T.sales))for(const A of T.sales){const{id:O,...D}=A;await sp.add(D)}if(Array.isArray(T.expenses))for(const A of T.expenses){const{id:O,...D}=A;await j1.add(D)}alert("Data imported to Cloud successfully!")}catch(x){console.error(x),alert("Import failed: "+x)}finally{n(!1)}},p.readAsText(m)},f=async()=>{if(confirm("Migrate all LOCAL data to Cloud? This might take a moment.")){n(!0);try{const d=await nL.batches.toArray(),m=await nL.sales.toArray(),p={};for(const b of d){const{id:x,...T}=b,A={...T,marginPerUnit:b.marginPerUnit||0,sellingPrice:b.sellingPrice||0},O=await op.add(A);b.id&&(p[b.id]=O.id)}for(const b of m){const{id:x,...T}=b;let A;b.paymentScreenshot instanceof Blob&&(A=await yye(b.paymentScreenshot));const O={...T,batchId:p[b.batchId]||"unknown_legacy_batch",paymentScreenshot:A};await sp.add(O)}alert(`Migration Complete! Moved ${d.length} batches and ${m.length} sales to Cloud.`)}catch(d){console.error(d),alert("Migration failed: "+d)}finally{n(!1)}}};return C.jsxs("div",{className:"space-y-6",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings & Data"}),C.jsxs(Ti,{children:[C.jsx(nf,{children:C.jsxs(rf,{children:[C.jsx(V8,{className:"text-primary-blue"})," Cloud Data Management"]})}),C.jsxs(Ai,{className:"space-y-6",children:[C.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-xl text-sm",children:[C.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-2",children:[C.jsx(CL,{size:16})," Cloud Storage Active"]}),C.jsx("p",{children:"Your data is now stored securely in the cloud (Firebase). You can access it from any device by logging in."})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs(uo,{onClick:l,className:"w-full gap-2 h-14 text-lg",disabled:e,children:[C.jsx(EL,{})," Export Cloud Backup"]}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"file",ref:t,className:"hidden",accept:".json",onChange:u}),C.jsxs(uo,{variant:"secondary",onClick:()=>t.current?.click(),className:"w-full gap-2 h-14 text-lg border-2 border-dashed",disabled:e,children:[C.jsx(RL,{})," Import to Cloud"]})]})]}),e&&C.jsx("div",{className:"text-center text-blue-600 font-bold animate-pulse",children:"Processing Data... Please wait..."}),C.jsxs("div",{className:"pt-8 border-t border-gray-100 dark:border-slate-700",children:[C.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[C.jsx(bR,{className:"text-orange-500"})," Migration Tools"]}),C.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-xl border border-orange-200 dark:border-orange-800",children:[C.jsxs("p",{className:"mb-4 text-sm text-orange-800 dark:text-orange-200",children:["Still see data on your old device? Use this to move your local browser data to the cloud.",C.jsx("br",{}),C.jsx("strong",{children:"Note:"})," Perform this only ONCE to avoid duplicates."]}),C.jsxs(uo,{onClick:f,className:"w-full sm:w-auto gap-2 bg-orange-600 hover:bg-orange-700 text-white",disabled:e,children:[C.jsx(bR,{size:18})," Migrate Local Data to Cloud"]})]})]})]})]})]})};function yye(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=n,r.readAsDataURL(t)})}const vye=()=>{const{data:t,loading:e}=rA(),[n,r]=E.useState(!1),[i,o]=E.useState(new Date().toISOString().split("T")[0]),[l,u]=E.useState(""),[f,d]=E.useState(""),[m,p]=E.useState("General"),[b,x]=E.useState("DEBIT"),T=async()=>{if(!l||!f)return alert("Please fill in description and amount");const M={date:i,description:l,amount:parseFloat(f),category:m,type:b};try{await j1.add(M),r(!1),u(""),d(""),p("General")}catch(Y){console.error(Y),alert("Failed to save entry")}},A=async M=>{M&&confirm("Delete this ledger entry?")&&await j1.delete(M)};if(e)return C.jsx("div",{className:"p-8 text-center",children:"Loading ledger..."});const O=t.filter(M=>M.type==="CREDIT").reduce((M,Y)=>M+Y.amount,0),D=t.filter(M=>M.type==="DEBIT").reduce((M,Y)=>M+Y.amount,0),B=O-D;return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[C.jsxs("div",{children:[C.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[C.jsx(O8,{className:"text-primary-blue"})," General Ledger"]}),C.jsx("p",{className:"text-gray-500",children:"Track miscellaneous expenses and capital deposits."})]}),C.jsx(uo,{onClick:()=>r(!n),children:n?"Cancel":C.jsxs(C.Fragment,{children:[C.jsx(M0,{size:18,className:"mr-2"})," New Entry"]})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C.jsx(Ti,{className:"bg-green-50 dark:bg-green-900/20 border-green-200",children:C.jsxs(Ai,{className:"p-6",children:[C.jsx("p",{className:"text-gray-500 dark:text-green-300 text-sm font-medium",children:"Total Deposits"}),C.jsxs("h3",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["",O.toLocaleString()]})]})}),C.jsx(Ti,{className:"bg-red-50 dark:bg-red-900/20 border-red-200",children:C.jsxs(Ai,{className:"p-6",children:[C.jsx("p",{className:"text-gray-500 dark:text-red-300 text-sm font-medium",children:"Total Expenses"}),C.jsxs("h3",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:["",D.toLocaleString()]})]})}),C.jsx(Ti,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200",children:C.jsxs(Ai,{className:"p-6",children:[C.jsx("p",{className:"text-gray-500 dark:text-blue-300 text-sm font-medium",children:"Net Balance"}),C.jsxs("h3",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["",B.toLocaleString()]})]})})]}),n&&C.jsxs("div",{className:"bg-white dark:bg-card-dark p-6 rounded-xl shadow-lg border border-gray-100 dark:border-slate-700 animate-in fade-in slide-in-from-top-4",children:[C.jsx("h3",{className:"font-bold mb-4",children:"New Ledger Entry"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[C.jsxs("div",{className:"md:col-span-1",children:[C.jsx("label",{className:"text-xs font-bold uppercase text-gray-500",children:"Date"}),C.jsx("input",{type:"date",value:i,onChange:M=>o(M.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600"})]}),C.jsxs("div",{className:"md:col-span-1",children:[C.jsx("label",{className:"text-xs font-bold uppercase text-gray-500",children:"Type"}),C.jsxs("select",{value:b,onChange:M=>x(M.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600",children:[C.jsx("option",{value:"DEBIT",children:"Expense"}),C.jsx("option",{value:"CREDIT",children:"Deposit"})]})]}),C.jsxs("div",{className:"md:col-span-1",children:[C.jsx("label",{className:"text-xs font-bold uppercase text-gray-500",children:"Amount ()"}),C.jsx("input",{type:"number",placeholder:"0.00",value:f,onChange:M=>d(M.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600 font-bold"})]}),C.jsxs("div",{className:"md:col-span-1",children:[C.jsx("label",{className:"text-xs font-bold uppercase text-gray-500",children:"Description"}),C.jsx("input",{type:"text",placeholder:"e.g. Shop Rent",value:l,onChange:M=>u(M.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-600"})]}),C.jsx("div",{className:"md:col-span-1",children:C.jsx(uo,{onClick:T,className:"w-full",children:"Save Entry"})})]})]}),C.jsxs(Ti,{children:[C.jsx(nf,{children:C.jsx(rf,{children:"Recent Transactions"})}),C.jsx(Ai,{className:"p-0 overflow-x-auto",children:C.jsxs("table",{className:"w-full text-left text-sm",children:[C.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50 text-gray-500 font-medium",children:C.jsxs("tr",{children:[C.jsx("th",{className:"p-4",children:"Date"}),C.jsx("th",{className:"p-4",children:"Description"}),C.jsx("th",{className:"p-4",children:"Category"}),C.jsx("th",{className:"p-4",children:"Type"}),C.jsx("th",{className:"p-4 text-right",children:"Amount"}),C.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),C.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[t.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No transactions recorded yet."})}),t.sort((M,Y)=>new Date(Y.date).getTime()-new Date(M.date).getTime()).map(M=>C.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[C.jsx("td",{className:"p-4",children:eO(new Date(M.date),"MMM dd, yyyy")}),C.jsx("td",{className:"p-4 font-medium",children:M.description}),C.jsx("td",{className:"p-4 text-gray-500",children:M.category}),C.jsx("td",{className:"p-4",children:M.type==="CREDIT"?C.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-bold text-xs uppercase bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded w-max",children:[C.jsx(PL,{size:12})," Deposit"]}):C.jsxs("span",{className:"flex items-center gap-1 text-red-600 font-bold text-xs uppercase bg-red-100 dark:bg-red-900/30 px-2 py-1 rounded w-max",children:[C.jsx(OL,{size:12})," Expense"]})}),C.jsxs("td",{className:`p-4 text-right font-bold ${M.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:[M.type==="CREDIT"?"+":"-","",M.amount.toLocaleString()]}),C.jsx("td",{className:"p-4 text-right",children:C.jsx("button",{onClick:()=>A(M.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:C.jsx(j0,{size:16})})})]},M.id))]})]})})]})]})},bye=()=>C.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:" Reports"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Advanced analytics and downloadable PDF reports (Invoices, Profit Statements) will appear here."})]}),v9=E.createContext({user:null,loading:!0}),_ye=()=>E.useContext(v9),wye=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(!0);return E.useEffect(()=>LY(Y3,l=>{n(l),i(!1)}),[]),r?C.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-blue"})}):C.jsx(v9.Provider,{value:{user:e,loading:r},children:t})},xye=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(!1),f=qS(),d=async m=>{m.preventDefault(),o(""),u(!0);try{await DY(Y3,t,n),f("/")}catch(p){console.error(p),o("Failed to login. Please check your email and password.")}finally{u(!1)}};return C.jsxs("div",{className:"min-h-screen bg-bg-default dark:bg-bg-dark flex flex-col justify-center items-center p-4",children:[C.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-card-dark rounded-2xl shadow-xl p-8 border border-gray-100 dark:border-border-dark",children:[C.jsxs("div",{className:"flex flex-col items-center mb-8",children:[C.jsx("div",{className:"w-12 h-12 bg-primary-blue rounded-xl flex items-center justify-center text-white mb-4",children:C.jsx(JE,{size:24,strokeWidth:3})}),C.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome Back"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sign in to Blush & Bloom Manager"})]}),i&&C.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm flex items-center gap-2",children:[C.jsx(xL,{size:16}),i]}),C.jsxs("form",{onSubmit:d,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),C.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 focus:ring-2 focus:ring-primary-blue outline-none transition-all",value:t,onChange:m=>e(m.target.value)})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),C.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 focus:ring-2 focus:ring-primary-blue outline-none transition-all",value:n,onChange:m=>r(m.target.value)})]}),C.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary-blue hover:bg-blue-700 text-white font-bold rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})]})]}),C.jsx("p",{className:"mt-8 text-center text-gray-500 text-sm",children:"Note: This is a private business app."})]})},Eye=({children:t})=>{const{user:e,loading:n}=_ye();return n?null:e?t:C.jsx(hL,{to:"/login",replace:!0})};function Sye(){return C.jsx(_8,{children:C.jsx(wye,{children:C.jsx(f8,{children:C.jsxs(qF,{children:[C.jsx(ts,{path:"/login",element:C.jsx(xye,{})}),C.jsxs(ts,{path:"/",element:C.jsx(Eye,{children:C.jsx(p$,{})}),children:[C.jsx(ts,{index:!0,element:C.jsx(aye,{})}),C.jsx(ts,{path:"inventory",element:C.jsx(lye,{})}),C.jsx(ts,{path:"sales",element:C.jsx(fye,{})}),C.jsx(ts,{path:"currentexpense",element:C.jsx(vye,{})}),C.jsx(ts,{path:"reports",element:C.jsx(bye,{})}),C.jsx(ts,{path:"settings",element:C.jsx(gye,{})}),C.jsx(ts,{path:"*",element:C.jsx(hL,{to:"/",replace:!0})})]})]})})})})}Gq.createRoot(document.getElementById("root")).render(C.jsx(E.StrictMode,{children:C.jsx(Sye,{})}));
